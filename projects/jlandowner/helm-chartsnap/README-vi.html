<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>helm-chartsnap - Read helm-chartsnap documentation in Vietnamese. This project has 0 stars on GitHub.</title>
    <meta name="description" content="Read helm-chartsnap documentation in Vietnamese. This project has 0 stars on GitHub.">
    <meta name="keywords" content="helm-chartsnap, Vietnamese, documentation, GitHub, open source">
    <meta name="author" content="OpenAiTx">
    <meta name="robots" content="index, follow">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "helm-chartsnap",
  "description": "Read helm-chartsnap documentation in Vietnamese. This project has 0 stars on GitHub.",
  "author": {
    "@type": "Person",
    "name": "jlandowner"
  },
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "ratingCount": 0
  },
  "url": "https://OpenAiTx.github.io/projects/jlandowner/helm-chartsnap/README-vi.html",
  "sameAs": "https://raw.githubusercontent.com/jlandowner/helm-chartsnap/master/README.md",
  "datePublished": "2025-09-16",
  "dateModified": "2025-09-16"
}
    </script>
    
    <!-- GitHub-style CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #24292e;
            background-color: #ffffff;
            max-width: 980px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .container {
            background: #ffffff;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .header {
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        
        .project-title {
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .project-title a {
            color: #24292e;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color 0.2s ease;
        }
        
        .project-title a:hover {
            color: #0366d6;
            text-decoration: none;
        }
        
        .project-title .github-icon {
            width: 1em;
            height: 1em;
            fill: currentColor;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .project-title a:hover .github-icon {
            opacity: 1;
        }
        
        .project-meta {
            color: #586069;
            font-size: 14px;
            margin-bottom: 16px;
        }
        
        .stars {
            display: inline-block;
            margin-right: 16px;
        }
        
        .language {
            display: inline-block;
            background-color: #f1f8ff;
            color: #0366d6;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .content {
            font-size: 16px;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            color: #24292e;
        }
        
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        
        p {
            margin-bottom: 16px;
        }
        
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        
        a {
            color: #0366d6;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        ul, ol {
            margin-bottom: 16px;
            padding-left: 2em;
        }
        
        li {
            margin-bottom: 0.25em;
        }
        
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 1em;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e1e4e8;
            color: #586069;
            font-size: 14px;
            text-align: center;
        }
        
        .footer a {
            color: #0366d6;
        }
        
        .original-link {
            margin-top: 16px;
            padding: 12px;
            background-color: #f6f8fa;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 16px;
            }
            
            .project-title {
                font-size: 1.5em;
            }
        }
    </style>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Bing Count -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sh95yd6uwt");
    </script>        

    <!-- Statcounter -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="project-title">
                <a href="https://github.com/jlandowner/helm-chartsnap" target="_blank" rel="noopener noreferrer">
                    <svg class="github-icon" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                    </svg>
                    helm-chartsnap
                </a>
            </h1>
            <div class="project-meta">
                <span class="stars">⭐ 0 stars</span>
                <span class="language">Vietnamese</span>
                <span>by jlandowner</span>
            </div>
        </div>
        
        <div class="content">
            <h1>helm-chartsnap 📸 </h1>
<a href="https://pkg.go.dev/github.com/jlandowner/helm-chartsnap" target="_blank" rel="noopener noreferrer"><img src="https://pkg.go.dev/badge/github.com/jlandowner/helm-chartsnap.svg" alt="Go Reference"></a>
<a href="https://goreportcard.com/report/github.com/jlandowner/helm-chartsnap" target="_blank" rel="noopener noreferrer"><img src="https://goreportcard.com/badge/github.com/jlandowner/helm-chartsnap" alt="Go Report Card"></a>
<a href="https://codecov.io/gh/jlandowner/helm-chartsnap" target="_blank" rel="noopener noreferrer"><img src="https://codecov.io/gh/jlandowner/helm-chartsnap/graph/badge.svg?token=8ARG53CRL7" alt="codecov"></a>
<a href="https://github.com/jlandowner/helm-chartsnap/actions/workflows/release.yaml" target="_blank" rel="noopener noreferrer"><img src="https://github.com/jlandowner/helm-chartsnap/actions/workflows/release.yaml/badge.svg" alt="Workflow Status"></a>
<a href="https://github.com/jlandowner/helm-chartsnap/actions/workflows/ci.yaml" target="_blank" rel="noopener noreferrer"><img src="https://github.com/jlandowner/helm-chartsnap/actions/workflows/ci.yaml/badge.svg" alt="CI"></a>
<a href="https://github.com/marketplace/actions/helm-chartsnap-action" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/Marketplace-Helm%20chartsnap%20action-blue.svg?colorA=24292e&colorB=0366d6&style=flat&longCache=true&logo=github" alt="GitHub Marketplace"></a></p><p>Công cụ kiểm thử snapshot cho Helm charts.</p><p>Mang lại khả năng kiểm thử UI mạnh mẽ cho Helm chart với cấu hình tối thiểu chỉ trong tệp <code>values.yaml</code>. </p><p><img src="https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/docs/screenshot.png" alt="screenshot"></p><h2>Tổng quan</h2>
<ul><li><a href="#tính-năng-" target="_blank" rel="noopener noreferrer">Tính năng 🔑</a></li>
<li><a href="#tại-sao-kiểm-thử-snapshot-" target="_blank" rel="noopener noreferrer">Tại sao kiểm thử Snapshot? 📸</a></li>
  <li><a href="#động-lực" target="_blank" rel="noopener noreferrer">Động lực</a></li>
<li><a href="#cài-đặt-" target="_blank" rel="noopener noreferrer">Cài đặt 🚀</a></li>
<li><a href="#sử-dụng" target="_blank" rel="noopener noreferrer">Sử dụng</a></li>
  <li><a href="#xử-lý-giá-trị-động-" target="_blank" rel="noopener noreferrer">Xử lý giá trị động 💪</a></li>
<li><a href="#trình-diễn--người-dùng-" target="_blank" rel="noopener noreferrer">Trình diễn & Người dùng ✨</a></li></p><p>
</ul><h2>Tính năng 🔑</h2></p><ul><li><strong>Kiểm thử Snapshot dễ dàng & trực quan cho các nhà phát triển Helm</strong></li>
  
  <li><strong>Không cần định dạng TestSuite riêng cho công cụ</strong>: Không giống một số công cụ yêu cầu tạo các TestSuite riêng biệt với định dạng tệp tùy chỉnh, công cụ này không yêu cầu thêm bất kỳ định dạng tệp nào. Thay vào đó, bạn có thể chuẩn bị các biến thể của tệp <code>values.yaml</code> chuẩn cho mỗi trường hợp kiểm thử. Điều này loại bỏ việc phải học các định dạng mới và đơn giản hóa kiểm thử.</li></p><p><li><strong>Tối ưu cho Helm chart</strong></li></p><p>  <li><strong>Xử lý đầu ra động được tạo bởi các hàm helm</strong>: Bạn có thể chỉ định các thuộc tính bổ sung trong tệp values.yaml cho mỗi trường hợp kiểm thử để linh hoạt điều chỉnh hành vi kiểm thử. Ví dụ, bạn có thể kiểm soát đầu ra được sinh động bởi các hàm helm như <a href="https://helm.sh/docs/chart_template_guide/function_list/" target="_blank" rel="noopener noreferrer">randAlphaNum</a>.</li></p><p><li><strong>Kiểm thử Snapshot liên tục</strong></li></p><p>  <li><strong><a href="https://github.com/jlandowner/helm-chartsnap-action" target="_blank" rel="noopener noreferrer">GitHub Action</a> đã sẵn sàng</strong>: Đã có GitHub action cho phép kiểm thử snapshot liên tục cho các Helm chart cục bộ hoặc từ xa trong CI của bạn 🚀 -> <a href="https://github.com/jlandowner/helm-chartsnap-action" target="_blank" rel="noopener noreferrer"><code>helm-chart-action</code></a></li></p><p></ul><h2>Tại sao kiểm thử Snapshot? 📸</h2></p><p>Tôi tin rằng kiểm thử snapshot, một phương pháp kiểm thử phổ biến trong kiểm thử Web hoặc UI với các công cụ như Jest, là cách tốt nhất để kiểm thử Helm chart. Kiểm thử snapshot mang lại nhiều lợi ích:</p><ul><li><strong>So sánh trực quan:</strong> Kiểm thử snapshot tạo ra đầu ra nền tảng (baseline) và so sánh với kết quả kiểm thử sau đó. Điều này cho phép dễ dàng kiểm tra trực quan các thay đổi và hồi quy trong việc render Helm chart.</li></p><p><li><strong>Tăng khả năng bảo trì:</strong> Kiểm thử snapshot đơn giản hóa quá trình thiết lập kiểm thử, giúp dễ tiếp cận và bảo trì hơn, đặc biệt khi làm việc với các Helm chart phức tạp. Đầu vào cho Helm chart là sự kết hợp các giá trị. Chúng ta chỉ cần duy trì các tổ hợp đầu vào giả định(=values.yaml) và các snapshot của chúng.</li></p><p><li><strong>Kiểm thử liên tục:</strong> Bằng cách liên tục chụp snapshot của Helm chart trong quá trình CI, bạn có thể nhanh chóng nhận thấy các thay đổi của toàn bộ chart và tránh được các hồi quy.</li></p><p></ul>Những lợi ích này không chỉ giới hạn với Helm chart bạn tự tạo, mà còn áp dụng cho các chart bên thứ ba bạn đã cài đặt trên Kubernetes nếu bạn là quản trị viên Kubernetes. Khi nâng cấp cụm, bạn có thể nhận ra bất kỳ thay đổi nào trong manifest đầu ra được tạo bởi các <em>values</em> của bạn, dù là nhỏ nhất.</p><h3>Động lực</h3></p><p>Có những công cụ kiểm thử Helm hiện có hỗ trợ kiểm thử snapshot.
<ul><li><a href="https://github.com/helm-unittest/helm-unittest" target="_blank" rel="noopener noreferrer">helm-unittest</a>, một công cụ kiểm thử đơn vị phổ biến, có tùy chọn <a href="https://github.com/helm-unittest/helm-unittest#snapshot-testing" target="_blank" rel="noopener noreferrer">kiểm thử snapshot</a>.</li>
<li><a href="https://terratest.gruntwork.io/" target="_blank" rel="noopener noreferrer">terratest</a>, kiểm thử tự động cho mã hạ tầng của bạn. Có thể viết kiểm thử dưới dạng mã Go và có tính năng kiểm thử đầu ra của Helm. <a href="https://blog.gruntwork.io/automated-testing-for-kubernetes-and-helm-charts-using-terratest-a4ddc4e67344" target="_blank" rel="noopener noreferrer">bài viết</a></li></p><p></ul>> Công cụ kiểm thử chính thức của Helm <a href="https://github.com/helm/chart-testing" target="_blank" rel="noopener noreferrer"><code>ct</code></a> không dùng cho kiểm thử đơn vị hoặc snapshot mà cho lint và kiểm thử tích hợp</p><p>Mặc dù đây là những công cụ giá trị cho kiểm thử Helm chart, chúng có một số hạn chế nhất định đối với kiểm thử snapshot.</p><ul><li>Bạn cần học và chuẩn bị các tệp Test Suite của công cụ, ngay cả chỉ để kiểm thử snapshot.</li></p><p><li>Không snapshot toàn bộ chart theo mặc định, mà được thiết kế kiểm thử trên từng tệp trong Helm chart.</li></p><p><li>Không xem xét các đầu ra động của hàm Helm.</li></p><p></ul>helm-unittest được thiết kế để kiểm thử trên từng tệp trong Helm chart. Điều này có nghĩa là nó đánh giá từng tệp độc lập, và khi các giá trị hoặc điều kiện của Helm chart dẫn đến việc một tệp được bao gồm hoặc loại trừ một cách có điều kiện, có thể khiến kiểm thử không bao phủ được các kịch bản quan trọng.</p><p>Dưới đây là ví dụ về tệp test spec cho kiểm thử snapshot trong helm-unittest.</p><blockquote>https://github.com/helm-unittest/helm-unittest#snapshot-testing</blockquote>
<blockquote></blockquote>
<blockquote><pre><code class="language-yaml">> templates:</blockquote>
<blockquote>  - templates/deployment.yaml</blockquote>
<blockquote>tests:</blockquote>
<blockquote>  - it: pod spec should match snapshot</blockquote>
<blockquote>    asserts:</blockquote>
<blockquote>      - matchSnapshot:</blockquote>
<blockquote>          path: spec.template.spec</blockquote>
<blockquote>  # hoặc bạn có thể snapshot toàn bộ manifest</blockquote>
<blockquote>  - it: manifest should match snapshot</blockquote>
<blockquote>    asserts:</blockquote>
<blockquote>      - matchSnapshot: {}</blockquote>
<blockquote>``<code></blockquote></p><p>Ví dụ, hãy xem xét một kịch bản mà Helm chart có thể tạo resource </code>Certificate<code> của </code>cert-manager<code> khi cả TLS và cert-manager đều được bật, nhưng tạo resource Secret TLS tự ký bằng hàm helm <a href="https://helm.sh/docs/chart_template_guide/function_list/#genselfsignedcert" target="_blank" rel="noopener noreferrer"></code>genSelfSignedCert<code></a> khi cert-manager không được bật. Ngoài ra, việc bật hoặc tắt TLS còn ảnh hưởng đến thuộc tính TLS của Ingress, tùy chọn TLS đặc thù của Deployment, v.v.</p><p>Trong các trường hợp này, helm-unittest có thể không kiểm thử đầy đủ hành vi của toàn bộ chart, vì đầu ra của các tệp điều kiện này có thể rỗng, dẫn đến kiểm thử không đầy đủ.</p><p>Tuy nhiên, tất cả những gì bạn cần làm với </code>helm-chartsnap<code> chỉ là chuẩn bị một số tệp </code>values.yaml<code> cho các mẫu bạn mong đợi 😊</p><h2>Cài đặt 🚀</h2></p><p>Bạn có thể cài đặt như một plugin của Helm.
</code></pre>sh
helm plugin install https://github.com/jlandowner/helm-chartsnap
<pre><code class="language-">
Các tùy chọn khác:</p><ul><li>Cài đặt qua Go</li></p><p>  </ul></code>`<code>sh
  go install github.com/jlandowner/helm-chartsnap@latest
  </code>`<code></p><ul><li><a href="https://github.com/jlandowner/helm-chartsnap/releases" target="_blank" rel="noopener noreferrer">Tải bản phát hành nhị phân</a></li></p><p></ul><h2>Sử dụng</h2></p><p>Chỉ cần truyền chart của bạn để bắt đầu nhanh.
</code></pre>
helm chartsnap -c YOUR_CHART
<pre><code class="language-">
Thư mục </code>__snapshot__<code> sẽ được tạo trong thư mục chart và </code>default.snap<code> được tạo ra.</p><p>Ngoài ra, bạn có thể tạo các trường hợp kiểm thử dưới dạng biến thể của các tệp Values của chart.</p><p>Đây là cách sử dụng đầy đủ của lệnh.
</code></pre>sh
Usage:
  chartsnap -c CHART [flags]</p><p>Examples:</p><p>  # Snapshot với giá trị mặc định:
  chartsnap -c YOUR_CHART
  
  # Cập nhật tệp snapshot:
  chartsnap -c YOUR_CHART -u</p><p>  # Snapshot với giá trị kiểm thử:
  chartsnap -c YOUR_CHART -f YOUR_TEST_VALUES_FILE
  
  # Snapshot tất cả trường hợp kiểm thử:
  chartsnap -c YOUR_CHART -f YOUR_TEST_VALUES_FILES_DIRECTOY
  
  # Thêm tham số hoặc cờ bổ sung cho lệnh 'helm template':
  chartsnap -c YOUR_CHART -f YOUR_TEST_VALUES_FILE -- --skip-tests</p><p>  # Snapshot chart từ xa trong Helm repository:
  chartsnap -c CHART_NAME -f YOUR_VALUES_FILE -- --repo HELM_REPO_URL</p><p>  # Snapshot ingress-nginx (https://kubernetes.github.io/ingress-nginx/) chart phiên bản cụ thể với tệp value của bạn:
  chartsnap -c ingress-nginx -f YOUR_VALUES_FILE -- --repo https://kubernetes.github.io/ingress-nginx --namespace kube-system --version 4.8.3</p><p>  # Snapshot cilium (https://cilium.io) chart với giá trị mặc định và đặt flags:
  chartsnap -c cilium -- --repo https://helm.cilium.io --namespace kube-system --set hubble.relay.enabled=true --set hubble.ui.enabled=true</p><p>  # Snapshot chart trong registry OCI
  chartsnap -c oci://ghcr.io/nginxinc/charts/nginx-gateway-fabric -n nginx-gateway</p><p>  # Xuất đầu ra không màu:
  NO_COLOR=1 chartsnap -c YOUR_CHART</p><p>Flags:
  -c, --chart string              đường dẫn tới thư mục chart. cờ này được truyền tới 'helm template RELEASE_NAME CHART --values VALUES' dưới dạng 'CHART'
      --config-file string        tên tệp cấu hình hoặc đường dẫn, định nghĩa hành vi snapshot, ví dụ trường động (mặc định ".chartsnap.yaml")
  -N, --ctx-lines int             số dòng hiển thị trong đầu ra diff. 0 để hiển thị toàn bộ (mặc định 3)
      --debug                     chế độ debug
      --fail-helm-error           thất bại nếu lệnh 'helm template' thất bại
      --failfast                  thất bại ngay khi bất kỳ trường hợp kiểm thử nào thất bại
  -h, --help                      trợ giúp cho chartsnap
  -n, --namespace string          namespace. cờ này được truyền tới 'helm template RELEASE_NAME CHART --values VALUES --namespace NAMESPACE' dưới dạng 'NAMESPACE' (mặc định "default")
  -o, --output-dir string         thư mục nơi thư mục __snapshot__ được tạo. (mặc định: thư mục tệp values nếu --values được đặt; thư mục chart nếu chart là cục bộ; nếu không là thư mục hiện tại)
      --parallelism int           số kiểm thử đồng thời nếu chụp nhiều snapshot cho thư mục tệp value kiểm thử. mặc định là không giới hạn (mặc định -1)
      --release-name string       tên release. cờ này được truyền tới 'helm template RELEASE_NAME CHART --values VALUES' dưới dạng 'RELEASE_NAME' (mặc định "chartsnap")
      --snapshot-version string   sử dụng định dạng snapshot phiên bản cụ thể. hỗ trợ v1, v2, v3. (mặc định: mới nhất)
  -u, --update-snapshot           chế độ cập nhật snapshot
  -f, --values string             đường dẫn đến tệp value kiểm thử hoặc thư mục. nếu là thư mục, tất cả tệp kiểm thử sẽ được kiểm thử. nếu để trống, sử dụng giá trị mặc định. cờ này được truyền tới 'helm template RELEASE_NAME CHART --values VALUES' dưới dạng 'VALUES'
  -v, --version                   phiên bản của chartsnap</p><pre><code class="language-">
<h3>Xử lý giá trị động 💪</h3></p><p>Helm có một tính năng gọi là "Helm functions" để tạo ra các giá trị ngẫu nhiên hoặc chứng chỉ tự ký như <a href="https://helm.sh/docs/chart_template_guide/function_list/#randalphanum-randalpha-randnumeric-and-randascii" target="_blank" rel="noopener noreferrer"></code>randAlphaNum<code></a> và <a href="https://helm.sh/docs/chart_template_guide/function_list/#cryptographic-and-security-functions" target="_blank" rel="noopener noreferrer"></code>genCA<code>, </code>genPrivateKey<code>, </code>genSelfSignedCert<code></a></p><p>Khi sử dụng các hàm này, đầu ra sẽ thay đổi mỗi lần Helm được thực thi.
Đối với trường hợp này, chartsnap có tính năng ngăn các snapshot không khớp bằng cách thay thế chúng bằng giá trị cố định, </code>###DYNAMIC_FIELD###<code>.</p><p>Bạn có thể chỉ định các đường dẫn giá trị động trong YAML sinh ra bằng <a href="https://datatracker.ietf.org/doc/html/rfc6901" target="_blank" rel="noopener noreferrer">JSONPath</a>.
</code></pre>yaml:.chartsnap.yaml
dynamicFields:
  <ul><li>apiVersion: v1</li>
    </ul>kind: Secret
    name: cosmo-auth-env
    jsonPath:
      <ul><li>/data/COOKIE_HASHKEY</li>
      <li>/data/COOKIE_BLOCKKEY</li>
      <li>/data/COOKIE_HASHKEY</li>
      <li>/data/COOKIE_SESSION_NAME</li>
    </ul>base64: true
<pre><code class="language-">
<blockquote>LƯU Ý:</blockquote>
<blockquote>Trong JSONPath, việc escape ký tự / được ghi trong <a href="https://datatracker.ietf.org/doc/html/rfc6901#section-3" target="_blank" rel="noopener noreferrer">RFC6901, mục 3</a></blockquote>
<blockquote></code>`<code></blockquote>
<blockquote>   Vì các ký tự '~' (%x7E) và '/' (%x2F) có ý nghĩa đặc biệt trong JSON Pointer,</blockquote>
<blockquote>   '~' cần được mã hóa thành '~0' và '/' thành '~1' khi xuất hiện trong token tham chiếu.</blockquote>
<blockquote></code>`<code></blockquote>
>
<blockquote>Vì vậy nếu bạn xử lý manifest như sau, bạn cần chỉ định json path là </code>/metadata/annotaions/checksum~1values<code>.</blockquote>
<blockquote></blockquote>
<blockquote></code>`<code>yaml</blockquote>
<blockquote>metadata:</blockquote>
<blockquote>  annotations:</blockquote>
<blockquote>    checksum/values: RANDOM_VALUES</blockquote>
<blockquote></code>`<code></blockquote></p><p>Nếu bạn có một thư mục tệp value kiểm thử, hãy đặt tệp </code>.chartsnap.yaml<code> trong thư mục đó. Đây là hành vi chung cho mọi kiểm thử snapshot trong thư mục.</p><p>Để xem thêm ví dụ, hãy tham khảo <a href="https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/example/app1" target="_blank" rel="noopener noreferrer">example/app1</a>.</p><p>Ngoài ra, bạn có thể thêm trực tiếp cấu hình vào tệp value kiểm thử dưới dạng thuộc tính </code>testSpec<code>.
Khi đó, bạn không cần chuẩn bị </code>.chartsnap.yaml<code>. Thích hợp cho việc chụp snapshot chart từ xa hoặc bên thứ ba với chỉ một tệp value.</p><p>Tệp value của bạn có thể như sau:
</code></pre>yaml
<h1>Thêm thuộc tính này vào value của bạn.</h1>
testSpec:
  dynamicFields:
    <ul><li>apiVersion: v1</li>
      </ul>kind: Secret
      name: cilium-ca
      jsonPath:
        <ul><li>/data/ca.crt</li>
        <li>/data/ca.key</li>
      </ul>base64: true
    <ul><li>apiVersion: v1</li>
      </ul>kind: Secret
      name: hubble-server-certs
      jsonPath:
        <ul><li>/data/ca.crt</li>
        <li>/data/tls.crt</li>
        <li>/data/tls.key</li>
      </ul>base64: true
    <ul><li>apiVersion: v1</li>
      </ul>kind: Secret
      name: hubble-relay-client-certs
      jsonPath:
        <ul><li>/data/ca.crt</li>
        <li>/data/tls.crt</li>
        <li>/data/tls.key</li>
      </ul>base64: true</p><h1>Các phần khác là bất kỳ giá trị nào của chart bạn.</h1>
<h1>...</h1>
</code>`<code></p><p>Để xem thêm ví dụ, hãy tham khảo <a href="https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/example/remote" target="_blank" rel="noopener noreferrer">example/remote</a>.</p><h2>Trình diễn & Người dùng ✨</h2></p><p>| Người dùng / Dự án | Mô tả | URL |
|:---|:---|:---|
| Example | Chart ví dụ được tạo bởi lệnh </code>helm create<code> | <a href="https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/example/app1" target="_blank" rel="noopener noreferrer"></code>example/app1<code></a> |
| Example | Ví dụ về snapshot chart trong Helm repo từ xa | <a href="https://raw.githubusercontent.com/jlandowner/helm-chartsnap/main/example/remote" target="_blank" rel="noopener noreferrer"></code>example/remote`</a> |
| <a href="https://github.com/jlandowner/helm-chartsnap-action" target="_blank" rel="noopener noreferrer">helm-chartsnap-action</a> | GitHub action dùng helm chartsnap trong CI | https://github.com/jlandowner/helm-chartsnap-action |
| <a href="https://github.com/cosmo-workspace/cosmo" target="_blank" rel="noopener noreferrer">cosmo-workspace</a> | Nền tảng WebIDE & DevEnvironment mã nguồn mở trên Kubernetes | https://github.com/cosmo-workspace/cosmo/tree/main/charts/cosmo/test |
| <a href="https://github.com/Kong/kong" target="_blank" rel="noopener noreferrer">Kong</a> | 🦍 Cổng API Cloud-Native và AI Gateway. | https://github.com/Kong/charts |</p><p>

---

Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">Open Ai Tx</a> | Last indexed: 2025-06-07

---</p>
        </div>
        
        <div class="original-link">
            <strong>Original README:</strong> <a href="https://raw.githubusercontent.com/jlandowner/helm-chartsnap/master/README.md" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
    </div>
    
    <div class="footer">
        <p>Translated by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">OpenAiTx</a> | 
        Last updated: 2025-09-16 
    </div>
    
</body>
</html>