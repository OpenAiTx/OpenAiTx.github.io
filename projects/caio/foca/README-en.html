<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>foca - Mirror of https://caio.co/de/foca/</title>
    <meta name="description" content="Mirror of https://caio.co/de/foca/">
    <meta name="keywords" content="foca, English, documentation, GitHub, open source">
    <meta name="author" content="OpenAiTx">
    <meta name="robots" content="index, follow">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "foca",
  "description": "Mirror of https://caio.co/de/foca/",
  "author": {
    "@type": "Person",
    "name": "caio"
  },
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "ratingCount": 181
  },
  "url": "https://OpenAiTx.github.io/projects/caio/foca/README-en.html",
  "sameAs": "https://raw.githubusercontent.com/caio/foca/main/README.md",
  "datePublished": "2025-09-16",
  "dateModified": "2025-09-16"
}
    </script>
    
    <!-- GitHub-style CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #24292e;
            background-color: #ffffff;
            max-width: 980px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .container {
            background: #ffffff;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .header {
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        
        .project-title {
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .project-title a {
            color: #24292e;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color 0.2s ease;
        }
        
        .project-title a:hover {
            color: #0366d6;
            text-decoration: none;
        }
        
        .project-title .github-icon {
            width: 1em;
            height: 1em;
            fill: currentColor;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .project-title a:hover .github-icon {
            opacity: 1;
        }
        
        .project-meta {
            color: #586069;
            font-size: 14px;
            margin-bottom: 16px;
        }
        
        .stars {
            display: inline-block;
            margin-right: 16px;
        }
        
        .language {
            display: inline-block;
            background-color: #f1f8ff;
            color: #0366d6;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .content {
            font-size: 16px;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            color: #24292e;
        }
        
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        
        p {
            margin-bottom: 16px;
        }
        
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        
        a {
            color: #0366d6;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        ul, ol {
            margin-bottom: 16px;
            padding-left: 2em;
        }
        
        li {
            margin-bottom: 0.25em;
        }
        
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 1em;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e1e4e8;
            color: #586069;
            font-size: 14px;
            text-align: center;
        }
        
        .footer a {
            color: #0366d6;
        }
        
        .original-link {
            margin-top: 16px;
            padding: 12px;
            background-color: #f6f8fa;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 16px;
            }
            
            .project-title {
                font-size: 1.5em;
            }
        }
    </style>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Bing Count -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sh95yd6uwt");
    </script>        

    <!-- Statcounter -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="project-title">
                <a href="https://github.com/caio/foca" target="_blank" rel="noopener noreferrer">
                    <svg class="github-icon" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                    </svg>
                    foca
                </a>
            </h1>
            <div class="project-meta">
                <span class="stars">⭐ 181 stars</span>
                <span class="language">English</span>
                <span>by caio</span>
            </div>
        </div>
        
        <div class="content">
            <h1>Foca: Cluster membership discovery on your terms</h1></p><p>Foca is a building block for your gossip-based cluster discovery. It's  
a small <code>no_std</code> + <code>alloc</code> crate that implements the SWIM protocol along  
with its useful extensions (<code>SWIM+Inf.+Susp.</code>).  </p><p>Project:  </p><ul><li>Git Repository: https://caio.co/de/foca/  </li>
<li>Issue tracker: https://github.com/caio/foca/issues  </li>
<li>CI: https://github.com/caio/foca/actions/workflows/ci.yml  </li>
<li>Packages: https://crates.io/crates/foca  </li>
<li>Documentation: https://docs.rs/foca  </li></p><p></ul><h1>Introduction  </h1></p><p>The most notable thing about Foca is the fact that it does almost  
nothing. Out of the box, all it gives is a reliable and efficient  
implementation of the [SWIM protocol][1] that's transport and  
identity agnostic.  </p><p>Knowledge of how SWIM works is helpful but not necessary to make use  
of this library. Reading the documentation for the <code>Message</code> enum  
should give you an idea of how the protocol works, but the paper is  
a very accessible read.  </p><p>Foca is designed to fit into any sort of transport: If your network  
allows peers to talk to each other you can deploy Foca on it.  
Not only the general bandwidth requirements are low, but you also  
have full control of how members identify each other (see  
<code>./examples/identity_golf.rs</code>) and how messages are encoded.  </p><h1>Usage  </h1></p><p>Please take a look at <code>./examples/foca_insecure_udp_agent.rs</code>. It  
showcases how a simple tokio-based agent could look like and lets  
you actually run and see Foca swimming.</p><p>~~~
$ cargo run --features std,tracing,bincode-codec --example foca_insecure_udp_agent -- --help
foca_insecure_udp_agent </p><p>USAGE:
    foca_insecure_udp_agent [OPTIONS] <BIND_ADDR></p><p>FLAGS:
    -h, --help       Prints help information
    -V, --version    Prints version information</p><p>OPTIONS:
    -a, --announce <announce>    Address to another Foca instance to join with
    -f, --filename <filename>    Name of the file that will contain all active members
    -i, --identity <identity>    The address cluster members will use to talk to you.
                                 Defaults to BIND_ADDR</p><p>ARGS:
    <BIND_ADDR>    Socket address to bind to. Example: 127.0.0.1:8080
~~~</p><p>So you can start the agent in one terminal with
<code>./foca_insecure_udp_agent 127.0.0.1:8000</code> and join it with as many others
as you want with using a different <code>BIND_ADDR</code> and <code>--announce</code> to a
running instance. Example:
<code>./foca_insecure_udp_agent 127.0.0.1:8001 -a 127.0.0.1:8000</code>.</p><p>The agent outputs some information to the console via [tracing][]'s
subscriber. It defaults to the <code>INFO</code> log level and can be customized
via the <code>RUST_LOG</code> environment variable using [tracing_subscriber's
EnvFilter directives][dir].</p><h2>Cargo Features</h2></p><p>Every feature is optional. The <code>default</code> set will always be empty.</p><p><em> <code>std</code>: Implements <code>foca::Identity</code> for <code>std::net::SocketAddr</em></code> and
  exposes <code>Config::new_lan</code> and <code>Config::new_wan</code>
<ul><li><code>tracing</code>: Instruments Foca using the [tracing][] crate. High-level</li>
  </ul>protocol interactions are emitted as <code>DEBUG</code> traces, more details can
  be exposed with the <code>TRACE</code> level. No other levels are emitted.
<ul><li><code>serde</code>: Derives <code>Serialize</code> and <code>Deserialize</code> for Foca's public</li>
  </ul>types.
<ul><li><code>bincode-codec</code>: Provides <code>BincodeCodec</code>, a serde-based codec type</li>
  </ul>that uses [bincode][] under the hood.
<ul><li><code>postcard-codec</code>: Provides <code>PostcardCodec</code> a serde-based, <code>no_std</code></li>
  </ul>friendly codec that uses [postcard][] under the hood.
<ul><li><code>unstable-notifications</code>: Provides new notifications that allow</li>
  </ul>inspecting messages being sent and received</p><h1>Notes</h1></p><p>When writing this library, the main goal was having a simple and small
core that's easy to test, simulate and reason about; It was mostly
about getting a better understanding of the protocol after reading
the paper.</p><p>Sticking to these goals naturally led to an implementation that doesn't
rely on many operating system features like a hardware clock, atomics
and threads, so becoming a <code>no_std</code> crate (albeit still requiring heap
allocations) was kind of a nice accidental feature that I decided to
commit to.</p><h2>Comparison to memberlist</h2></p><p>I avoided looking at [memberlist][2] until I was satisfied with my
own implementation. Since then I did take a non-thorough look at it:</p><ul><li>memberlist supports custom broadcasts, which is a very cool feature</li>
  </ul>for complex service discovery scenarios, so now Foca has support
  for disseminating user data too (see <code>BroadcastHandler</code>
  documentation) :-)</p><ul><li>It has a stream-based synchronization mechanism (push-pull) that's</li>
  </ul>used for joining and periodic merging state between members: It's
  way beyond Foca's responsibilities, but it's a very interesting idea,
  so I've exposed the <code>Foca::apply_many</code> method which enables code
  using Foca to do a similar thing if desired.</p><ul><li>Its configuration parameters change based on (current) cluster</li>
  </ul>size. Users can make use of <code>Config::new_{lan,wan}</code> along with
  <code>Foca::set_config</code> to achieve the same</p><h1>References</h1></p><ul><li>The paper [SWIM: Scalable Weakly-consistent Infection-style Process Group Membership</li>
</ul>Protocol][1]
<ul><li>HashiCorp's [memberlist][2]</li></p><p></ul>[1]: https://www.cs.cornell.edu/projects/Quicksilver/public_pdfs/SWIM.pdf
[2]: https://github.com/hashicorp/memberlist
[bincode]: https://github.com/bincode-org/bincode
[postcard]: https://github.com/jamesmunns/postcard
[tracing]: https://docs.rs/tracing/latest/tracing/
[dir]: https://docs.rs/tracing-subscriber/0.3.17/tracing_subscriber/filter/struct.EnvFilter.html#directives</p><h1>License</h1></p><p>Unless explicitly stated otherwise, all work is subject to the terms
of the Mozilla Public License, version 2.0.</p><p>Files inside the <code>examples/</code> directory are dedicated to the Public
Domain.</p><p>
---

Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">Open Ai Tx</a> | Last indexed: 2025-09-07

---</p>
        </div>
        
        <div class="original-link">
            <strong>Original README:</strong> <a href="https://raw.githubusercontent.com/caio/foca/main/README.md" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
    </div>
    
    <div class="footer">
        <p>Translated by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">OpenAiTx</a> | 
        Last updated: 2025-09-16 
    </div>
    
</body>
</html>