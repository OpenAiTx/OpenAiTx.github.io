<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>oci2git - بررسی تصاویر داکر به آسانی استفاده از گیت</title>
    <meta name="description" content="بررسی تصاویر داکر به آسانی استفاده از گیت">
    <meta name="keywords" content="oci2git, Persian, documentation, GitHub, open source">
    <meta name="author" content="OpenAiTx">
    <meta name="robots" content="index, follow">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "oci2git",
  "description": "بررسی تصاویر داکر به آسانی استفاده از گیت",
  "author": {
    "@type": "Person",
    "name": "Virviil"
  },
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "ratingCount": 353
  },
  "url": "https://OpenAiTx.github.io/projects/Virviil/oci2git/README-fa.html",
  "sameAs": "https://raw.githubusercontent.com/Virviil/oci2git/main/README.md",
  "datePublished": "2025-09-16",
  "dateModified": "2025-09-16"
}
    </script>
    
    <!-- GitHub-style CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #24292e;
            background-color: #ffffff;
            max-width: 980px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .container {
            background: #ffffff;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .header {
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        
        .project-title {
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .project-title a {
            color: #24292e;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color 0.2s ease;
        }
        
        .project-title a:hover {
            color: #0366d6;
            text-decoration: none;
        }
        
        .project-title .github-icon {
            width: 1em;
            height: 1em;
            fill: currentColor;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .project-title a:hover .github-icon {
            opacity: 1;
        }
        
        .project-meta {
            color: #586069;
            font-size: 14px;
            margin-bottom: 16px;
        }
        
        .stars {
            display: inline-block;
            margin-right: 16px;
        }
        
        .language {
            display: inline-block;
            background-color: #f1f8ff;
            color: #0366d6;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .content {
            font-size: 16px;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            color: #24292e;
        }
        
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        
        p {
            margin-bottom: 16px;
        }
        
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        
        a {
            color: #0366d6;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        ul, ol {
            margin-bottom: 16px;
            padding-left: 2em;
        }
        
        li {
            margin-bottom: 0.25em;
        }
        
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 1em;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e1e4e8;
            color: #586069;
            font-size: 14px;
            text-align: center;
        }
        
        .footer a {
            color: #0366d6;
        }
        
        .original-link {
            margin-top: 16px;
            padding: 12px;
            background-color: #f6f8fa;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 16px;
            }
            
            .project-title {
                font-size: 1.5em;
            }
        }
    </style>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Bing Count -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sh95yd6uwt");
    </script>        

    <!-- Statcounter -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="project-title">
                <a href="https://github.com/Virviil/oci2git" target="_blank" rel="noopener noreferrer">
                    <svg class="github-icon" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                    </svg>
                    oci2git
                </a>
            </h1>
            <div class="project-meta">
                <span class="stars">⭐ 353 stars</span>
                <span class="language">Persian</span>
                <span>by Virviil</span>
            </div>
        </div>
        
        <div class="content">
            <p>
<div align="right">
  <details>
    <summary >🌐 زبان</summary>
    <div>
      <div align="center">
        <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=en">English</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=zh-CN">简体中文</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=zh-TW">繁體中文</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=ja">日本語</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=ko">한국어</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=hi">हिन्दी</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=th">ไทย</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=fr">Français</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=de">Deutsch</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=es">Español</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=it">Italiano</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=ru">Русский</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=pt">Português</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=nl">Nederlands</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=pl">Polski</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=ar">العربية</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=fa">فارسی</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=tr">Türkçe</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=vi">Tiếng Việt</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=id">Bahasa Indonesia</a>
        | <a href="https://openaitx.github.io/view.html?user=Virviil&project=oci2git&lang=as">অসমীয়া</
      </div>
    </div>
  </details>
</div></p><h1>OCI2Git</h1></p><p>یک برنامه Rust که تصاویر کانتینر (مانند Docker و غیره) را به مخازن Git تبدیل می‌کند. هر لایه کانتینر به صورت یک commit در Git نمایش داده می‌شود و تاریخچه و ساختار تصویر اصلی را حفظ می‌کند.</p><p><img src="https://raw.githubusercontent.com/Virviil/oci2git/main/./assets/nginx.gif" alt="دموی تبدیل تصویر nginx توسط OCI2Git"></p><h2>ویژگی‌ها</h2></p><ul><li>تجزیه و تحلیل تصاویر Docker و استخراج اطلاعات لایه‌ها</li>
<li>ایجاد مخزن Git که در آن هر لایه تصویر به عنوان یک commit نمایش داده می‌شود</li>
<li>پشتیبانی از لایه‌های خالی (ENV، WORKDIR و غیره) به صورت commit های خالی</li>
<li>استخراج کامل فراداده‌ها به قالب Markdown</li>
<li>معماری قابل توسعه برای پشتیبانی از موتورهای مختلف کانتینر</li></p><p></ul><h2>موارد استفاده</h2></p><h3>مقایسه لایه‌ها</h3>
هنگام رفع اشکال مشکلات کانتینر، می‌توانید از قابلیت‌های قدرتمند مقایسه Git برای شناسایی دقیق تغییرات بین هر دو لایه استفاده کنید. با اجرای <code>git diff</code> بین commit ها، مهندسان می‌توانند به طور دقیق ببینند چه فایل‌هایی اضافه، تغییر یا حذف شده‌اند، که فهم تاثیر هر دستور Dockerfile را بسیار ساده‌تر و یافتن تغییرات مشکل‌ساز را آسان‌تر می‌کند.
<img src="https://raw.githubusercontent.com/Virviil/oci2git/main/./assets/layer-diff.png" alt="نمونه‌ای برای مقایسه لایه"></p><h3>ردیابی منبع</h3>
با استفاده از <code>git blame</code>، توسعه‌دهندگان می‌توانند به سرعت مشخص کنند که کدام لایه یک فایل یا خط کد خاص را معرفی کرده است. این موضوع به ویژه هنگام عیب‌یابی فایل‌های پیکربندی یا وابستگی‌ها ارزشمند است. به جای بررسی دستی هر لایه، می‌توانید فوراً منبع هر فایل را به لایه منشا و دستور Dockerfile مربوطه ردیابی کنید.</p><h3>ردیابی چرخه عمر فایل</h3>
OCI2Git به شما امکان می‌دهد مسیر یک فایل خاص را در طول تاریخچه تصویر کانتینر دنبال کنید. می‌توانید ببینید یک فایل چه زمانی ایجاد شده، چگونه در لایه‌های مختلف تغییر کرده و در صورت حذف، چه زمانی حذف شده است. این نمای جامع به درک تحول فایل‌ها کمک می‌کند بدون نیاز به ردیابی دستی تغییرات در ده‌ها لایه احتمالی.</p><p>برای ردیابی تاریخچه یک فایل در تصویر کانتینر خود — شامل زمان ظاهر شدن اولیه، تغییر یا حذف — پس از تبدیل می‌توانید از این دستورات Git استفاده کنید:</p><pre><code class="language-bash"># Full history of a file (including renames)
git log --follow -- /rootfs/my/file/path</p><h1>First appearance (i.e. creation) - see which layer introduced the file</h1>
git log --diff-filter=A -- /rootfs/my/file/path</p><h1>All changes made to the file (with diffs)</h1>
git log -p --follow -- /rootfs/my/file/path</p><h1>When the file was deleted</h1>
git log --diff-filter=D -- /rootfs/my/file/path</p><h1>Show short commit info (concise layer history)</h1>
git log --follow --oneline -- /rootfs/my/file/path</code></pre>
این دستورات ردیابی کامل تاریخچه هر فایل را در سراسر لایه‌های کانتینر ساده می‌کنند، بدون پیچیدگی استخراج و مقایسه دستی آرشیوهای لایه‌ای.</p><h3>تحلیل چندلایه‌ای</h3>
گاهی اوقات مفیدترین مقایسه‌ها از بررسی تغییرات در چندین لایه غیر متوالی حاصل می‌شود. با OCI2Git می‌توانید از ابزارهای مقایسه Git برای تحلیل نحوه تحول اجزا در مراحل مختلف ساخت بهره ببرید و الگوهایی را شناسایی کنید که ممکن است هنگام بررسی فقط لایه‌های مجاور قابل مشاهده نباشند.</p><h3>کاوش در لایه‌ها</h3>
با استفاده از <code>git checkout</code> برای رفتن به هر کامیت خاص، می‌توانید سیستم فایل کانتینر را دقیقاً همانطور که در آن لایه وجود داشته بررسی کنید. این امکان به توسعه‌دهندگان اجازه می‌دهد وضعیت دقیق فایل‌ها و دایرکتوری‌ها را در هر نقطه از فرآیند ساخت تصویر بررسی کنند و هنگام اشکال‌زدایی یا بررسی رفتار کانتینر، زمینه‌ای ارزشمند فراهم می‌آورد.
<img src="https://raw.githubusercontent.com/Virviil/oci2git/main/./assets/checkout.png" alt="Checkout to previous commit"></p><h3>تحلیل چندتصویری</h3></p><p>هنگام کار با چند تصویر کانتینر که نیاکان مشترک دارند، OCI2Git به‌طور هوشمندانه فقط زمانی شاخه جدید ایجاد می‌کند که تصاویر واقعاً از هم جدا شوند. این قابلیت به شما امکان می‌دهد چند تصویر مرتبط را در یک مخزن تحلیل کنید و در عین حال تاریخچه مشترک آن‌ها را حفظ نمایید.</p><pre><code class="language-bash"># Convert first image to create the base repository
oci2git postgres:16.9-alpine3.21 -o alp</p><h1>Convert second image to the same output folder</h1>
oci2git nginx:1.28.0-alpine-slim -o alp</code></pre></p><p>OCI2Git به طور خودکار لایه‌های مشترک بین تصاویر را شناسایی می‌کند و ساختاری شاخه‌ای ایجاد می‌کند که پایه مشترک آن‌ها را نشان می‌دهد. تاریخچه Git نشان خواهد داد:
<ul><li>تنه مشترکی که همه لایه‌های مشترک را شامل می‌شود</li>
<li>شاخه‌های جداگانه‌ای که فقط زمانی از هم جدا می‌شوند که تصاویر واقعاً متفاوت باشند</li>
<li>نمایش واضح محل اشتراک اجداد تصاویر در مقابل جایی که منحصر به فرد می‌شوند</li>
<li>مدیریت هوشمند تکراری‌ها: اگر دقیقاً همان تصویر دوبار پردازش شود، الگوریتم این را قبل از ثبت نهایی متادیتا شناسایی کرده و از ایجاد شاخه تکراری جلوگیری می‌کند</li></p><p></ul>این رویکرد به ویژه برای موارد زیر ارزشمند است:
<ul><li><strong>تحلیل خانواده تصویر</strong>: درک نحوه ارتباط نسخه‌ها، معماری‌ها یا پیکربندی‌های مختلف یک تصویر با یکدیگر</li>
<li><strong>تأثیر تصویر پایه</strong>: مشاهده دقیق نحوه تأثیر تغییرات تصویر پایه بر تصاویر مشتق شده متعدد</li>
<li><strong>فرصت‌های بهینه‌سازی</strong>: شناسایی اجزای مشترک که می‌توانند بهتر در بین انواع تصویر استفاده شوند</li></p><p></ul><img src="https://raw.githubusercontent.com/Virviil/oci2git/main/./assets/multiimage.png" alt="ساختار مخزن چندتصویری که پایه مشترک و شاخه‌های منشعب را نشان می‌دهد"></p><h3>موارد استفاده اضافی</h3></p><ul><li><strong>ممیزی امنیتی</strong>: شناسایی دقیق زمانی که پکیج‌ها یا پیکربندی‌های آسیب‌پذیر اضافه شده‌اند و ردیابی آن‌ها تا دستور ساخت مشخص.</li>
<li><strong>بهینه‌سازی تصویر</strong>: تحلیل ساختار لایه‌ها برای یافتن عملیات‌های تکراری یا فایل‌های بزرگ که می‌توانند یکپارچه شوند و به کاهش اندازه تصویر کمک کنند.</li>
<li><strong>مدیریت وابستگی‌ها</strong>: پایش زمان اضافه شدن، ارتقاء یا حذف وابستگی‌ها در سراسر تاریخچه تصویر.</li>
<li><strong>بهبود فرآیند ساخت</strong>: بررسی ترکیب لایه‌ها برای بهینه‌سازی دستورات Dockerfile جهت کش بهتر و کاهش اندازه تصویر.</li>
<li><strong>مقایسه تصاویر مرتبط</strong>: تبدیل چندین تصویر مرتبط به مخزن‌های Git و استفاده از ابزارهای مقایسه Git برای تحلیل تفاوت‌ها و اشتراکات آن‌ها.</li></p><p></ul><h2>نصب</h2></p><h3>از سورس</h3></p><pre><code class="language-bash"># Clone the repository
git clone https://github.com/virviil/oci2git.git
cd oci2git</p><h1>Install locally</h1>
cargo install --path .</code></pre></p><h3>از Crates.io</h3></p><pre><code class="language-bash">cargo install oci2git</code></pre></p><h2>استفاده</h2></p><pre><code class="language-bash">oci2git [OPTIONS] <IMAGE></code></pre></p><p>آرگومان‌ها:
  <code><IMAGE></code>  نام تصویری که باید تبدیل شود (مثلاً 'ubuntu:latest') یا مسیر فایل tar هنگام استفاده از موتور tar</p><p>گزینه‌ها:
  <code>-o, --output <o></code>  مسیر دایرکتوری خروجی برای مخزن Git [پیش‌فرض: ./container_repo]
  <code>-e, --engine <ENGINE></code>  موتور کانتینر مورد استفاده (docker، nerdctl، tar) [پیش‌فرض: docker]
  <code>-h, --help</code>            نمایش اطلاعات راهنما
  <code>-V, --version</code>         نمایش اطلاعات نسخه</p><p>متغیرهای محیطی:
  <code>TMPDIR</code>  این متغیر محیطی را برای تغییر محل پیش‌فرض پردازش داده‌های واسطه تنظیم کنید. این مقدار به پلتفرم بستگی دارد (مثلاً <code>TMPDIR</code> در یونیکس/macOS، <code>TEMP</code> یا <code>TMP</code> در ویندوز).</p><h2>مثال‌ها</h2></p><p>استفاده از موتور Docker (پیش‌فرض):
<pre><code class="language-bash">oci2git -o ./ubuntu-repo ubuntu:latest</code></pre>
استفاده از یک بسته فشرده تصویر که قبلاً دانلود شده است:</p><pre><code class="language-bash">oci2git -e tar -o ./ubuntu-repo /path/to/ubuntu-latest.tar</code></pre>
موتور tar انتظار یک فایل tar با فرمت معتبر OCI را دارد که معمولاً با دستور <code>docker save</code> ایجاد می‌شود:</p><pre><code class="language-bash"># Create a tarball from a local Docker image
docker save -o ubuntu-latest.tar ubuntu:latest</p><h1>Convert the tarball to a Git repository</h1>
oci2git -e tar -o ./ubuntu-repo ubuntu-latest.tar</code></pre>
این کار یک مخزن گیت در مسیر <code>./ubuntu-repo</code> ایجاد می‌کند که شامل موارد زیر است:
<ul><li><code>Image.md</code> - فراداده کامل درباره تصویر به صورت فرمت Markdown</li>
<li><code>rootfs/</code> - محتوای سیستم‌فایل استخراج‌شده از کانتینر</li></p><p></ul>تاریخچه گیت بازتاب‌دهنده تاریخچه لایه‌های کانتینر است:
<ul><li>اولین کامیت فقط شامل فایل <code>Image.md</code> با فراداده کامل است</li>
<li>هر کامیت بعدی نمایانگر یک لایه از تصویر اصلی است</li>
<li>پیام کامیت شامل دستور Dockerfile مربوط به آن لایه است</li></p><p></ul><h2>ساختار مخزن</h2></p><pre><code class="language-">repository/
├── .git/
├── Image.md     # Complete image metadata
└── rootfs/      # Filesystem content from the container</code></pre>
  
<h2>الزامات</h2></p><ul><li>نسخه ۲۰۲۱ راست (Rust)</li>
<li>رابط خط فرمان داکر (برای پشتیبانی از موتور داکر)</li>
<li>گیت</li></p><p></ul><h2>مجوز</h2></p><p>MIT</p><p>
---

Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">Open Ai Tx</a> | Last indexed: 2025-08-26

---</p>
        </div>
        
        <div class="original-link">
            <strong>Original README:</strong> <a href="https://raw.githubusercontent.com/Virviil/oci2git/main/README.md" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
    </div>
    
    <div class="footer">
        <p>Translated by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">OpenAiTx</a> | 
        Last updated: 2025-09-16 
    </div>
    
</body>
</html>