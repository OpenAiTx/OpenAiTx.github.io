<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gpt-load - 智能キー回転によるマルチチャネルAIプロキシ。</title>
    <meta name="description" content="智能キー回転によるマルチチャネルAIプロキシ。">
    <meta name="keywords" content="gpt-load, Japanese, documentation, GitHub, open source">
    <meta name="author" content="OpenAiTx">
    <meta name="robots" content="index, follow">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "gpt-load",
  "description": "智能キー回転によるマルチチャネルAIプロキシ。",
  "author": {
    "@type": "Person",
    "name": "tbphp"
  },
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "ratingCount": 4131
  },
  "url": "https://OpenAiTx.github.io/projects/tbphp/gpt-load/README-ja.html",
  "sameAs": "https://raw.githubusercontent.com/tbphp/gpt-load/main/README.md",
  "datePublished": "2025-09-16",
  "dateModified": "2025-09-16"
}
    </script>
    
    <!-- GitHub-style CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #24292e;
            background-color: #ffffff;
            max-width: 980px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .container {
            background: #ffffff;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .header {
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        
        .project-title {
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .project-title a {
            color: #24292e;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color 0.2s ease;
        }
        
        .project-title a:hover {
            color: #0366d6;
            text-decoration: none;
        }
        
        .project-title .github-icon {
            width: 1em;
            height: 1em;
            fill: currentColor;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .project-title a:hover .github-icon {
            opacity: 1;
        }
        
        .project-meta {
            color: #586069;
            font-size: 14px;
            margin-bottom: 16px;
        }
        
        .stars {
            display: inline-block;
            margin-right: 16px;
        }
        
        .language {
            display: inline-block;
            background-color: #f1f8ff;
            color: #0366d6;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .content {
            font-size: 16px;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            color: #24292e;
        }
        
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        
        p {
            margin-bottom: 16px;
        }
        
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        
        a {
            color: #0366d6;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        ul, ol {
            margin-bottom: 16px;
            padding-left: 2em;
        }
        
        li {
            margin-bottom: 0.25em;
        }
        
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 1em;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e1e4e8;
            color: #586069;
            font-size: 14px;
            text-align: center;
        }
        
        .footer a {
            color: #0366d6;
        }
        
        .original-link {
            margin-top: 16px;
            padding: 12px;
            background-color: #f6f8fa;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 16px;
            }
            
            .project-title {
                font-size: 1.5em;
            }
        }
    </style>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Bing Count -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sh95yd6uwt");
    </script>        

    <!-- Statcounter -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="project-title">
                <a href="https://github.com/tbphp/gpt-load" target="_blank" rel="noopener noreferrer">
                    <svg class="github-icon" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                    </svg>
                    gpt-load
                </a>
            </h1>
            <div class="project-meta">
                <span class="stars">⭐ 4131 stars</span>
                <span class="language">Japanese</span>
                <span>by tbphp</span>
            </div>
        </div>
        
        <div class="content">
            <h1>GPT-Load</h1></p><p>中文文档 | <a href="https://raw.githubusercontent.com/tbphp/gpt-load/main/README_EN.md" target="_blank" rel="noopener noreferrer">English</a></p><p><a href="https://github.com/tbphp/gpt-load/releases" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/github/v/release/tbphp/gpt-load" alt="Release"></a>
<img src="https://img.shields.io/badge/Go-1.23+-blue.svg" alt="Go Version">
<img src="https://img.shields.io/badge/license-MIT-green.svg" alt="License"></p><p>高性能かつエンタープライズ向けのAIインターフェース透明プロキシサービスであり、多様なAIサービスを統合する必要がある企業や開発者向けに設計されています。Go言語で開発されており、スマートなキー管理、負荷分散、充実した監視機能を備え、高い同時処理環境に最適化されています。</p><p>詳細は<a href="https://www.gpt-load.com/docs" target="_blank" rel="noopener noreferrer">公式ドキュメント</a>をご覧ください。</p><p><a href="https://hellogithub.com/repository/tbphp/gpt-load" target="_blank"><img src="https://api.hellogithub.com/v1/widgets/recommend.svg?rid=554dc4c46eb14092b9b0c56f1eb9021c&claim_uid=Qlh8vzrWJ0HCneG" alt="Featured｜HelloGitHub" style="width: 250px; height: 54px;" width="250" height="54" /></a></p><h2>機能特徴</h2></p><ul><li><strong>透明プロキシ</strong>: ネイティブAPIフォーマットを完全に保持し、OpenAI、Google Gemini、Anthropic Claudeなど複数のフォーマットをサポート</li>
<li><strong>スマートキー管理</strong>: 高性能なキー・プール、グループ管理、自動ローテーションおよび障害復旧をサポート</li>
<li><strong>負荷分散</strong>: 複数の上流エンドポイントに対する加重負荷分散をサポートし、サービスの可用性を向上</li>
<li><strong>スマート障害処理</strong>: 自動キーのブラックリスト管理と回復機構によりサービスの継続性を保証</li>
<li><strong>動的設定</strong>: システム設定およびグループ設定はホットリロード対応で、再起動不要で反映可能</li>
<li><strong>エンタープライズアーキテクチャ</strong>: 分散マスター・スレーブ展開、水平スケールと高可用性をサポート</li>
<li><strong>モダン管理</strong>: Vue 3ベースのWeb管理画面で直感的かつ使いやすい</li>
<li><strong>総合監視</strong>: リアルタイム統計、ヘルスチェック、詳細なリクエストログ</li>
<li><strong>高性能設計</strong>: ゼロコピーのストリーム伝送、コネクションプール再利用、アトミック操作</li>
<li><strong>本番対応</strong>: 優雅なシャットダウン、エラーリカバリー、充実したセキュリティ機構</li>
<li><strong>二重認証体系</strong>: 管理側とプロキシ側の認証分離、プロキシ認証はグローバルおよびグループレベルのキーをサポート</li></p><p></ul><h2>対応AIサービス</h2></p><p>GPT-Loadは透明プロキシサービスとして、各AIベンダーのネイティブAPIフォーマットを完全に保持します：</p><ul><li><strong>OpenAIフォーマット</strong>: 公式OpenAI API、Azure OpenAI、およびその他のOpenAI互換サービス</li>
<li><strong>Google Geminiフォーマット</strong>: Gemini Pro、Gemini Pro VisionなどのモデルのネイティブAPI</li>
<li><strong>Anthropic Claudeフォーマット</strong>: Claudeシリーズモデル、高品質な対話およびテキスト生成をサポート</li></p><p></ul><h2>クイックスタート</h2></p><h3>環境要件</h3></p><ul><li>Go 1.23+（ソースコードビルド）</li>
<li>Docker（コンテナ化デプロイ）</li>
<li>MySQL、PostgreSQL、または SQLite（データベースストレージ）</li>
<li>Redis（キャッシュおよび分散調整、オプション）</li></p><p></ul><h3>方法1：Dockerクイックスタート</h3></p><pre><code class="language-bash">docker run -d --name gpt-load \
    -p 3001:3001 \
    -e AUTH_KEY=sk-123456 \
    -v "$(pwd)/data":/app/data \
    ghcr.io/tbphp/gpt-load:latest</code></pre></p><blockquote>使用 <code>sk-123456</code> ログイン管理画面：<http://localhost:3001></blockquote></p><h3>方法2：Docker Composeを使用（推奨）</h3></p><p><strong>インストールコマンド：</strong></p><pre><code class="language-bash"># 创建目录
mkdir -p gpt-load && cd gpt-load</p><h1>下载配置文件</h1>
wget https://raw.githubusercontent.com/tbphp/gpt-load/refs/heads/main/docker-compose.yml
wget -O .env https://raw.githubusercontent.com/tbphp/gpt-load/refs/heads/main/.env.example</p><h1>启动服务</h1>
docker compose up -d</code></pre></p><p>デフォルトでインストールされているのは SQLite バージョンで、軽量な単一マシンアプリケーションに適しています。</p><p>MySQL、PostgreSQL、Redis をインストールする場合は、<code>docker-compose.yml</code> ファイル内で必要なサービスのコメントを解除し、対応する環境設定を行ってから再起動してください。</p><p><strong>その他のコマンド：</strong></p><pre><code class="language-bash"># 查看服务状态
docker compose ps</p><h1>查看日志</h1>
docker compose logs -f</p><h1>重启服务</h1>
docker compose down && docker compose up -d</p><h1>更新到最新版本</h1>
docker compose pull && docker compose down && docker compose up -d</code></pre></p><p>デプロイ後：</p><ul><li>Web管理インターフェースにアクセス：<http://localhost:3001></li>
<li>APIプロキシアドレス：<http://localhost:3001/proxy></li></p><p></ul>> デフォルトの認証キー <code>sk-123456</code> を使用して管理画面にログインします。認証キーは .env の AUTH_KEY で変更可能です。</p><h3>方法3：ソースコードからのビルド</h3></p><p>ソースコードからのビルドには、ローカルにデータベース（SQLite、MySQL、または PostgreSQL）と Redis（オプション）がインストールされている必要があります。</p><pre><code class="language-bash"># 克隆并构建
git clone https://github.com/tbphp/gpt-load.git
cd gpt-load
go mod tidy</p><h1>创建配置</h1>
cp .env.example .env</p><h1>修改 .env 中 DATABASE_DSN 和 REDIS_DSN 配置</h1>
<h1>REDIS_DSN 为可选，如果不配置则启用内存存储</h1></p><h1>运行</h1>
make run</code></pre>
部署完了後：</p><ul><li>Web管理画面にアクセス：<http://localhost:3001></li>
<li>APIプロキシアドレス：<http://localhost:3001/proxy></li></p><p></ul>> デフォルトの認証キー <code>sk-123456</code> を使って管理画面にログインします。認証キーは .env の AUTH_KEY で変更可能です。</p><h3>方法4：クラスタ展開</h3></p><p>クラスタ展開では、全てのノードが同じ MySQL（または PostgreSQL）と Redis に接続する必要があり、Redisは必須です。統一された分散MySQLとRedisクラスタの利用を推奨します。</p><p><strong>展開要件：</strong></p><ul><li>すべてのノードで同一の <code>AUTH_KEY</code>、<code>DATABASE_DSN</code>、<code>REDIS_DSN</code> を設定すること</li>
<li>マスター・スレーブ構成の場合、スレーブノードは環境変数：<code>IS_SLAVE=true</code> を設定すること</li></p><p></ul>詳細は<a href="https://www.gpt-load.com/docs/cluster" target="_blank" rel="noopener noreferrer">クラスタ展開ドキュメント</a>を参照してください。</p><h2>システム設定</h2></p><h3>設定アーキテクチャ概要</h3></p><p>GPT-Loadは二層構成の設定アーキテクチャを採用しています：</p><p>#### 1. 静的設定（環境変数）</p><ul><li><strong>特徴</strong>：アプリ起動時に読み込み、稼働中は変更不可。再起動で反映</li>
<li><strong>用途</strong>：基盤構成設定（データベース接続、サーバーポート、認証キーなど）</li>
<li><strong>管理方法</strong>：<code>.env</code> ファイルまたはシステム環境変数で設定</li></p><p></ul>#### 2. 動的設定（ホットリロード）</p><ul><li><strong>システム設定</strong>：データベースに保存され、アプリ全体の動作基準を提供</li>
<li><strong>グループ設定</strong>：特定グループ向けの動作パラメータで、システム設定を上書き可能</li>
<li><strong>設定優先度</strong>：グループ設定 > システム設定 > 環境設定</li>
<li><strong>特徴</strong>：ホットリロード対応。変更後すぐに反映し、再起動不要</li></p><p></ul><details>
<summary>静的設定（環境変数）</summary></p><p><strong>サーバー構成：</strong></p><p>| 設定項目     | 環境変数                          | デフォルト値     | 説明                          |
| ------------ | --------------------------------- | --------------- | ----------------------------- |
| サーバーポート | <code>PORT</code>                           | 3001            | HTTPサーバーのリッスンポート  |
| サーバーアドレス | <code>HOST</code>                           | 0.0.0.0         | HTTPサーバーのバインドアドレス |
| 読み取りタイムアウト | <code>SERVER_READ_TIMEOUT</code>            | 60              | HTTPサーバーの読み取りタイムアウト（秒） |
| 書き込みタイムアウト | <code>SERVER_WRITE_TIMEOUT</code>           | 600             | HTTPサーバーの書き込みタイムアウト（秒） |
| アイドルタイムアウト | <code>SERVER_IDLE_TIMEOUT</code>            | 120             | HTTP接続のアイドルタイムアウト（秒）     |
| 優雅なシャットダウンタイムアウト | <code>SERVER_GRACEFUL_SHUTDOWN_TIMEOUT</code> | 10              | サービスの優雅なシャットダウン待機時間（秒） |
| スレーブモード | <code>IS_SLAVE</code>                       | false           | クラスタ展開時のスレーブノード識別       |
| タイムゾーン   | <code>TZ</code>                             | <code>Asia/Shanghai</code> | 指定タイムゾーン                |</p><p><strong>認証とデータベース構成：</strong></p><p>| 設定項目     | 環境変数       | デフォルト値          | 説明                                  |
| ------------ | -------------- | --------------------- | ------------------------------------- |
| 管理キー     | <code>AUTH_KEY</code>     | <code>sk-123456</code>           | <strong>管理側</strong>のアクセス認証キー          |
| データベース接続 | <code>DATABASE_DSN</code> | ./data/gpt-load.db    | データベース接続文字列（DSN）またはファイルパス |
| Redis接続   | <code>REDIS_DSN</code>    | -                     | Redis接続文字列。空の場合はメモリストレージを使用 |</p><p><strong>パフォーマンスとクロスオリジン設定：</strong></p><p>| 設定項目         | 環境変数                  | デフォルト値                         | 説明                        |
| ---------------- | ------------------------- | ---------------------------------- | --------------------------- |
| 最大同時リクエスト数 | <code>MAX_CONCURRENT_REQUESTS</code> | 100                                | システムが許容する最大同時リクエスト数 |
| CORSを有効化     | <code>ENABLE_CORS</code>             | true                               | クロスオリジンリソース共有を有効にするか |
| 許可するオリジン | <code>ALLOWED_ORIGINS</code>         | <code>*</code>                                | 許可するオリジン（カンマ区切り）    |
| 許可するHTTPメソッド | <code>ALLOWED_METHODS</code>         | <code>GET,POST,PUT,DELETE,OPTIONS</code>      | 許可するHTTPメソッド             |
| 許可するヘッダー  | <code>ALLOWED_HEADERS</code>         | <code>*</code>                                | 許可するリクエストヘッダー（カンマ区切り） |
| 認証情報を許可   | <code>ALLOW_CREDENTIALS</code>       | false                              | 認証情報の送信を許可するか         |</p><p><strong>ログ設定：</strong></p><p>| 設定項目       | 環境変数          | デフォルト値           | 説明                                 |
| -------------- | ----------------- | --------------------- | ------------------------------------ |
| ログレベル     | <code>LOG_LEVEL</code>       | <code>info</code>                | ログレベル：debug, info, warn, error |
| ログフォーマット | <code>LOG_FORMAT</code>      | <code>text</code>                | ログフォーマット：text, json         |
| ファイルログ有効化 | <code>LOG_ENABLE_FILE</code> | false                 | ファイルログ出力を有効にするか       |</p><p>| 日志文件路径 | <code>LOG_FILE_PATH</code>   | <code>./data/logs/app.log</code> | ログファイルの保存パス                   |</p><p><strong>プロキシ設定：</strong></p><p>GPT-Loadは環境変数からプロキシ設定を自動的に読み取り、上流のAIサービスプロバイダーへのリクエストに使用します。</p><p>| 設定項目     | 環境変数       | デフォルト | 説明                                     |
| ---------- | ------------- | ------ | ---------------------------------------- |
| HTTPプロキシ  | <code>HTTP_PROXY</code>  | -      | HTTPリクエスト用のプロキシサーバーアドレス           |
| HTTPSプロキシ | <code>HTTPS_PROXY</code> | -      | HTTPSリクエスト用のプロキシサーバーアドレス          |
| プロキシ除外   | <code>NO_PROXY</code>    | -      | プロキシを経由しないホストまたはドメイン、カンマ区切り |</p><p>対応するプロキシプロトコル形式：</p><ul><li><strong>HTTP</strong>: <code>http://user:pass@host:port</code></li>
<li><strong>HTTPS</strong>: <code>https://user:pass@host:port</code></li>
<li><strong>SOCKS5</strong>: <code>socks5://user:pass@host:port</code></li>
</ul></details></p><p><details>
<summary>動的設定（ホットリロード）</summary></p><p><strong>基本設定：</strong></p><p>| 設定項目       | フィールド名                             | デフォルト値                 | グループ上書き可否 | 説明                                     |
| ------------ | ------------------------------------ | --------------------------- | ---------- | -------------------------------------- |
| プロジェクトURL | <code>app_url</code>                            | <code>http://localhost:3001</code>     | ❌         | プロジェクトの基本URL                   |
| ログ保持日数   | <code>request_log_retention_days</code>         | 7                           | ❌         | リクエストログの保持日数、0はクリアしない |
| ログ書き込み間隔 | <code>request_log_write_interval_minutes</code> | 1                           | ❌         | ログをデータベースに書き込む周期（分） |
| グローバルプロキシキー | <code>proxy_keys</code>                         | 初期値は環境設定のAUTH_KEY     | ❌         | グローバルに有効なプロキシ認証キー、複数はカンマ区切り |</p><p><strong>リクエスト設定：</strong></p><p>| 設定項目               | フィールド名                    | デフォルト値 | グループ上書き可否 | 説明                             |
| -------------------- | ------------------------- | -------- | ---------- | ------------------------------ |
| リクエストタイムアウト   | <code>request_timeout</code>         | 600      | ✅         | 転送リクエストの全ライフサイクルのタイムアウト（秒） |
| 接続タイムアウト       | <code>connect_timeout</code>         | 15       | ✅         | 上流サービスとの接続確立タイムアウト（秒）           |
| アイドル接続タイムアウト | <code>idle_conn_timeout</code>       | 120      | ✅         | HTTPクライアントのアイドル接続タイムアウト（秒）     |
| レスポンスヘッダタイムアウト | <code>response_header_timeout</code> | 600      | ✅         | 上流レスポンスヘッダ待機タイムアウト（秒）           |
| 最大アイドル接続数     | <code>max_idle_conns</code>          | 100      | ✅         | コネクションプールの最大アイドル接続数               |
| ホストごとの最大アイドル接続数 | <code>max_idle_conns_per_host</code> | 50     | ✅         | 各アップストリームホストの最大アイドル接続数    |
| プロキシサーバーアドレス         | <code>proxy_url</code>               | -      | ✅         | リクエスト転送に使用する HTTP/HTTPS プロキシ。空欄の場合は環境設定を使用 |</p><p><strong>キー設定：</strong></p><p>| 設定項目       | フィールド名                          | デフォルト値 | グループ上書き可 | 説明                                               |
| -------------- | ----------------------------------- | ------------ | --------------- | -------------------------------------------------- |
| 最大リトライ回数 | <code>max_retries</code>                       | 3            | ✅              | 単一リクエストで異なるキーを使用する最大リトライ回数 |
| ブラックリスト閾値 | <code>blacklist_threshold</code>               | 3            | ✅              | キーが連続で失敗した回数の閾値を超えた後にブラックリストに登録 |
| キー検証間隔（分）| <code>key_validation_interval_minutes</code>  | 60           | ✅              | バックグラウンドでキーを定期検証する周期（分）    |
| キー検証同時実行数 | <code>key_validation_concurrency</code>        | 10           | ✅              | バックグラウンドで無効なキーを検証する際の同時実行数 |
| キー検証タイムアウト（秒） | <code>key_validation_timeout_seconds</code> | 20           | ✅              | バックグラウンドで単一キーの API リクエストタイムアウト時間（秒） |</p><p></details></p><h2>Web 管理画面</h2></p><p>管理コンソールにアクセス：<http://localhost:3001>（デフォルトアドレス）</p><h3>画面表示</h3></p><p><img src="https://raw.githubusercontent.com/tbphp/gpt-load/main/screenshot/dashboard.png" alt="ダッシュボード" width="600" /></p><p><br/></p><p><img src="https://raw.githubusercontent.com/tbphp/gpt-load/main/screenshot/keys.png" alt="キー管理" width="600" /></p><p><br/></p><p>Web 管理画面は以下の機能を提供します：</p><ul><li><strong>ダッシュボード</strong>: リアルタイムの統計情報とシステム状態の概要</li>
<li><strong>キー管理</strong>: AI サービスプロバイダーグループの作成・設定、API キーの追加・削除・監視</li>
<li><strong>リクエストログ</strong>: 詳細なリクエスト履歴およびデバッグ情報</li>
<li><strong>システム設定</strong>: グローバル設定管理とホットリロード</li></p><p></ul><h2>API 使用説明</h2></p><p><details>
<summary>プロキシインターフェース呼び出し方法</summary>
GPT-Load はグループ名によってリクエストを異なる AI サービスにルーティングします。使用方法は以下の通りです：</p><p>#### 1. プロキシエンドポイントの形式</p><pre><code class="language-text">http://localhost:3001/proxy/{group_name}/{原始API路径}</code></pre></p><ul><li><code>{group_name}</code>: 管理画面で作成したグループ名</li>
<li><code>{原始API路径}</code>: 元の AI サービスと完全に一致するパス</li></p><p></ul>#### 2. 認証方式</p><p>Web 管理画面で<strong>プロキシキー</strong>(<code>Proxy Keys</code>)を設定し、システムレベルおよびグループレベルのプロキシキーを設定可能。</p><ul><li><strong>認証方式</strong>: ネイティブ API と同じだが、元のキーを設定したプロキシキーに置き換える必要がある。</li>
<li><strong>キーのスコープ</strong>: システム設定で設定した<strong>グローバルプロキシキー</strong>はすべてのグループで使用可能、グループ設定の<strong>グループプロキシキー</strong>は当該グループ内のみ有効。</li>
<li><strong>形式</strong>: 複数のキーは半角カンマで区切る。</li></p><p></ul>#### 3. OpenAI インターフェース呼び出し例</p><p><code>openai</code> という名前のグループを作成したと仮定：</p><p><strong>元の呼び出し方式：</strong></p><pre><code class="language-bash">curl -X POST https://api.openai.com/v1/chat/completions \
  -H "Authorization: Bearer sk-your-openai-key" \
  -H "Content-Type: application/json" \
  -d '{"model": "gpt-4.1-mini", "messages": [{"role": "user", "content": "Hello"}]}'</code></pre></p><p><strong>代理呼び出し方式：</strong></p><pre><code class="language-bash">curl -X POST http://localhost:3001/proxy/openai/v1/chat/completions \
  -H "Authorization: Bearer your-proxy-key" \
  -H "Content-Type: application/json" \
  -d '{"model": "gpt-4.1-mini", "messages": [{"role": "user", "content": "Hello"}]}'</code></pre></p><p><strong>変更内容：</strong></p><ul><li><code>https://api.openai.com</code> を <code>http://localhost:3001/proxy/openai</code> に置き換え</li>
<li>元の API キーを<strong>代理キー</strong>に置き換え</li></p><p></ul>#### 4. Gemini インターフェース呼び出し例</p><p><code>gemini</code> という名前のグループを作成したと仮定：</p><p><strong>元の呼び出し方法：</strong></p><pre><code class="language-bash">curl -X POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent?key=your-gemini-key \
  -H "Content-Type: application/json" \
  -d '{"contents": [{"parts": [{"text": "Hello"}]}]}'</code></pre></p><p><strong>代理呼び出し方法：</strong></p><pre><code class="language-bash">curl -X POST http://localhost:3001/proxy/gemini/v1beta/models/gemini-2.5-pro:generateContent?key=your-proxy-key \
  -H "Content-Type: application/json" \
  -d '{"contents": [{"parts": [{"text": "Hello"}]}]}'</code></pre></p><p><strong>変更内容：</strong></p><ul><li><code>https://generativelanguage.googleapis.com</code> を <code>http://localhost:3001/proxy/gemini</code> に置換</li>
<li>URL パラメータの <code>key=your-gemini-key</code> を<strong>プロキシキー</strong>に置換</li></p><p></ul>#### 5. Anthropic インターフェース呼び出し例</p><p><code>anthropic</code> という名前のグループを作成したと仮定：</p><p><strong>元の呼び出し方法：</strong></p><pre><code class="language-bash">curl -X POST https://api.anthropic.com/v1/messages \
  -H "x-api-key: sk-ant-api03-your-anthropic-key" \
  -H "anthropic-version: 2023-06-01" \
  -H "Content-Type: application/json" \
  -d '{"model": "claude-sonnet-4-20250514", "messages": [{"role": "user", "content": "Hello"}]}'</code></pre></p><p><strong>代理呼び出し方法：</strong></p><pre><code class="language-bash">curl -X POST http://localhost:3001/proxy/anthropic/v1/messages \
  -H "x-api-key: your-proxy-key" \
  -H "anthropic-version: 2023-06-01" \
  -H "Content-Type: application/json" \
  -d '{"model": "claude-sonnet-4-20250514", "messages": [{"role": "user", "content": "Hello"}]}'</code></pre></p><p><strong>変更説明：</strong></p><ul><li><code>https://api.anthropic.com</code> を <code>http://localhost:3001/proxy/anthropic</code> に置き換え</li>
<li><code>x-api-key</code> ヘッダー内の元の API キーを<strong>プロキシキー</strong>に置き換え</li></p><p></ul>#### 6. サポートされているインターフェース</p><p><strong>OpenAI 形式：</strong></p><ul><li><code>/v1/chat/completions</code> - チャット対話</li>
<li><code>/v1/completions</code> - テキスト補完</li>
<li><code>/v1/embeddings</code> - テキスト埋め込み</li>
<li><code>/v1/models</code> - モデル一覧</li>
<li>その他すべての OpenAI 互換インターフェース</li></p><p></ul><strong>Gemini 形式：</strong></p><ul><li><code>/v1beta/models/*/generateContent</code> - コンテンツ生成</li>
<li><code>/v1beta/models</code> - モデル一覧</li>
<li>その他すべての Gemini ネイティブインターフェース</li></p><p></ul><strong>Anthropic 形式：</strong></p><ul><li><code>/v1/messages</code> - メッセージ対話</li>
<li><code>/v1/models</code> - モデル一覧（利用可能な場合）</li>
<li>その他すべての Anthropic ネイティブインターフェース</li></p><p></ul>#### 7. クライアント SDK 設定</p><p><strong>OpenAI Python SDK：</strong></p><pre><code class="language-python">from openai import OpenAI</p><p>client = OpenAI(
    api_key="your-proxy-key",  # 使用密钥
    base_url="http://localhost:3001/proxy/openai"  # 使用代理端点
)</p><p>response = client.chat.completions.create(
    model="gpt-4.1-mini",
    messages=[{"role": "user", "content": "Hello"}]
)</code></pre></p><p><strong>Google Gemini SDK（Python）：</strong></p><pre><code class="language-python">import google.generativeai as genai</p><h1>配置 API 密钥和基础 URL</h1>
genai.configure(
    api_key="your-proxy-key",  # 使用代理密钥
    client_options={"api_endpoint": "http://localhost:3001/proxy/gemini"}
)</p><p>model = genai.GenerativeModel('gemini-2.5-pro')
response = model.generate_content("Hello")</code></pre></p><p><strong>Anthropic SDK（Python）：</strong></p><pre><code class="language-python">from anthropic import Anthropic</p><p>client = Anthropic(
    api_key="your-proxy-key",  # 使用代理密钥
    base_url="http://localhost:3001/proxy/anthropic"  # 使用代理端点
)</p><p>response = client.messages.create(
    model="claude-sonnet-4-20250514",
    messages=[{"role": "user", "content": "Hello"}]
)</code></pre></p><blockquote><strong>重要な注意</strong>：透明なプロキシサービスとして、GPT-Loadは各AIサービスのネイティブAPI形式と認証方式を完全に保持し、エンドポイントアドレスを置き換え、管理画面で設定した<strong>プロキシキー</strong>を使用するだけでシームレスに移行できます。</blockquote></p><p></details></p><h2>ライセンス</h2></p><p>MITライセンス - 詳細は <a href="LICENSE" target="_blank" rel="noopener noreferrer">LICENSE</a> ファイルを参照してください。</p><h2>スター履歴</h2></p><p><a href="https://starchart.cc/tbphp/gpt-load" target="_blank" rel="noopener noreferrer"><img src="https://starchart.cc/tbphp/gpt-load.svg?variant=adaptive" alt="Stargazers over time"></a></p><p>
---

Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">Open Ai Tx</a> | Last indexed: 2025-08-22

---</p>
        </div>
        
        <div class="original-link">
            <strong>Original README:</strong> <a href="https://raw.githubusercontent.com/tbphp/gpt-load/main/README.md" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
    </div>
    
    <div class="footer">
        <p>Translated by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">OpenAiTx</a> | 
        Last updated: 2025-09-16 
    </div>
    
</body>
</html>