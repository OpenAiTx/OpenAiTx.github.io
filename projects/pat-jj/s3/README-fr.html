<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>s3 - [EMNLP&#39;25] s3 - ⚡ Formation efficace et performante d&#39;agents de recherche via l&#39;apprentissage par renforcement pour RAG (RLVR pour la recherche avec un minimum de donn&#233;es)</title>
    <meta name="description" content="[EMNLP&#39;25] s3 - ⚡ Formation efficace et performante d&#39;agents de recherche via l&#39;apprentissage par renforcement pour RAG (RLVR pour la recherche avec un minimum de donn&#233;es)">
    <meta name="keywords" content="s3, French, documentation, GitHub, open source">
    <meta name="author" content="OpenAiTx">
    <meta name="robots" content="index, follow">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "s3",
  "description": "[EMNLP'25] s3 - ⚡ Formation efficace et performante d'agents de recherche via l'apprentissage par renforcement pour RAG (RLVR pour la recherche avec un minimum de données)",
  "author": {
    "@type": "Person",
    "name": "pat-jj"
  },
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "ratingCount": 797
  },
  "url": "https://OpenAiTx.github.io/projects/pat-jj/s3/README-fr.html",
  "sameAs": "https://raw.githubusercontent.com/pat-jj/s3/main/README.md",
  "datePublished": "2025-12-30",
  "dateModified": "2025-12-30"
}
    </script>
    
    <!-- GitHub-style CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #24292e;
            background-color: #ffffff;
            max-width: 980px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .container {
            background: #ffffff;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .header {
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        
        .project-title {
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .project-title a {
            color: #24292e;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color 0.2s ease;
        }
        
        .project-title a:hover {
            color: #0366d6;
            text-decoration: none;
        }
        
        .project-title .github-icon {
            width: 1em;
            height: 1em;
            fill: currentColor;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .project-title a:hover .github-icon {
            opacity: 1;
        }
        
        .project-meta {
            color: #586069;
            font-size: 14px;
            margin-bottom: 16px;
        }
        
        .stars {
            display: inline-block;
            margin-right: 16px;
        }
        
        .language {
            display: inline-block;
            background-color: #f1f8ff;
            color: #0366d6;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .content {
            font-size: 16px;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            color: #24292e;
        }
        
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        
        p {
            margin-bottom: 16px;
        }
        
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        
        a {
            color: #0366d6;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        ul, ol {
            margin-bottom: 16px;
            padding-left: 2em;
        }
        
        li {
            margin-bottom: 0.25em;
        }
        
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 1em;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e1e4e8;
            color: #586069;
            font-size: 14px;
            text-align: center;
        }
        
        .footer a {
            color: #0366d6;
        }
        
        .original-link {
            margin-top: 16px;
            padding: 12px;
            background-color: #f6f8fa;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 16px;
            }
            
            .project-title {
                font-size: 1.5em;
            }
        }
    </style>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Bing Count -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sh95yd6uwt");
    </script>        

    <!-- Statcounter -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="project-title">
                <a href="https://github.com/pat-jj/s3" target="_blank" rel="noopener noreferrer">
                    <svg class="github-icon" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                    </svg>
                    s3
                </a>
            </h1>
            <div class="project-meta">
                <span class="stars">⭐ 797 stars</span>
                <span class="language">French</span>
                <span>by pat-jj</span>
            </div>
        </div>
        
        <div class="content">
            <p>
<div align="right">
  <details>
    <summary >🌐 Langue</summary>
    <div>
      <div align="center">
        <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=en">English</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=zh-CN">简体中文</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=zh-TW">繁體中文</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=ja">日本語</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=ko">한국어</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=hi">हिन्दी</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=th">ไทย</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=fr">Français</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=de">Deutsch</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=es">Español</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=it">Itapano</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=ru">Русский</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=pt">Português</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=nl">Nederlands</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=pl">Polski</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=ar">العربية</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=fa">فارسی</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=tr">Türkçe</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=vi">Tiếng Việt</a>
        | <a href="https://openaitx.github.io/view.html?user=pat-jj&project=s3&lang=id">Bahasa Indonesia</a>
      </div>
    </div>
  </details>
</div></p><p><div align="center"></p><h1>s3 - Agent de Recherche Efficace et Performant via l’Apprentissage par Renforcement</h1>
<strong><em>Vous n’avez pas besoin de tant de données pour entraîner un agent de recherche</strong></em></p><p><p align="center"></p><p>  <a href="https://arxiv.org/abs/2505.14146">
    <img src="https://img.shields.io/badge/arXiv-2505.14146-b31b1b.svg" alt="arXiv">
  </a>
</p>
</div></p><p><strong>Aperçu des performances :</strong></p><p><img src="https://raw.githubusercontent.com/pat-jj/s3/main/images/performance_overview.png" alt="performance_overview" width="800"></p><h2>Qu'est-ce que s3 ?</h2></p><p><div align="center">
<img src="https://raw.githubusercontent.com/pat-jj/s3/main/images/framework.png" alt="framework" width="800"></p><p><strong>Framework s3</strong>
</div></p><p><code>s3</code> est un framework simple mais puissant pour entraîner des agents de recherche dans la génération augmentée par récupération (RAG). Il apprend aux modèles de langage à rechercher plus efficacement—sans modifier le générateur lui-même. En se concentrant uniquement sur le composant de recherche, <code>s3</code> obtient d'excellentes performances sur les tâches de QA avec seulement une fraction des données utilisées par les méthodes précédentes. Il est modulaire, efficace et conçu pour fonctionner parfaitement avec n'importe quel LLM boîte noire.</p><h2>Table des matières</h2></p><ul><li><a href="#-installation" target="_blank" rel="noopener noreferrer">📦 Installation</a></li>
<li><a href="#-preparation" target="_blank" rel="noopener noreferrer">💡 Préparation</a></li>
<li><a href="https://github.com/pat-jj/s3?tab=readme-ov-file#%EF%B8%8F-run-training" target="_blank" rel="noopener noreferrer">🏋️ Lancer l’entraînement</a></li>
<li><a href="https://github.com/pat-jj/s3?tab=readme-ov-file#-run-searchretrieval" target="_blank" rel="noopener noreferrer">🔍 Lancer la recherche/récupération</a></li>
<li><a href="#-run-evaluation" target="_blank" rel="noopener noreferrer">📈 Lancer l’évaluation</a></li></p><p></ul><h2>📦 Installation</h2></p><p><strong>Environnement du chercheur & générateur</strong>
<pre><code class="language-bash">conda create -n s3 python=3.9
<h1>install torch [or you can skip this step and let vllm to install the correct version for you]</h1>
pip install torch==2.4.0 --index-url https://download.pytorch.org/whl/cu121
<h1>install vllm</h1>
pip3 install vllm==0.6.3 # or you can install 0.5.4, 0.4.2 and 0.3.1
pip3 install ray</p><h1>verl</h1>
<h1>cd code</h1>
pip install -e .</p><h1>flash attention 2</h1>
pip3 install flash-attn --no-build-isolation</p><h1>we use pyserini for efficient retrieval and evaluation</h1>
pip install pyserini    # the version we used is 0.22.1</p><h1>quality of life</h1>
pip install wandb IPython matplotlib huggingface_hub</code></pre>
<strong>Environnement Retriever</strong></p><pre><code class="language-bash">conda create -n ret python=3.10
conda activate ret</p><p>conda install pytorch==2.4.0 torchvision==0.19.0 torchaudio==2.4.0 pytorch-cuda=12.1 -c pytorch -c nvidia
pip install transformers datasets pyserini
conda install -c pytorch -c nvidia faiss-gpu=1.8.0
pip install uvicorn fastapi</code></pre>
<h2>💡 Préparation</h2>
<strong><em>Télécharger l’Index & le Corpus</strong></em></p><pre><code class="language-bash">python scripts/download.py --save_path $save_path
cat $save_path/part_* > $save_path/e5_Flat.index
gzip -d $save_path/wiki-18.jsonl.gz</code></pre></p><p><strong><em>Pré-calculer l'initialisation RAG naïve</strong></em> (ou vous pouvez télécharger nos données traitées ici : <a href="https://huggingface.co/datasets/pat-jj/s3_processed_data" target="_blank" rel="noopener noreferrer">huggingface</a>)</p><pre><code class="language-bash"># deploy retriever
bash scripts/deploy_retriever/retrieval_launch.sh # or scripts/deploy_retriever/retrieval_launch_mirage.sh for MedCorp corpus.
<h1>deploy generator</h1>
bash generator_llms/host.sh # modify tensor-parallel-size to the number of GPUs you use
<h1>run precompute</h1>
bash scripts/precompute.sh # this step will take a while, as it will precompute the naïve RAG Cache for training</code></pre>
<h2>🏋️ Exécuter l'entraînement</h2>
<strong><em>Cette étape concerne l'entraînement de S3</strong></em></p><pre><code class="language-bash"># deploy retriever
bash scripts/deploy_retriever/retrieval_launch.sh 
<h1>deploy generator</h1>
bash generator_llms/host.sh
<h1>run training</h1>
bash scripts/train/train_s3.sh</code></pre>
<h2>🔍 Exécuter la recherche/récupération</h2>
<strong><em>Cette étape concerne la collecte de contexte de s3 / bases de référence</strong></em></p><p><strong>s3</strong></p><pre><code class="language-bash"># deploy retriever
bash scripts/deploy_retriever/retrieval_launch.sh 
<h1>run s3 inference</h1>
bash scripts/s3_inference/evaluate-8-3-3.sh</code></pre>
<details>
<summary>Références de base</summary></p><p><strong>RAG</strong></p><pre><code class="language-bash">bash scripts/deploy_retriever/retrieval_launch.sh # or retrieval_launch_bm25.sh # deploy retriever
bash scripts/baselines/rag.sh # run RAG </code></pre>
<strong>DeepRetrieval</strong>
<strong>DeepRetrieval</strong>
<pre><code class="language-bash">bash retrieval_launch_bm25.sh # deploy BM25 Model
bash generator_llms/deepretrieval.sh # deploy DeepRetrieval Model
bash scripts/baselines/deepretrieval.sh # run DeepRetrieval Query Rewriting + Retrieval</code></pre>
<strong>Recherche-R1</strong></p><pre><code class="language-bash">bash retrieval_launch.sh # deploy e5 retriever
bash scripts/baselines/search_r1.sh # run Search-R1</code></pre>
<strong>IRCoT</strong></p><pre><code class="language-bash">bash retrieval_launch.sh # deploy e5 retriever
python scripts/baselines/ircot.py</code></pre>
<strong>Recherche-o1</strong></p><pre><code class="language-bash">bash retrieval_launch.sh # deploy e5 retriever
bash scripts/baselines/search_o1.sh # run Search-o1</code></pre>
</details></p><h2>📈 Exécuter l'évaluation</h2>
<strong><em>Cette étape concerne l'évaluation de s3 / des lignes de base</strong></em></p><pre><code class="language-bash">bash scripts/evaluation/run.sh</code></pre></p><h2>Q&R</h2>
<h3>Données personnalisées ?</h3>
Si vous souhaitez tester s3 sur votre propre corpus/ensemble de données, vous pouvez vous référer à ce commit pour voir ce qu'il faut faire pour construire votre propre pipeline : <a href="https://github.com/pat-jj/s3/commit/8420538836febbe59d5bcbe41187f16908c9c36c" target="_blank" rel="noopener noreferrer">commit 8420538</a></p><h3>Reproduire les résultats ?</h3>
Plusieurs développeurs ont déjà reproduit nos résultats avec succès. Si vous avez des questions ou rencontrez des problèmes, n'hésitez pas à <a href="https://github.com/pat-jj/s3/issues" target="_blank" rel="noopener noreferrer">ouvrir une issue</a> — nous sommes ravis de fournir une assistance pratique (voir <a href="https://github.com/pat-jj/s3/issues/20" target="_blank" rel="noopener noreferrer">cet exemple</a>).</p><p>Bien que reproduire le modèle vous-même soit simple — et nous <strong>recommandons réellement d'entraîner depuis zéro</strong>, car l'évaluation est souvent bien plus chronophage que l'entraînement — nous fournissons aussi un checkpoint de référence : <a href="https://huggingface.co/pat-jj/s3-8-3-3-20steps" target="_blank" rel="noopener noreferrer">s3-8-3-3-20steps</a>, entraîné en environ une heure.</p><h2>Citation</h2>
<pre><code class="language-bibtex">@article{jiang2025s3,
  title={s3: You Don't Need That Much Data to Train a Search Agent via RL},
  author={Jiang, Pengcheng and Xu, Xueqiang and Lin, Jiacheng and Xiao, Jinfeng and Wang, Zifeng and Sun, Jimeng and Han, Jiawei},
  journal={arXiv preprint arXiv:2505.14146},
  year={2025}
}</code></pre>
Merci de l'intérêt que vous portez à notre travail !</p><p>
---

Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">Open Ai Tx</a> | Last indexed: 2025-12-30

---</p>
        </div>
        
        <div class="original-link">
            <strong>Original README:</strong> <a href="https://raw.githubusercontent.com/pat-jj/s3/main/README.md" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
    </div>
    
    <div class="footer">
        <p>Translated by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">OpenAiTx</a> | 
        Last updated: 2025-12-30 
    </div>
    
</body>
</html>