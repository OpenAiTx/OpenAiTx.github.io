<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hddfancontrol - Regulate fan speed based on hard drive temperature</title>
    <meta name="description" content="Regulate fan speed based on hard drive temperature">
    <meta name="keywords" content="hddfancontrol, English, documentation, GitHub, open source">
    <meta name="author" content="OpenAiTx">
    <meta name="robots" content="index, follow">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "hddfancontrol",
  "description": "Regulate fan speed based on hard drive temperature",
  "author": {
    "@type": "Person",
    "name": "desbma"
  },
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "ratingCount": 186
  },
  "url": "https://OpenAiTx.github.io/projects/desbma/hddfancontrol/README-en.html",
  "sameAs": "https://raw.githubusercontent.com/desbma/hddfancontrol/master/README.md",
  "datePublished": "2025-12-09",
  "dateModified": "2025-12-09"
}
    </script>
    
    <!-- GitHub-style CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #24292e;
            background-color: #ffffff;
            max-width: 980px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .container {
            background: #ffffff;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .header {
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        
        .project-title {
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .project-title a {
            color: #24292e;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color 0.2s ease;
        }
        
        .project-title a:hover {
            color: #0366d6;
            text-decoration: none;
        }
        
        .project-title .github-icon {
            width: 1em;
            height: 1em;
            fill: currentColor;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .project-title a:hover .github-icon {
            opacity: 1;
        }
        
        .project-meta {
            color: #586069;
            font-size: 14px;
            margin-bottom: 16px;
        }
        
        .stars {
            display: inline-block;
            margin-right: 16px;
        }
        
        .language {
            display: inline-block;
            background-color: #f1f8ff;
            color: #0366d6;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .content {
            font-size: 16px;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            color: #24292e;
        }
        
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        
        p {
            margin-bottom: 16px;
        }
        
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        
        a {
            color: #0366d6;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        ul, ol {
            margin-bottom: 16px;
            padding-left: 2em;
        }
        
        li {
            margin-bottom: 0.25em;
        }
        
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 1em;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e1e4e8;
            color: #586069;
            font-size: 14px;
            text-align: center;
        }
        
        .footer a {
            color: #0366d6;
        }
        
        .original-link {
            margin-top: 16px;
            padding: 12px;
            background-color: #f6f8fa;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 16px;
            }
            
            .project-title {
                font-size: 1.5em;
            }
        }
    </style>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Bing Count -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sh95yd6uwt");
    </script>        

    <!-- Statcounter -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="project-title">
                <a href="https://github.com/desbma/hddfancontrol" target="_blank" rel="noopener noreferrer">
                    <svg class="github-icon" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                    </svg>
                    hddfancontrol
                </a>
            </h1>
            <div class="project-meta">
                <span class="stars">⭐ 186 stars</span>
                <span class="language">English</span>
                <span>by desbma</span>
            </div>
        </div>
        
        <div class="content">
            <h1>HDD Fan control</h1></p><p><a href="https://github.com/desbma/hddfancontrol/actions" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/github/actions/workflow/status/desbma/hddfancontrol/ci.yml" alt="CI status"></a>
<a href="https://crates.io/crates/hddfancontrol" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/crates/v/hddfancontrol" alt="crates.io version"></a>
<a href="https://aur.archlinux.org/packages/hddfancontrol/" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/aur/version/hddfancontrol.svg?style=flat" alt="AUR version"></a>
<a href="https://github.com/desbma/hddfancontrol/blob/master/LICENSE" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/github/license/desbma/hddfancontrol.svg?style=flat" alt="License"></a></p><hr></p><p>Since version 2.0, this tool has been rewritten in Rust. The previous Python version can be found in the <a href="https://github.com/desbma/hddfancontrol/tree/v1" target="_blank" rel="noopener noreferrer">v1 branch</a>. See <a href="#migrating-from-v1x" target="_blank" rel="noopener noreferrer">Migrating from v1.x</a> for migration.</p><hr></p><p>HDD Fan control is a command line tool to dynamically control fan speed according to hard drive temperature on Linux.</p><p>This has 3 benefits:</p><ul><li>it allows maintaining your hard drives in the ideal temperature range to have maximum longevity and avoid overheating</li></p><p></ul>Because fans will slow down or stop when not needed:</p><ul><li>it minimizes noise generated by the fans</li>
<li>it minimizes power consumption at the same time</li></p><p></ul><h2>Table of content</h2></p><ul><li><a href="#when-is-this-useful" target="_blank" rel="noopener noreferrer">When is this useful?</a></li>
<li><a href="#features" target="_blank" rel="noopener noreferrer">Features</a></li>
<li><a href="#prerequisites" target="_blank" rel="noopener noreferrer">Prerequisites</a></li>
<li><a href="#installation" target="_blank" rel="noopener noreferrer">Installation</a></li>
  <li><a href="#distribution-packages" target="_blank" rel="noopener noreferrer">Distribution packages</a></li>
  <li><a href="#from-source" target="_blank" rel="noopener noreferrer">From source</a></li>
<li><a href="#configuration" target="_blank" rel="noopener noreferrer">Configuration</a></li>
  <li><a href="#a-word-of-caution" target="_blank" rel="noopener noreferrer">A word of caution</a></li>
  <li><a href="#fan-configuration" target="_blank" rel="noopener noreferrer">Fan configuration</a></li>
<li><a href="#changelog" target="_blank" rel="noopener noreferrer">Changelog</a></li>
  <li><a href="#migrating-from-v1x" target="_blank" rel="noopener noreferrer">Migrating from v1.x</a></li>
<li><a href="#command-line-usage" target="_blank" rel="noopener noreferrer">Command line usage</a></li>
<li><a href="#systemd-service" target="_blank" rel="noopener noreferrer">systemd service</a></li>
<li><a href="#license" target="_blank" rel="noopener noreferrer">License</a></li></p><p></ul><h2>When is this useful?</h2></p><p>HDD Fan control is useful when you have one or several hard drives with one or several fans close to them, and do not want to let the motherboard control the fan speed, because it does so either statically, or using a temperature sensor unrelated to the real drive temperature (either on the CPU or on some other place on the motherboard).</p><p>The ideal use case is for a NAS with several hard drives, a low power CPU (ie. ARM or Intel Atom) with passive cooling (no fans), and a chassis with fans close to the hard drive. It that case the CPU will generate less heat than the hard drives and it makes sense to control fan speed according to the main heat source.</p><h2>Features</h2></p><ul><li>Can control several fans and/or several drives with a single invocation</li>
<li>Supports 6 different ways of querying temperature:</li>
  <li><code>hddtemp</code> invocation</li>
  <li><code>hddtemp</code> daemon query</li>
  <li><code>hdparm</code> invocation</li>
  <li><code>smartctl</code> invocation (SCT)</li>
  <li><code>smartctl</code> invocation (SMART attributes)</li>
  <li><code>drivetemp</code> native kernel hwmon</li>
<li>Can adapt to different fan characteristics</li>
<li>Can be customized to your needs:</li>
  <li>to stop fans or run them at full speed at customizable temperatures</li>
  <li>to never set the fans below a certain speed (useful if the fans controlled by HDD Fan control are the only ones available in the chassis)</li>
<li>Can also optionally monitor CPU temperature, and control fan speed accordingly</li></p><p></ul><h2>Prerequisites</h2></p><ul><li>A Linux distribution</li>
<li>A least one SATA/SAS\* hard drive, that supports:</li>
  <li>Temperature querying</li>
  <li>Power state querying</li>
<li>A motherboard which:</li>
  <li>exposes to the OS a PWM to control fan speed</li>
  <li>exposes to the OS a sensor to query fan speed</li></p><p></ul>Most motherboards and SATA drives fit these requirements.</p><p>\* There has been several reports of <code>hddfancontrol</code> working well with SAS drives, however this has been less tested than SATA.</p><h2>Installation</h2></p><h3>Distribution packages</h3>
Some Linux distributions have a hddfancontrol package available in their repository:</p><ul><li>Alpine Linux (testing): <a href="https://pkgs.alpinelinux.org/package/edge/testing/x86_64/hddfancontrol" target="_blank" rel="noopener noreferrer">hddfancontrol</a></li>
<li>Arch Linux (AUR): <a href="https://aur.archlinux.org/packages/hddfancontrol/" target="_blank" rel="noopener noreferrer">hddfancontrol</a></li>
<li>Fedora: <a href="https://packages.fedoraproject.org/pkgs/hddfancontrol/hddfancontrol/" target="_blank" rel="noopener noreferrer">hddfancontrol</a></li></p><p></ul>See <a href="https://github.com/desbma/hddfancontrol/releases" target="_blank" rel="noopener noreferrer">GitHub releases</a> for other packages/binaries built for each tagged version.</p><h3>From source</h3></p><p>You need a Rust build environment for example from <a href="https://rustup.rs/" target="_blank" rel="noopener noreferrer">rustup</a>.</p><p>Run in the current repository:</p><pre><code class="language-">cargo build --release
install -Dm 755 -t /usr/local/bin target/release/hddfancontrol</code></pre>
Also install <a href="http://sourceforge.net/projects/hdparm/" target="_blank" rel="noopener noreferrer">hdparm</a>, <a href="https://www.smartmontools.org/" target="_blank" rel="noopener noreferrer">smartctl</a>, <a href="https://sg.danny.cz/sg/sdparm.html" target="_blank" rel="noopener noreferrer">sdparm</a> (for SAS drive support), and optionally <a href="http://www.guzu.net/linux/hddtemp.php" target="_blank" rel="noopener noreferrer">hddtemp</a>.
On recent Ubuntu and other Debian derivatives: <code>sudo apt install hdparm sdparm smartmontools</code>.</p><p>See <a href="#systemd-service" target="_blank" rel="noopener noreferrer">systemd service</a> to easily manage the daemon.</p><h3>From <a href="https://crates.io/" target="_blank" rel="noopener noreferrer"><code>crates.io</code></a></h3></p><pre><code class="language-">sudo cargo install --root /usr/local</code></pre>
<h2>Configuration</h2></p><h3>A word of caution</h3></p><p>The default parameters will run fans at 100% speed at temperatures > 50°C, and run them a 20% speed if < 30°C, which corresponds to the usual recommended drive operating temperature. If you are sure that there are no other components in your system that generate significant heat, if you have other fans to cool down your system, or if you have a case optimized for passive cooling, you can set minimum speed to 0%, which will stop the fans if temperature is below the minimum threshold.</p><p><strong>Be aware that a misconfiguration of this tool can lead to a failure to cool down your system properly which can damage components or reduce their lifetime.</strong></p><p>Before using HDD Fan control unmonitored for long period of time, I recommend keeping a minimum fan speed for security, and checking that the temperature of your system stays in reasonable range as expected.</p><h3>Fan configuration</h3></p><p>To get the start/stop values for the <code>--pwm</code> parameter, you can either:</p><ul><li>Use the <code>pwm-test</code> command (<code>hddfancontrol pwm-test ...</code>), which will run some tests and detect the values at which the fans start and stop. However you need to have previously identified the PWM file (the <code>--pwm</code> parameter)</li>
<li>use the <a href="http://www.lm-sensors.org/wiki/man/pwmconfig" target="_blank" rel="noopener noreferrer">pwmconfig tool</a>.</li></p><p></ul><h2>Changelog</h2></p><p>See <a href="https://raw.githubusercontent.com/desbma/hddfancontrol/master/./CHANGELOG.md" target="_blank" rel="noopener noreferrer">detailed changelog</a> for all changes since initial version 2.</p><h3>Migrating from v1.x</h3></p><p>With version 2, <code>hddfancontrol</code> has been completely rewritten in the Rust language. The main changes coming from version 1 are:</p><ul><li><code>hddfancontrol</code> is a compiled binary, and does not require a Python interpreter anymore.</li>
<li>Command line arguments are slightly changed, and will required to be manually adjusted, either in your <code>hddfancontrol</code> invocations, or in the <code>/etc/conf.d/hddfancontrol</code> file if you use it through the systemd service. See <code>hddfancontrol daemon -h</code> for a reference.</li>
<li>The auto drive spin down feature has been removed. If you need it, I recommend using <a href="https://github.com/adelolmo/hd-idle" target="_blank" rel="noopener noreferrer">hd-idle</a> (beware there are several similarly named projects), which works well alongside <code>hddfancontrol</code>.</li></p><p></ul><h2>Command line usage</h2></p><p>Run <code>hddfancontrol -h</code> to get full command line reference.</p><p>As an example, the command line below will instruct HDD Fan control to:</p><ul><li>monitor temperature of drives <code>/dev/sda</code> and <code>/dev/sdb</code></li>
<li>control fan speed using PWM 2 and 3 in <code>/sys/class/hwmon/hwmon1/device/</code></li>
<li>start both fans using PWM value 200</li>
<li>consider the fans will stop with PWM value 75</li></p><p><li>never run the fans below 10% of their maximum speed</li>
<li>check temperature at least every minute</li></p><p></ul><code>hddfancontrol daemon -d /dev/sda /dev/sdb -p /sys/class/hwmon/hwmon1/device/pwm2:200:75 /sys/class/hwmon/hwmon1/device/pwm3:200:75 --min-fan-speed-prct 10 -i 1min</code></p><h2>systemd service</h2></p><p>A systemd service file is provided to control the daemon easily.
If you installed hddfancontrol from a distribution package, you likely already have it installed, otherwise you can install it from the sources of this repository with:</p><pre><code class="language-">sudo install -Dm 644 ./systemd/hddfancontrol.service /etc/systemd/system/hddfancontrol.service
sudo install -Dm 644 ./systemd/hddfancontrol.conf /etc/conf.d/hddfancontrol</code></pre></p><p>Then you need to edit the <code>HDDFANCONTROL_DAEMON_ARGS</code> variable in <code>/etc/conf.d/hddfancontrol</code> to set the parameters (drives, temperature range...).</p><p>You can then start the daemon with <code>sudo systemctl start hddfancontrol</code>, see its status with <code>sudo systemctl status hddfancontrol</code> and enable automatic startup at boot time with <code>sudo systemctl enable hddfancontrol</code>.</p><h2>License</h2></p><p><a href="https://www.gnu.org/licenses/gpl-3.0-standalone.html" target="_blank" rel="noopener noreferrer">GPLv3</a></p><p>
---

Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">Open Ai Tx</a> | Last indexed: 2025-12-09

---</p>
        </div>
        
        <div class="original-link">
            <strong>Original README:</strong> <a href="https://raw.githubusercontent.com/desbma/hddfancontrol/master/README.md" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
    </div>
    
    <div class="footer">
        <p>Translated by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">OpenAiTx</a> | 
        Last updated: 2025-12-09 
    </div>
    
</body>
</html>