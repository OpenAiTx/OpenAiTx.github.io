<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapperatorinator - إطار عمل ذكاء اصطناعي لتوليد وتعديل خرائط osu! لجميع أوضاع اللعب باستخدام مدخلات مخطط الطيف.</title>
    <meta name="description" content="إطار عمل ذكاء اصطناعي لتوليد وتعديل خرائط osu! لجميع أوضاع اللعب باستخدام مدخلات مخطط الطيف.">
    <meta name="keywords" content="Mapperatorinator, Arabic, documentation, GitHub, open source">
    <meta name="author" content="OpenAiTx">
    <meta name="robots" content="index, follow">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "Mapperatorinator",
  "description": "إطار عمل ذكاء اصطناعي لتوليد وتعديل خرائط osu! لجميع أوضاع اللعب باستخدام مدخلات مخطط الطيف.",
  "author": {
    "@type": "Person",
    "name": "OliBomby"
  },
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "ratingCount": 398
  },
  "url": "https://OpenAiTx.github.io/projects/OliBomby/Mapperatorinator/README-ar.html",
  "sameAs": "https://raw.githubusercontent.com/OliBomby/Mapperatorinator/main/README.md",
  "datePublished": "2026-01-24",
  "dateModified": "2026-01-24"
}
    </script>
    
    <!-- GitHub-style CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #24292e;
            background-color: #ffffff;
            max-width: 980px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .container {
            background: #ffffff;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .header {
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        
        .project-title {
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .project-title a {
            color: #24292e;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color 0.2s ease;
        }
        
        .project-title a:hover {
            color: #0366d6;
            text-decoration: none;
        }
        
        .project-title .github-icon {
            width: 1em;
            height: 1em;
            fill: currentColor;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .project-title a:hover .github-icon {
            opacity: 1;
        }
        
        .project-meta {
            color: #586069;
            font-size: 14px;
            margin-bottom: 16px;
        }
        
        .stars {
            display: inline-block;
            margin-right: 16px;
        }
        
        .language {
            display: inline-block;
            background-color: #f1f8ff;
            color: #0366d6;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .content {
            font-size: 16px;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            color: #24292e;
        }
        
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        
        p {
            margin-bottom: 16px;
        }
        
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        
        a {
            color: #0366d6;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        ul, ol {
            margin-bottom: 16px;
            padding-left: 2em;
        }
        
        li {
            margin-bottom: 0.25em;
        }
        
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 1em;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e1e4e8;
            color: #586069;
            font-size: 14px;
            text-align: center;
        }
        
        .footer a {
            color: #0366d6;
        }
        
        .original-link {
            margin-top: 16px;
            padding: 12px;
            background-color: #f6f8fa;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 16px;
            }
            
            .project-title {
                font-size: 1.5em;
            }
        }
    </style>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Bing Count -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sh95yd6uwt");
    </script>        

    <!-- Statcounter -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="project-title">
                <a href="https://github.com/OliBomby/Mapperatorinator" target="_blank" rel="noopener noreferrer">
                    <svg class="github-icon" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                    </svg>
                    Mapperatorinator
                </a>
            </h1>
            <div class="project-meta">
                <span class="stars">⭐ 398 stars</span>
                <span class="language">Arabic</span>
                <span>by OliBomby</span>
            </div>
        </div>
        
        <div class="content">
            <p>
<div align="right">
  <details>
    <summary >🌐 اللغة</summary>
    <div>
      <div align="center">
        <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=en">English</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=zh-CN">简体中文</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=zh-TW">繁體中文</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=ja">日本語</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=ko">한국어</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=hi">हिन्दी</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=th">ไทย</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=fr">Français</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=de">Deutsch</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=es">Español</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=it">Italiano</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=ru">Русский</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=pt">Português</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=nl">Nederlands</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=pl">Polski</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=ar">العربية</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=fa">فارسی</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=tr">Türkçe</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=vi">Tiếng Việt</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=id">Bahasa Indonesia</a>
        | <a href="https://openaitx.github.io/view.html?user=OliBomby&project=Mapperatorinator&lang=as">অসমীয়া</
      </div>
    </div>
  </details>
</div></p><h1>مابراتوريناتور</h1></p><p>جرّب النموذج التوليدي <a href="https://colab.research.google.com/github/OliBomby/Mapperatorinator/blob/main/colab/mapperatorinator_inference.ipynb" target="_blank" rel="noopener noreferrer">هنا</a>، أو MaiMod <a href="https://colab.research.google.com/github/OliBomby/Mapperatorinator/blob/main/colab/mai_mod_inference.ipynb" target="_blank" rel="noopener noreferrer">هنا</a>. شاهد فيديو توضيحي <a href="https://youtu.be/FEr7t1L2EoA" target="_blank" rel="noopener noreferrer">هنا</a>.</p><p>مابراتوريناتور هو إطار عمل متعدد النماذج يستخدم مدخلات الطيف الترددي لإنشاء خرائط إيقاع osu! كاملة الميزات لجميع أوضاع اللعب و<a href="#maimod-the-ai-driven-modding-tool" target="_blank" rel="noopener noreferrer">مساعدة تعديل الخرائط</a>.
هدف هذا المشروع هو توليد خرائط osu! قابلة للترتيب تلقائيًا من أي أغنية مع درجة عالية من التخصيص.</p><p>هذا المشروع مبني على <a href="https://github.com/gyataro/osuT5" target="_blank" rel="noopener noreferrer">osuT5</a> و <a href="https://github.com/OliBomby/osu-diffusion" target="_blank" rel="noopener noreferrer">osu-diffusion</a>. أثناء تطويره، قضيت حوالي 2500 ساعة من حسابات GPU عبر 142 تجربة على بطاقة 4060 Ti وأجهزة 4090 مستأجرة من vast.ai.</p><p>#### استخدم هذه الأداة بمسؤولية. احرص دائمًا على الإفصاح عن استخدام الذكاء الاصطناعي في خرائط الإيقاع الخاصة بك.</p><h2>التثبيت</h2></p><p>تسمح لك التعليمات أدناه بإنشاء خرائط الإيقاع على جهازك المحلي، ويمكنك أيضًا تشغيلها على السحابة باستخدام <a href="https://colab.research.google.com/github/OliBomby/Mapperatorinator/blob/main/colab/mapperatorinator_inference.ipynb" target="_blank" rel="noopener noreferrer">دفتر كولاب</a>.</p><h3>١. استنساخ المستودع</h3></p><pre><code class="language-sh">git clone https://github.com/OliBomby/Mapperatorinator.git
cd Mapperatorinator</code></pre></p><h3>2. (اختياري) إنشاء بيئة افتراضية</h3></p><p>استخدم Python 3.10، قد لا تكون الإصدارات الأحدث متوافقة مع الاعتمادات.</p><pre><code class="language-sh">python -m venv .venv</p><h1>In cmd.exe</h1>
.venv\Scripts\activate.bat
<h1>In PowerShell</h1>
.venv\Scripts\Activate.ps1
<h1>In Linux or MacOS</h1>
source .venv/bin/activate</code></pre></p><h3>3. تثبيت المتطلبات</h3></p><ul><li>بايثون 3.10</li>
<li><a href="https://git-scm.com/downloads" target="_blank" rel="noopener noreferrer">جيت</a></li>
<li><a href="http://www.ffmpeg.org/" target="_blank" rel="noopener noreferrer">ffmpeg</a></li>
<li><a href="https://developer.nvidia.com/cuda-zone" target="_blank" rel="noopener noreferrer">CUDA</a> (لبطاقات NVIDIA) أو <a href="https://rocmdocs.amd.com/en/latest/Installation_Guide/Installation-Guide.html" target="_blank" rel="noopener noreferrer">ROCm</a> (لبطاقات AMD على لينكس)</li>
<li><a href="https://pytorch.org/get-started/locally/" target="_blank" rel="noopener noreferrer">PyTorch</a>: تأكد من اتباع دليل البدء حتى تقوم بتثبيت <code>torch</code> و<code>torchaudio</code> مع دعم وحدة معالجة الرسومات. اختر إصدار منصة الحوسبة الصحيح الذي قمت بتثبيته في الخطوة السابقة.</li></p><p><li>والمتطلبات المتبقية للبايثون:</li></p><p></ul><pre><code class="language-sh">pip install -r requirements.txt</code></pre></p><h2>واجهة المستخدم الرسومية على الويب (موصى بها)</h2></p><p>للحصول على تجربة أكثر سهولة للمستخدم، يُنصح باستخدام واجهة الويب. فهي توفر واجهة رسومية لتكوين معلمات التوليد، بدء العملية، ومراقبة المخرجات.</p><h3>تشغيل الواجهة الرسومية</h3></p><p>انتقل إلى دليل <code>Mapperatorinator</code> المستنسخ في الطرفية الخاصة بك وقم بتشغيل:</p><pre><code class="language-sh">python web-ui.py</code></pre>
سيقوم هذا بتشغيل خادم ويب محلي وفتح واجهة المستخدم تلقائيًا في نافذة جديدة.</p><h3>استخدام الواجهة الرسومية</h3></p><ul><li><strong>الإعداد:</strong> قم بتحديد مسارات الإدخال/الإخراج باستخدام حقول النموذج وأزرار "تصفح". اضبط معلمات التوليد مثل وضع اللعبة، الصعوبة، النمط (السنة، معرف الصانع، الأوصاف)، التوقيت، الميزات المحددة (مؤثرات الضربات، التوقيت الفائق)، وغير ذلك، لتعكس خيارات سطر الأوامر. (ملاحظة: إذا قمت بتحديد <code>beatmap_path</code>، ستحدد الواجهة تلقائيًا <code>audio_path</code> و <code>output_path</code> منه، لذا يمكنك ترك هذه الحقول فارغة)</li>
<li><strong>البدء:</strong> اضغط على زر "بدء الاستدلال" لبدء توليد خريطة الإيقاع.</li>
<li><strong>إلغاء:</strong> يمكنك إيقاف العملية الجارية باستخدام زر "إلغاء الاستدلال".</li>
<li><strong>فتح الإخراج:</strong> بعد الانتهاء، استخدم زر "فتح مجلد الإخراج" للوصول السريع إلى الملفات المولدة.</li></p><p></ul>تعمل واجهة الويب كغلاف مريح حول البرنامج النصي <code>inference.py</code>. للمزيد من الخيارات المتقدمة أو استكشاف الأخطاء، راجع تعليمات سطر الأوامر.</p><p><img src="https://github.com/user-attachments/assets/5312a45f-d51c-4b37-9389-da3258ddd0a1" alt="python_u3zyW0S3Vs"></p><h2>الاستدلال عبر سطر الأوامر</h2></p><p>للمستخدمين الذين يفضلون سطر الأوامر أو يحتاجون للوصول إلى إعدادات متقدمة، اتبع الخطوات التالية. <strong>ملاحظة:</strong> للحصول على واجهة رسومية أبسط، يرجى مراجعة قسم <a href="#web-ui-recommended" target="_blank" rel="noopener noreferrer">واجهة الويب (موصى بها)</a> أعلاه.</p><p>قم بتشغيل <code>inference.py</code> ومرر بعض الوسيطات لتوليد خرائط الإيقاع. لهذا استخدم <a href="https://hydra.cc/docs/advanced/override_grammar/basic/" target="_blank" rel="noopener noreferrer">بنية تجاوز Hydra</a>. راجع <code>configs/inference_v29.yaml</code> لجميع المعلمات المتاحة.</p><pre><code class="language-">python inference.py \
  audio_path           [Path to input audio] \
  output_path          [Path to output directory] \
  beatmap_path         [Path to .osu file to autofill metadata, and output_path, or use as reference] \
  
  gamemode             [Game mode to generate 0=std, 1=taiko, 2=ctb, 3=mania] \
  difficulty           [Difficulty star rating to generate] \
  mapper_id            [Mapper user ID for style] \
  year                 [Upload year to simulate] \
  hitsounded           [Whether to add hitsounds] \
  slider_multiplier    [Slider velocity multiplier] \
  circle_size          [Circle size] \
  keycount             [Key count for mania] \
  hold_note_ratio      [Hold note ratio for mania 0-1] \
  scroll_speed_ratio   [Scroll speed ratio for mania and ctb 0-1] \
  descriptors          [List of beatmap user tags for style] \
  negative_descriptors [List of beatmap user tags for classifier-free guidance] \
  
  add_to_beatmap       [Whether to add generated content to the reference beatmap instead of making a new beatmap] \
  start_time           [Generation start time in milliseconds] \
  end_time             [Generation end time in milliseconds] \
  in_context           [List of additional context to provide to the model [NONE,TIMING,KIAI,MAP,GD,NO_HS]] \
  output_type          [List of content types to generate] \
  cfg_scale            [Scale of the classifier-free guidance] \
  super_timing         [Whether to use slow accurate variable BPM timing generator] \
  seed                 [Random seed for generation] \</code></pre></p><p>مثال:
<pre><code class="language-">python inference.py beatmap_path="'C:\Users\USER\AppData\Local\osu!\Songs\1 Kenji Ninuma - DISCO PRINCE\Kenji Ninuma - DISCOPRINCE (peppy) [Normal].osu'" gamemode=0 difficulty=5.5 year=2023 descriptors="['jump aim','clean']" in_context=[TIMING,KIAI]</code></pre></p><h2>واجهة سطر الأوامر التفاعلية</h2>
بالنسبة لأولئك الذين يفضلون العمل عبر الطرفية ولكن يرغبون في إعداد موجه، فإن برنامج سطر الأوامر التفاعلي يعد بديلاً ممتازاً عن واجهة المستخدم عبر الويب.</p><h3>تشغيل واجهة الأوامر</h3>
انتقل إلى الدليل الذي تم نسخه. قد تحتاج أولاً إلى جعل البرنامج النصي قابلاً للتنفيذ.</p><pre><code class="language-sh"># Make the script executable (only needs to be done once)
chmod +x cli_inference.sh</code></pre></p><pre><code class="language-sh"># Run the script
./cli_inference.sh</code></pre></p><h3>استخدام واجهة الأوامر (CLI)</h3>
سيرشدك البرنامج النصي عبر سلسلة من التعليمات التوضيحية لتكوين جميع معلمات التوليد، تمامًا مثل واجهة الويب.</p><p>يستخدم واجهة ملونة لزيادة الوضوح.
يوفر قائمة متقدمة متعددة الاختيارات لاختيار أوصاف الأسلوب باستخدام مفاتيح الأسهم ومسافة الإدخال.
بعد إجابتك على جميع الأسئلة، سيعرض الأمر النهائي للمراجعة.
يمكنك بعد ذلك التأكيد لتنفيذه مباشرة أو الإلغاء ونسخ الأمر للاستخدام اليدوي.</p><h2>نصائح التوليد</h2></p><ul><li>يمكنك تعديل الملف <code>configs/inference_v29.yaml</code> وإضافة الوسائط الخاصة بك هناك بدلاً من كتابتها في الطرفية في كل مرة.</li>
<li>جميع الأوصاف المتاحة يمكن العثور عليها <a href="https://osu.ppy.sh/wiki/en/Beatmap/Beatmap_tags" target="_blank" rel="noopener noreferrer">هنا</a>.</li>
<li>يجب دائمًا تقديم وسيط السنة بين 2007 و2023. إذا تركته غير معروف، قد يولد النموذج بأسلوب غير متناسق.</li>
<li>يجب دائمًا تقديم وسيط الصعوبة. إذا تركته غير معروف، قد يولد النموذج بصعوبة غير متناسقة.</li>
<li>قم بزيادة معامل <code>cfg_scale</code> لزيادة فعالية وسائط <code>mapper_id</code> و<code>descriptors</code>.</li>
<li>يمكنك استخدام وسيط <code>negative_descriptors</code> لتوجيه النموذج بعيدًا عن أنماط معينة. هذا يعمل فقط عندما يكون <code>cfg_scale > 1</code>. تأكد من أن عدد الأوصاف السلبية يساوي عدد الأوصاف.</li>
<li>إذا كان أسلوب أغنيتك وأسلوب خريطة الضربات المطلوب غير متطابقين جيدًا، قد لا يتبع النموذج تعليماتك. على سبيل المثال، من الصعب توليد خريطة ضربات بقيمة SR وSV عالية لأغنية هادئة.</li>
<li>إذا كان لديك بالفعل توقيت وأوقات كياي لأغنية، يمكنك إعطاؤها للنموذج لزيادة سرعة ودقة الاستدلال بشكل كبير: استخدم وسائط <code>beatmap_path</code> و<code>in_context=[TIMING,KIAI]</code>.</li>
<li>لإعادة تعيين جزء فقط من خريطة الضربات، استخدم وسائط <code>beatmap_path</code> و<code>start_time</code> و<code>end_time</code> و<code>add_to_beatmap=true</code>.</li>
<li>لتوليد صعوبة ضيف لخريطة ضربات، استخدم وسائط <code>beatmap_path</code> و<code>in_context=[GD,TIMING,KIAI]</code>.</li>
<li>لتوليد أصوات ضربات لخريطة ضربات، استخدم وسائط <code>beatmap_path</code> و<code>in_context=[NO_HS,TIMING,KIAI]</code>.</li>
<li>لتوليد التوقيت فقط لأغنية، استخدم وسائط <code>super_timing=true</code> و<code>output_type=[TIMING]</code>.</li></p><p></ul><h2>MaiMod: أداة التعديل المدفوعة بالذكاء الاصطناعي</h2></p><p>MaiMod هي أداة لتعديل خرائط osu! تستخدم تنبؤات Mapperatorinator للعثور على الأخطاء والتناقضات المحتملة التي لا يمكن اكتشافها بواسطة أدوات التعديل التلقائي الأخرى مثل <a href="https://github.com/Naxesss/MapsetVerifier" target="_blank" rel="noopener noreferrer">Mapset Verifier</a>.
يمكنها اكتشاف مشكلات مثل:
<ul><li>التقاط أو أنماط إيقاعية غير صحيحة</li>
<li>نقاط توقيت غير دقيقة</li>
<li>مواضع أشياء الضربات أو تعيين مجموعات جديدة غير متناسقة</li>
<li>أشكال سلايدرات غريبة</li>
<li>أصوات ضربات أو مستويات صوت غير متناسقة</li></p><p></ul>يمكنك تجربة MaiMod <a href="https://colab.research.google.com/github/OliBomby/Mapperatorinator/blob/main/colab/mai_mod_inference.ipynb" target="_blank" rel="noopener noreferrer">من هنا</a>، أو تشغيلها محليًا:
لتشغيل MaiMod محليًا، ستحتاج إلى تثبيت Mapperatorinator. ثم قم بتشغيل البرنامج النصي <code>mai_mod.py</code> مع تحديد مسار خريطة ضرباتك باستخدام وسيط <code>beatmap_path</code>.
<pre><code class="language-sh">python mai_mod.py beatmap_path="'C:\Users\USER\AppData\Local\osu!\Songs\1 Kenji Ninuma - DISCO PRINCE\Kenji Ninuma - DISCOPRINCE (peppy) [Normal].osu'"</code></pre>
سيقوم هذا بطباعة اقتراحات التعديل في وحدة التحكم، والتي يمكنك تطبيقها يدويًا على خريطة الإيقاع الخاصة بك.
يتم ترتيب الاقتراحات ترتيبًا زمنيًا ويتم تجميعها في فئات.
القيمة الأولى داخل الدائرة تشير إلى "المفاجأة"، وهي مقياس لمدى عدم توقع النموذج للمشكلة، بحيث يمكنك إعطاء الأولوية لأهم المشكلات.</p><p>قد يرتكب النموذج أخطاء، خاصة في المشكلات ذات المفاجأة المنخفضة، لذا تحقق دائمًا من الاقتراحات قبل تطبيقها على خريطة الإيقاع الخاصة بك.
الهدف الرئيسي هو مساعدتك في تضييق نطاق البحث عن المشكلات المحتملة، حتى لا تضطر إلى فحص كل عنصر ضرب في خريطة الإيقاع يدويًا.</p><h3>واجهة MaiMod الرسومية</h3>
لتشغيل واجهة MaiMod Web UI، ستحتاج إلى تثبيت Mapperatorinator.
ثم، قم بتشغيل برنامج <code>mai_mod_ui.py</code>. سيؤدي ذلك إلى بدء خادم ويب محلي وفتح الواجهة تلقائيًا في نافذة جديدة:</p><pre><code class="language-sh">python mai_mod_ui.py</code></pre></p><p><img width="850" height="1019" alt="afbeelding" src="https://github.com/user-attachments/assets/67c03a43-a7bd-4265-a5b1-5e4d62aca1fa" /></p><h2>نظرة عامة</h2></p><h3>الترميز إلى رموز</h3></p><p>يقوم Mapperatorinator بتحويل خرائط osu! إلى تمثيل وسيط للأحداث يمكن تحويله مباشرة إلى رموز والعكس صحيح.
يتضمن ذلك الكائنات التي يتم ضربها، أصوات الضربات، سرعات المنزلق، المجموعات الجديدة، نقاط التوقيت، أوقات الكيائي، وسرعات التمرير في تايكو/مانيا.</p><p>إليك مثال صغير على عملية الترميز إلى رموز:</p><p><img src="https://github.com/user-attachments/assets/84efde76-4c27-48a1-b8ce-beceddd9e695" alt="mapperatorinator_parser"></p><p>لتوفير حجم المفردات، يتم تقطيع الأحداث الزمنية إلى فترات 10 مللي ثانية، ويتم تقطيع إحداثيات المواقع إلى نقاط شبكة بمقدار 32 بكسل.</p><h3>بنية النموذج</h3>
النموذج هو في الأساس غلاف حول نموذج <a href="https://huggingface.co/docs/transformers/en/model_doc/whisper#transformers.WhisperForConditionalGeneration" target="_blank" rel="noopener noreferrer">HF Transformers Whisper</a>، مع تضمينات إدخال مخصصة ودالة خسارة مخصصة.
حجم النموذج يبلغ 219 مليون معامل.
وقد تبين أن هذا النموذج أسرع وأكثر دقة من T5 لهذه المهمة.</p><p>النظرة العامة عالية المستوى للمدخلات والمخرجات في النموذج كما يلي:</p><p><img src="https://user-images.githubusercontent.com/28675590/201044116-1384ad72-c540-44db-a285-7319dd01caad.svg" alt="Picture2"></p><p>يستخدم النموذج إطارات طيف ميل كمدخلات للمشفّر، مع إطار واحد لكل موضع إدخال. مخرجات مفكك النموذج في كل خطوة هي توزيع سوفتماكس على مفردات أحداث محددة ومنفصلة مسبقًا. المخرجات متفرقة، الأحداث مطلوبة فقط عند حدوث كائن للضرب، بدلاً من التعليق على كل إطار صوتي فردي.</p><h3>تنسيق التدريب متعدد المهام</h3></p><p><img src="https://github.com/user-attachments/assets/62f490bc-a567-4671-a7ce-dbcc5f9cd6d9" alt="Multitask training format"></p><p>قبل رمز SOS هناك رموز إضافية تسهل التوليد الشرطي. تشمل هذه الرموز نمط اللعبة، الصعوبة، معرف المصمم، السنة، وبيانات وصفية أخرى.
خلال التدريب، هذه الرموز ليس لها تسميات مرافقة، لذلك لا يتم إنتاجها أبدًا من قبل النموذج.
أيضًا خلال التدريب هناك احتمال عشوائي أن يتم استبدال رمز من البيانات الوصفية برمز "غير معروف"، لذلك أثناء الاستدلال يمكننا استخدام هذه الرموز "غير المعروفة" لتقليل كمية البيانات الوصفية التي يجب إعطاؤها للنموذج.</p><h3>توليد متواصل بلا فواصل</h3></p><p>طول سياق النموذج هو 8.192 ثانية. من الواضح أن هذا غير كافٍ لتوليد خريطة كاملة، لذلك يجب تقسيم الأغنية إلى نوافذ متعددة وتوليد الخريطة في أجزاء صغيرة.
لضمان عدم وجود فواصل ملحوظة في الخريطة الناتجة بين النوافذ، نستخدم تداخل بنسبة 90% ونولد النوافذ بالتسلسل.
كل نافذة توليد باستثناء الأولى تبدأ بمفكك النموذج المعبأ مسبقًا حتى 50% من نافذة التوليد باستخدام الرموز من النوافذ السابقة.
نستخدم معالج لوغيت للتأكد من أن النموذج لا يمكنه توليد رموز الوقت التي تقع في أول 50% من نافذة التوليد.
بالإضافة إلى ذلك، يتم حجز آخر 40% من نافذة التوليد للنافذة التالية. أي رموز وقت يتم توليدها في هذا النطاق تُعامل كرُموز نهاية تسلسل (EOS).
يضمن ذلك أن كل رمز يتم توليده يعتمد على 4 ثوانٍ على الأقل من الرموز السابقة و3.3 ثوانٍ من الصوت المستقبلي للتوقع.</p><p>لمنع انجراف الإزاحة أثناء التوليد الطويل، تمت إضافة إزاحات عشوائية إلى أحداث الوقت في وحدة فك الترميز أثناء التدريب.
هذا يجبرها على تصحيح أخطاء التوقيت من خلال الاستماع إلى البدايات في الصوت بدلاً من ذلك، وينتج عنه إزاحة دقيقة باستمرار.</p><h3>إحداثيات محسّنة بالانتشار</h3></p><p>الإحداثيات المكانية التي يولدها وحدة فك الترميز يتم تقريبها إلى شبكة من 32 بكسل، لذا نستخدم بعد ذلك الانتشار لإزالة الضوضاء من الإحداثيات إلى المواقع النهائية.
لهذا قمنا بتدريب نسخة معدلة من <a href="https://github.com/OliBomby/osu-diffusion" target="_blank" rel="noopener noreferrer">osu-diffusion</a> متخصصة فقط في آخر 10% من جدول الضوضاء، وتقبل رموز بيانات وصفية أكثر تقدماً يستخدمها Mapperatorinator للتوليد الشرطي.</p><p>نظرًا لأن نموذج Mapperatorinator يخرج SV للمنزلقات، فإن الطول المطلوب للمنزلق ثابت بغض النظر عن شكل مسار نقطة التحكم.
لذلك، نحاول توجيه عملية الانتشار لإنشاء إحداثيات تتناسب مع أطوال المنزلق المطلوبة.
نفعل ذلك من خلال إعادة حساب مواقع نهاية المنزلق بعد كل خطوة من عملية الانتشار بناءً على الطول المطلوب ومسار نقطة التحكم الحالي.
هذا يعني أن عملية الانتشار ليس لديها سيطرة مباشرة على مواقع نهاية المنزلق، لكنها لا تزال تستطيع التأثير عليها من خلال تغيير مسار نقطة التحكم.</p><h3>المعالجة اللاحقة</h3></p><p>يقوم Mapperatorinator ببعض المعالجة الإضافية لتحسين جودة خريطة الإيقاع المولدة:</p><ul><li>تحسين الإحداثيات المكانية باستخدام الانتشار.</li>
<li>إعادة ضبط أحداث الوقت لأقرب علامة باستخدام مقسّمات التطابق التي يولدها النموذج.</li>
<li>ضبط التداخلات الموضعية شبه المثالية.</li>
<li>تحويل أحداث أعمدة المانيا إلى إحداثيات X.</li>
<li>توليد مسارات المنزلقات لطبول تايكو.</li>
<li>إصلاح الفروقات الكبيرة بين الطول المطلوب للمنزلق وطول مسار نقطة التحكم.</li></p><p></ul><h3>مولد التوقيت الفائق</h3></p><p>مولد التوقيت الفائق هو خوارزمية تحسن دقة وضبط التوقيت المولد من خلال استنتاج التوقيت للأغنية بالكامل 20 مرة وأخذ متوسط النتائج.
هذا مفيد للأغاني ذات معدل نبض متغير، أو الأغاني التي بها تغييرات في معدل النبض. النتيجة تقريباً مثالية مع فقط في بعض الأحيان جزء يحتاج لتعديل يدوي.</p><h2>التدريب</h2></p><p>التعليمات أدناه تنشئ بيئة تدريب على جهازك المحلي.</p><h3>1. استنساخ المستودع</h3></p><pre><code class="language-sh">git clone https://github.com/OliBomby/Mapperatorinator.git
cd Mapperatorinator</code></pre></p><h3>2. إنشاء مجموعة البيانات</h3></p><p>أنشئ مجموعة البيانات الخاصة بك باستخدام <a href="https://github.com/mappingtools/Mapperator/blob/master/README.md#create-a-high-quality-dataset" target="_blank" rel="noopener noreferrer">تطبيق وحدة تحكم Mapperator</a>. يتطلب ذلك <a href="https://osu.ppy.sh/home/account/edit" target="_blank" rel="noopener noreferrer">رمز عميل OAuth لـ osu!</a> للتحقق من خرائط الإيقاع والحصول على بيانات وصفية إضافية. ضع مجموعة البيانات في مجلد <code>datasets</code> بجوار مجلد <code>Mapperatorinator</code>.</p><pre><code class="language-sh">Mapperator.ConsoleApp.exe dataset2 -t "/Mapperatorinator/datasets/beatmap_descriptors.csv" -i "path/to/osz/files" -o "/datasets/cool_dataset"</code></pre></p><h3>3. (اختياري) إعداد Weight & Biases للتسجيل</h3>
أنشئ حسابًا على <a href="https://wandb.ai/site" target="_blank" rel="noopener noreferrer">Weight & Biases</a> واحصل على مفتاح API الخاص بك من إعدادات حسابك.
ثم قم بتعيين متغير البيئة <code>WANDB_API_KEY</code>، حتى يعرف سير عملية التدريب التسجيل باستخدام هذا المفتاح.</p><pre><code class="language-sh">export WANDB_API_KEY=<your_api_key></code></pre></p><h3>4. إنشاء حاوية دوكر</h3>
يمكنك التدريب في البيئة الافتراضية الخاصة بك أيضًا، لكننا نوصي باستخدام دوكر على WSL للحصول على أداء أفضل.
<pre><code class="language-sh">docker compose up -d --force-recreate
docker attach mapperatorinator_space
cd Mapperatorinator</code></pre></p><h3>5. ضبط المعلمات وبدء التدريب</h3></p><p>جميع الإعدادات موجودة في <code>./configs/train/default.yaml</code>.
تأكد من تعيين <code>train_dataset_path</code> و <code>test_dataset_path</code> بشكل صحيح لمسار مجموعة بياناتك، بالإضافة إلى مؤشر بداية ونهاية مجموعة الخرائط لتقسيم التدريب/الاختبار.
المسار محلي داخل حاوية الدوكر، لذلك إذا وضعت مجموعة بياناتك المسماة <code>cool_dataset</code> داخل دليل <code>datasets</code>، فيجب أن يكون <code>/workspace/datasets/cool_dataset</code>.</p><p>أوصي بإنشاء ملف إعدادات مخصص يتجاوز الإعداد الافتراضي، حتى يكون لديك سجل لإعدادات تدريبك لضمان إمكانية إعادة التجربة.</p><pre><code class="language-yaml">data:
  train_dataset_path: "/workspace/datasets/cool_dataset"
  test_dataset_path: "/workspace/datasets/cool_dataset"
  train_dataset_start: 0
  train_dataset_end: 90
  test_dataset_start: 90
  test_dataset_end: 100</code></pre></p><p>Begin training by calling <code>python osuT5/train.py</code> or <code>torchrun --nproc_per_node=NUM_GPUS osuT5/train.py</code> for multi-GPU training.</p><pre><code class="language-sh">python osuT5/train.py -cn train_v29 train_dataset_path="/workspace/datasets/cool_dataset" test_dataset_path="/workspace/datasets/cool_dataset" train_dataset_end=90 test_dataset_start=90 test_dataset_end=100</code></pre></p><h3>6. ضبط LoRA بدقة</h3></p><p>يمكنك أيضًا ضبط نموذج مدرّب مسبقًا باستخدام <a href="https://arxiv.org/abs/2106.09685" target="_blank" rel="noopener noreferrer">LoRA</a> لتكييفه مع نمط أو وضع لعبة معين.
للقيام بذلك، قم بتعديل <code>configs/train/lora.yaml</code> حسب احتياجاتك وشغّل إعداد التدريب <code>lora</code>:</p><pre><code class="language-sh">python osuT5/train.py -cn lora train_dataset_path="/workspace/datasets/cool_dataset" test_dataset_path="/workspace/datasets/cool_dataset" train_dataset_end=90 test_dataset_start=90 test_dataset_end=100</code></pre>
معلمات LoRA المهمة التي يجب أخذها في الاعتبار:
<ul><li><code>pretrained_path</code>: مسار أو مستودع HF لنموذج الأساس المراد تحسينه.</li>
<li><code>r</code>: رتبة مصفوفات LoRA. القيم الأعلى تزيد من قدرة النموذج ولكنها تزيد أيضًا من استهلاك الذاكرة.</li>
<li><code>lora_alpha</code>: عامل موازنة لتحديثات LoRA.</li>
<li><code>total_steps</code>: إجمالي عدد خطوات التدريب. قم بموازنة هذا حسب حجم مجموعة بياناتك.</li>
<li><code>enable_lora</code>: ما إذا كنت ستستخدم LoRA أو تحسين النموذج الكامل.</li></p><p></ul>أثناء الاستدلال، يمكنك تحديد أوزان LoRA المراد استخدامها مع وسيطة <code>lora_path</code>.
يمكن أن يكون هذا مسارًا محليًا أو مستودعًا على Hugging Face.</p><h2>أنظر أيضًا</h2>
<ul><li><a href="https://raw.githubusercontent.com/OliBomby/Mapperatorinator/main/./classifier/README.md" target="_blank" rel="noopener noreferrer">مصنف Mapper</a></li>
<li><a href="https://raw.githubusercontent.com/OliBomby/Mapperatorinator/main/./rcomplexion/README.md" target="_blank" rel="noopener noreferrer">RComplexion</a></li></p><p></ul><h2>الشكر والتقدير</h2></p><p>شكر خاص لـ:
<ul><li>مؤلفي <a href="https://github.com/gyataro/osuT5" target="_blank" rel="noopener noreferrer">osuT5</a> على كود التدريب الخاص بهم.</li>
<li>فريق Hugging Face على <a href="https://huggingface.co/docs/transformers/index" target="_blank" rel="noopener noreferrer">الأدوات</a>.</li>
<li><a href="https://github.com/jaswon" target="_blank" rel="noopener noreferrer">Jason Won</a> و <a href="https://github.com/sedthh" target="_blank" rel="noopener noreferrer">Richard Nagyfi</a> على تبادل الأفكار.</li>
<li><a href="https://github.com/minetoblend" target="_blank" rel="noopener noreferrer">Marvin</a> على التبرع بأرصدة التدريب.</li>
<li>مجتمع osu! على الخرائط الإيقاعية (beatmaps).</li></p><p></ul><h2>الأعمال ذات الصلة</h2></p><ul><li><a href="https://github.com/Syps/osu_beatmap_generator" target="_blank" rel="noopener noreferrer">مولد خرائط osu!</a> بواسطة Syps (Nick Sypteras)</li>
<li><a href="https://github.com/kotritrona/osumapper" target="_blank" rel="noopener noreferrer">osumapper</a> بواسطة kotritrona، jyvden، Yoyolick (Ryan Zmuda)</li>
<li><a href="https://github.com/OliBomby/osu-diffusion" target="_blank" rel="noopener noreferrer">osu-diffusion</a> بواسطة OliBomby (Olivier Schipper)، NiceAesth (Andrei Baciu)</li>
<li><a href="https://github.com/gyataro/osuT5" target="_blank" rel="noopener noreferrer">osuT5</a> بواسطة gyataro (Xiwen Teoh)</li>
<li><a href="https://github.com/sedthh/BeatLearning" target="_blank" rel="noopener noreferrer">Beat Learning</a> بواسطة sedthh (Richard Nagyfi)</li>
<li><a href="https://github.com/jaswon/osu-dreamer" target="_blank" rel="noopener noreferrer">osu!dreamer</a> بواسطة jaswon (Jason Won)</li></p><p>

</ul>---

Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">Open Ai Tx</a> | Last indexed: 2026-01-24

---</p>
        </div>
        
        <div class="original-link">
            <strong>Original README:</strong> <a href="https://raw.githubusercontent.com/OliBomby/Mapperatorinator/main/README.md" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
    </div>
    
    <div class="footer">
        <p>Translated by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">OpenAiTx</a> | 
        Last updated: 2026-01-24 
    </div>
    
</body>
</html>