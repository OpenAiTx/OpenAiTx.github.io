<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>system-design-primer - Узнайте, как проектировать масштабируемые системы. Подготовьтесь к собеседованию по системному дизайну. Включает карточки Anki.</title>
    <meta name="description" content="Узнайте, как проектировать масштабируемые системы. Подготовьтесь к собеседованию по системному дизайну. Включает карточки Anki.">
    <meta name="keywords" content="system-design-primer, Russian, documentation, GitHub, open source">
    <meta name="author" content="OpenAiTx">
    <meta name="robots" content="index, follow">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "system-design-primer",
  "description": "Узнайте, как проектировать масштабируемые системы. Подготовьтесь к собеседованию по системному дизайну. Включает карточки Anki.",
  "author": {
    "@type": "Person",
    "name": "donnemartin"
  },
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "ratingCount": 314803
  },
  "url": "https://OpenAiTx.github.io/projects/donnemartin/system-design-primer/README-ru.html",
  "sameAs": "https://raw.githubusercontent.com/donnemartin/system-design-primer/master/README.md",
  "datePublished": "2025-08-09",
  "dateModified": "2025-08-09"
}
    </script>
    
    <!-- GitHub-style CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #24292e;
            background-color: #ffffff;
            max-width: 980px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .container {
            background: #ffffff;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .header {
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        
        .project-title {
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .project-title a {
            color: #24292e;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color 0.2s ease;
        }
        
        .project-title a:hover {
            color: #0366d6;
            text-decoration: none;
        }
        
        .project-title .github-icon {
            width: 1em;
            height: 1em;
            fill: currentColor;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .project-title a:hover .github-icon {
            opacity: 1;
        }
        
        .project-meta {
            color: #586069;
            font-size: 14px;
            margin-bottom: 16px;
        }
        
        .stars {
            display: inline-block;
            margin-right: 16px;
        }
        
        .language {
            display: inline-block;
            background-color: #f1f8ff;
            color: #0366d6;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .content {
            font-size: 16px;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            color: #24292e;
        }
        
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        
        p {
            margin-bottom: 16px;
        }
        
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        
        a {
            color: #0366d6;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        ul, ol {
            margin-bottom: 16px;
            padding-left: 2em;
        }
        
        li {
            margin-bottom: 0.25em;
        }
        
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 1em;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e1e4e8;
            color: #586069;
            font-size: 14px;
            text-align: center;
        }
        
        .footer a {
            color: #0366d6;
        }
        
        .original-link {
            margin-top: 16px;
            padding: 12px;
            background-color: #f6f8fa;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 16px;
            }
            
            .project-title {
                font-size: 1.5em;
            }
        }
    </style>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Bing Count -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sh95yd6uwt");
    </script>        

    <!-- Statcounter -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="project-title">
                <a href="https://github.com/donnemartin/system-design-primer" target="_blank" rel="noopener noreferrer">
                    <svg class="github-icon" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                    </svg>
                    system-design-primer
                </a>
            </h1>
            <div class="project-meta">
                <span class="stars">⭐ 314803 stars</span>
                <span class="language">Russian</span>
                <span>by donnemartin</span>
            </div>
        </div>
        
        <div class="content">
            <p><em><a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/README.md" target="_blank" rel="noopener noreferrer">English</a> ∙ <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/README-ja.md" target="_blank" rel="noopener noreferrer">日本語</a> ∙ <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/README-zh-Hans.md" target="_blank" rel="noopener noreferrer">简体中文</a> ∙ <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/README-zh-TW.md" target="_blank" rel="noopener noreferrer">繁體中文</a> | <a href="https://github.com/donnemartin/system-design-primer/issues/170" target="_blank" rel="noopener noreferrer">العَرَبِيَّة‎</a> ∙ <a href="https://github.com/donnemartin/system-design-primer/issues/220" target="_blank" rel="noopener noreferrer">বাংলা</a> ∙ <a href="https://github.com/donnemartin/system-design-primer/issues/40" target="_blank" rel="noopener noreferrer">Português do Brasil</a> ∙ <a href="https://github.com/donnemartin/system-design-primer/issues/186" target="_blank" rel="noopener noreferrer">Deutsch</a> ∙ <a href="https://github.com/donnemartin/system-design-primer/issues/130" target="_blank" rel="noopener noreferrer">ελληνικά</a> ∙ <a href="https://github.com/donnemartin/system-design-primer/issues/272" target="_blank" rel="noopener noreferrer">עברית</a> ∙ <a href="https://github.com/donnemartin/system-design-primer/issues/104" target="_blank" rel="noopener noreferrer">Italiano</a> ∙ <a href="https://github.com/donnemartin/system-design-primer/issues/102" target="_blank" rel="noopener noreferrer">한국어</a> ∙ <a href="https://github.com/donnemartin/system-design-primer/issues/110" target="_blank" rel="noopener noreferrer">فارسی</a> ∙ <a href="https://github.com/donnemartin/system-design-primer/issues/68" target="_blank" rel="noopener noreferrer">Polski</a> ∙ <a href="https://github.com/donnemartin/system-design-primer/issues/87" target="_blank" rel="noopener noreferrer">русский язык</a> ∙ <a href="https://github.com/donnemartin/system-design-primer/issues/136" target="_blank" rel="noopener noreferrer">Español</a> ∙ <a href="https://github.com/donnemartin/system-design-primer/issues/187" target="_blank" rel="noopener noreferrer">ภาษาไทย</a> ∙ <a href="https://github.com/donnemartin/system-design-primer/issues/39" target="_blank" rel="noopener noreferrer">Türkçe</a> ∙ <a href="https://github.com/donnemartin/system-design-primer/issues/127" target="_blank" rel="noopener noreferrer">tiếng Việt</a> ∙ <a href="https://github.com/donnemartin/system-design-primer/issues/250" target="_blank" rel="noopener noreferrer">Français</a> | <a href="https://github.com/donnemartin/system-design-primer/issues/28" target="_blank" rel="noopener noreferrer">Add Translation</a></em></p><p><strong>Помогите <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/TRANSLATIONS.md" target="_blank" rel="noopener noreferrer">перевести</a> этот гид!</strong></p><h1>Системное проектирование: Основы</h1></p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/jj3A5N8.png">
  <br/>
</p></p><h2>Мотивация</h2></p><blockquote>Научитесь проектировать крупномасштабные системы.</blockquote>
>
<blockquote>Подготовьтесь к собеседованию по системному проектированию.</blockquote></p><h3>Научитесь проектировать крупномасштабные системы</h3></p><p>Изучение принципов масштабирования систем поможет вам стать лучшим инженером.</p><p>Системное проектирование — это обширная тема. <strong>Огромное количество ресурсов разбросано по всему интернету</strong> и посвящено принципам проектирования систем.</p><p>Этот репозиторий — <strong>организованная коллекция</strong> материалов, которые помогут вам научиться строить масштабируемые системы.</p><h3>Учитесь у сообщества open source</h3></p><p>Это постоянно обновляемый проект с открытым исходным кодом.</p><p><a href="#contributing" target="_blank" rel="noopener noreferrer">Вклад</a> приветствуется!</p><h3>Подготовка к собеседованию по системному проектированию</h3></p><p>В дополнение к собеседованиям по программированию системное проектирование является <strong>обязательной частью</strong> <strong>технического интервью</strong> во многих IT-компаниях.</p><p><strong>Тренируйтесь на популярных вопросах по системному проектированию</strong> и <strong>сравнивайте</strong> свои решения с <strong>примерами</strong>: обсуждениями, кодом и схемами.</p><p>Дополнительные темы для подготовки к собеседованию:</p><ul><li><a href="#study-guide" target="_blank" rel="noopener noreferrer">Путеводитель по изучению</a></li>
<li><a href="#how-to-approach-a-system-design-interview-question" target="_blank" rel="noopener noreferrer">Как решать вопросы по системному проектированию на собеседовании</a></li>
<li><a href="#system-design-interview-questions-with-solutions" target="_blank" rel="noopener noreferrer">Вопросы по системному дизайну для интервью, <strong>с решениями</strong></a></li>
<li><a href="#object-oriented-design-interview-questions-with-solutions" target="_blank" rel="noopener noreferrer">Вопросы по объектно-ориентированному дизайну для интервью, <strong>с решениями</strong></a></li>
<li><a href="#additional-system-design-interview-questions" target="_blank" rel="noopener noreferrer">Дополнительные вопросы по системному дизайну для интервью</a></li></p><p></ul><h2>Anki карточки</h2></p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/zdCAkB3.png">
  <br/>
</p></p><p>Предоставленные <a href="https://apps.ankiweb.net/" target="_blank" rel="noopener noreferrer">колоды карточек Anki</a> используют интервальное повторение для закрепления ключевых концепций системного дизайна.</p><ul><li><a href="https://github.com/donnemartin/system-design-primer/tree/master/resources/flash_cards/System%20Design.apkg" target="_blank" rel="noopener noreferrer">Колода по системному дизайну</a></li>
<li><a href="https://github.com/donnemartin/system-design-primer/tree/master/resources/flash_cards/System%20Design%20Exercises.apkg" target="_blank" rel="noopener noreferrer">Колода упражнений по системному дизайну</a></li>
<li><a href="https://github.com/donnemartin/system-design-primer/tree/master/resources/flash_cards/OO%20Design.apkg" target="_blank" rel="noopener noreferrer">Колода упражнений по объектно-ориентированному дизайну</a></li></p><p></ul>Отлично подходит для использования в дороге.</p><h3>Ресурс по программированию: Интерактивные задачи по программированию</h3></p><p>Ищете ресурсы для подготовки к <a href="https://github.com/donnemartin/interactive-coding-challenges" target="_blank" rel="noopener noreferrer"><strong>интервью по программированию</strong></a>?</p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/b4YtAEN.png">
  <br/>
</p></p><p>Ознакомьтесь с сестринским репозиторием <a href="https://github.com/donnemartin/interactive-coding-challenges" target="_blank" rel="noopener noreferrer"><strong>Interactive Coding Challenges</strong></a>, который содержит дополнительную колоду Anki:</p><ul><li><a href="https://github.com/donnemartin/interactive-coding-challenges/tree/master/anki_cards/Coding.apkg" target="_blank" rel="noopener noreferrer">Колода по программированию</a></li></p><p></ul><h2>Участие</h2></p><blockquote>Учитесь у сообщества.</blockquote></p><p>Не стесняйтесь отправлять pull-запросы, чтобы помочь:</p><ul><li>Исправить ошибки</li>
<li>Улучшить разделы</li>
<li>Добавьте новые разделы</li>
<li><a href="https://github.com/donnemartin/system-design-primer/issues/28" target="_blank" rel="noopener noreferrer">Перевести</a></li></p><p></ul>Контент, требующий доработки, размещён <a href="#under-development" target="_blank" rel="noopener noreferrer">в разработке</a>.</p><p>Ознакомьтесь с <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">Руководством по внесению изменений</a>.</p><h2>Индекс тем по проектированию систем</h2></p><blockquote>Краткие обзоры различных тем по проектированию систем, включая плюсы и минусы.  <strong>Всё — компромисс</strong>.</blockquote>
>
<blockquote>Каждый раздел содержит ссылки на более подробные ресурсы.</blockquote></p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/jrUBAF7.png">
  <br/>
</p></p><ul><li><a href="#system-design-topics-start-here" target="_blank" rel="noopener noreferrer">Темы по проектированию систем: начните здесь</a></li>
    <li><a href="#step-1-review-the-scalability-video-lecture" target="_blank" rel="noopener noreferrer">Шаг 1: Просмотрите видео-лекцию о масштабируемости</a></li>
    <li><a href="#step-2-review-the-scalability-article" target="_blank" rel="noopener noreferrer">Шаг 2: Ознакомьтесь со статьёй о масштабируемости</a></li>
    <li><a href="#next-steps" target="_blank" rel="noopener noreferrer">Следующие шаги</a></li>
<li><a href="#performance-vs-scalability" target="_blank" rel="noopener noreferrer">Производительность vs масштабируемость</a></li>
<li><a href="#latency-vs-throughput" target="_blank" rel="noopener noreferrer">Задержка vs пропускная способность</a></li>
<li><a href="#availability-vs-consistency" target="_blank" rel="noopener noreferrer">Доступность vs согласованность</a></li>
    <li><a href="#cap-theorem" target="_blank" rel="noopener noreferrer">Теорема CAP</a></li>
        <li><a href="#cp---consistency-and-partition-tolerance" target="_blank" rel="noopener noreferrer">CP — согласованность и устойчивость к разделению</a></li>
        <li><a href="#ap---availability-and-partition-tolerance" target="_blank" rel="noopener noreferrer">AP — доступность и устойчивость к разделению</a></li>
<li><a href="#consistency-patterns" target="_blank" rel="noopener noreferrer">Паттерны согласованности</a></li>
    <li><a href="#weak-consistency" target="_blank" rel="noopener noreferrer">Слабая согласованность</a></li>
    <li><a href="#eventual-consistency" target="_blank" rel="noopener noreferrer">В конечном итоге согласованность</a></li>
    <li><a href="#strong-consistency" target="_blank" rel="noopener noreferrer">Сильная согласованность</a></li>
<li><a href="#availability-patterns" target="_blank" rel="noopener noreferrer">Паттерны доступности</a></li>
    <li><a href="#fail-over" target="_blank" rel="noopener noreferrer">Автоматическое переключение</a></li>
    <li><a href="#replication" target="_blank" rel="noopener noreferrer">Репликация</a></li>
    <li><a href="#availability-in-numbers" target="_blank" rel="noopener noreferrer">Доступность в числах</a></li>
<li><a href="#domain-name-system" target="_blank" rel="noopener noreferrer">Система доменных имён</a></li>
<li><a href="#content-delivery-network" target="_blank" rel="noopener noreferrer">Сеть доставки контента</a></li>
    <li><a href="#push-cdns" target="_blank" rel="noopener noreferrer">Push CDN</a></li>
    <li><a href="#pull-cdns" target="_blank" rel="noopener noreferrer">Pull CDN</a></li>
<li><a href="#load-balancer" target="_blank" rel="noopener noreferrer">Балансировщик нагрузки</a></li>
    <li><a href="#active-passive" target="_blank" rel="noopener noreferrer">Активный-пассивный</a></li>
    <li><a href="#active-active" target="_blank" rel="noopener noreferrer">Активный-активный</a></li>
    <li><a href="#layer-4-load-balancing" target="_blank" rel="noopener noreferrer">Балансировка нагрузки на уровне 4</a></li>
    <li><a href="#layer-7-load-balancing" target="_blank" rel="noopener noreferrer">Балансировка нагрузки на уровне 7</a></li>
    <li><a href="#horizontal-scaling" target="_blank" rel="noopener noreferrer">Горизонтальное масштабирование</a></li>
<li><a href="#reverse-proxy-web-server" target="_blank" rel="noopener noreferrer">Обратный прокси (веб-сервер)</a></li>
    <li><a href="#load-balancer-vs-reverse-proxy" target="_blank" rel="noopener noreferrer">Балансировщик нагрузки vs обратный прокси</a></li>
<li><a href="#application-layer" target="_blank" rel="noopener noreferrer">Прикладной уровень</a></li>
    <li><a href="#microservices" target="_blank" rel="noopener noreferrer">Микросервисы</a></li>
    <li><a href="#service-discovery" target="_blank" rel="noopener noreferrer">Обнаружение сервисов</a></li>
<li><a href="#database" target="_blank" rel="noopener noreferrer">База данных</a></li>
    <li><a href="#relational-database-management-system-rdbms" target="_blank" rel="noopener noreferrer">Система управления реляционными базами данных (СУБД)</a></li>
        <li><a href="#master-slave-replication" target="_blank" rel="noopener noreferrer">Репликация мастер-слейв</a></li>
        <li><a href="#master-master-replication" target="_blank" rel="noopener noreferrer">Репликация мастер-мастер</a></li>
        <li><a href="#federation" target="_blank" rel="noopener noreferrer">Федерация</a></li>
        <li><a href="#sharding" target="_blank" rel="noopener noreferrer">Шардинг</a></li>
        <li><a href="#denormalization" target="_blank" rel="noopener noreferrer">Денормализация</a></li>
        <li><a href="#sql-tuning" target="_blank" rel="noopener noreferrer">Оптимизация SQL</a></li>
    <li><a href="#nosql" target="_blank" rel="noopener noreferrer">NoSQL</a></li>
        <li><a href="#key-value-store" target="_blank" rel="noopener noreferrer">Ключ-значение хранилище</a></li>
        <li><a href="#document-store" target="_blank" rel="noopener noreferrer">Документное хранилище</a></li>
        <li><a href="#wide-column-store" target="_blank" rel="noopener noreferrer">Широкостолбцовое хранилище</a></li>
        <li><a href="#graph-database" target="_blank" rel="noopener noreferrer">Графовая база данных</a></li>
    <li><a href="#sql-or-nosql" target="_blank" rel="noopener noreferrer">SQL или NoSQL</a></li>
<li><a href="#cache" target="_blank" rel="noopener noreferrer">Кэш</a></li>
    <li><a href="#client-caching" target="_blank" rel="noopener noreferrer">Кэширование на стороне клиента</a></li>
    <li><a href="#cdn-caching" target="_blank" rel="noopener noreferrer">Кэширование на CDN</a></li>
    <li><a href="#web-server-caching" target="_blank" rel="noopener noreferrer">Кэширование на веб-сервере</a></li>
    <li><a href="#database-caching" target="_blank" rel="noopener noreferrer">Кэширование базы данных</a></li>
    <li><a href="#application-caching" target="_blank" rel="noopener noreferrer">Кэширование на уровне приложения</a></li>
    <li><a href="#caching-at-the-database-query-level" target="_blank" rel="noopener noreferrer">Кэширование на уровне запросов к базе данных</a></li>
    <li><a href="#caching-at-the-object-level" target="_blank" rel="noopener noreferrer">Кэширование на уровне объектов</a></li>
    <li><a href="#when-to-update-the-cache" target="_blank" rel="noopener noreferrer">Когда обновлять кэш</a></li>
        <li><a href="#cache-aside" target="_blank" rel="noopener noreferrer">Cache-aside (кэш в стороне)</a></li>
        <li><a href="#write-through" target="_blank" rel="noopener noreferrer">Write-through (прямое обновление)</a></li>
        <li><a href="#write-behind-write-back" target="_blank" rel="noopener noreferrer">Write-behind (отложенная запись)</a></li>
        <li><a href="#refresh-ahead" target="_blank" rel="noopener noreferrer">Refresh-ahead (опережающее обновление)</a></li>
<li><a href="#asynchronism" target="_blank" rel="noopener noreferrer">Асинхронность</a></li>
    <li><a href="#message-queues" target="_blank" rel="noopener noreferrer">Очереди сообщений</a></li>
    <li><a href="#task-queues" target="_blank" rel="noopener noreferrer">Очереди задач</a></li>
    <li><a href="#back-pressure" target="_blank" rel="noopener noreferrer">Обратное давление (Back pressure)</a></li>
<li><a href="#communication" target="_blank" rel="noopener noreferrer">Связь</a></li>
    <li><a href="#transmission-control-protocol-tcp" target="_blank" rel="noopener noreferrer">Протокол управления передачей (TCP)</a></li>
    <li><a href="#user-datagram-protocol-udp" target="_blank" rel="noopener noreferrer">Протокол пользовательских дейтаграмм (UDP)</a></li>
    <li><a href="#remote-procedure-call-rpc" target="_blank" rel="noopener noreferrer">Удалённый вызов процедур (RPC)</a></li>
    <li><a href="#representational-state-transfer-rest" target="_blank" rel="noopener noreferrer">Передача представления состояния (REST)</a></li>
<li><a href="#security" target="_blank" rel="noopener noreferrer">Безопасность</a></li>
<li><a href="#appendix" target="_blank" rel="noopener noreferrer">Приложение</a></li>
    <li><a href="#powers-of-two-table" target="_blank" rel="noopener noreferrer">Таблица степеней двойки</a></li>
    <li><a href="#latency-numbers-every-programmer-should-know" target="_blank" rel="noopener noreferrer">Задержки, которые должен знать каждый программист</a></li>
    <li><a href="#additional-system-design-interview-questions" target="_blank" rel="noopener noreferrer">Дополнительные вопросы по проектированию систем для интервью</a></li>
    <li><a href="#real-world-architectures" target="_blank" rel="noopener noreferrer">Архитектуры из реального мира</a></li>
    <li><a href="#company-architectures" target="_blank" rel="noopener noreferrer">Архитектуры компаний</a></li>
    <li><a href="#company-engineering-blogs" target="_blank" rel="noopener noreferrer">Инженерные блоги компаний</a></li>
<li><a href="#under-development" target="_blank" rel="noopener noreferrer">В разработке</a></li>
<li><a href="#credits" target="_blank" rel="noopener noreferrer">Благодарности</a></li>
<li><a href="#contact-info" target="_blank" rel="noopener noreferrer">Контактная информация</a></li>
<li><a href="#license" target="_blank" rel="noopener noreferrer">Лицензия</a></li></p><p></ul><h2>Гайд по обучению</h2></p><blockquote>Рекомендуемые темы для изучения в зависимости от вашего графика подготовки к интервью (короткий, средний, длинный).</blockquote></p><p><img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/OfVllex.png" alt="Imgur"></p><p><strong>Вопрос: Для интервью мне нужно знать всё, что здесь указано?</strong></p><p><strong>Ответ: Нет, вам не обязательно знать всё это для подготовки к интервью</strong>.</p><p>Что вас спросят на интервью, зависит от таких факторов, как:</p><ul><li>Ваш опыт работы</li>
<li>Ваш технический бэкграунд</li>
<li>Должности, на которые вы проходите собеседование</li>
<li>Компании, в которых вы проходите собеседование</li>
<li>Удача</li></p><p></ul>От более опытных кандидатов обычно ожидают большего знания в области проектирования систем.  Архитекторы или тимлиды могут быть обязаны знать больше, чем отдельные разработчики.  В ведущих IT-компаниях часто бывает один или несколько раундов интервью по проектированию.</p><p>Начните с общего обзора и углубляйтесь в некоторые области. Полезно знать хотя бы немного о различных ключевых темах проектирования систем. Корректируйте следующий гид исходя из вашего графика, опыта, позиций, на которые вы проходите собеседование, и компаний, в которых вы проходите собеседование.</p><ul><li><strong>Короткий срок</strong> — ориентируйтесь на <strong>широту</strong> тем по проектированию систем. Практикуйтесь, решая <strong>некоторые</strong> вопросы из собеседований.</li>
<li><strong>Средний срок</strong> — ориентируйтесь на <strong>широту</strong> и <strong>некоторую глубину</strong> тем по проектированию систем. Практикуйтесь, решая <strong>многие</strong> вопросы из собеседований.</li>
<li><strong>Длинный срок</strong> — ориентируйтесь на <strong>широту</strong> и <strong>большую глубину</strong> тем по проектированию систем. Практикуйтесь, решая <strong>большинство</strong> вопросов из собеседований.</li></p><p></ul>| | Короткий | Средний | Длинный |
|---|---|---|---|
| Прочитайте <a href="#index-of-system-design-topics" target="_blank" rel="noopener noreferrer">Темы по проектированию систем</a>, чтобы получить общее представление о работе систем | :+1: | :+1: | :+1: |
| Прочитайте несколько статей из <a href="#company-engineering-blogs" target="_blank" rel="noopener noreferrer">Инженерных блогов компаний</a>, в которых вы проходите собеседование | :+1: | :+1: | :+1: |
| Прочитайте несколько <a href="#real-world-architectures" target="_blank" rel="noopener noreferrer">Архитектур реального мира</a> | :+1: | :+1: | :+1: |
| Ознакомьтесь с <a href="#how-to-approach-a-system-design-interview-question" target="_blank" rel="noopener noreferrer">Как подходить к вопросам по проектированию систем на собеседовании</a> | :+1: | :+1: | :+1: |
| Решайте <a href="#system-design-interview-questions-with-solutions" target="_blank" rel="noopener noreferrer">Вопросы по проектированию систем с решениями</a> | Некоторые | Многие | Большинство |
| Решайте <a href="#object-oriented-design-interview-questions-with-solutions" target="_blank" rel="noopener noreferrer">Вопросы по объектно-ориентированному проектированию с решениями</a> | Некоторые | Многие | Большинство |
| Ознакомьтесь с <a href="#additional-system-design-interview-questions" target="_blank" rel="noopener noreferrer">Дополнительные вопросы по проектированию систем</a> | Некоторые | Многие | Большинство |</p><h2>Как подходить к вопросам по проектированию систем на собеседовании</h2></p><blockquote>Как решать вопросы по проектированию систем на собеседовании.</blockquote></p><p>Собеседование по проектированию систем — это <strong>открытая беседа</strong>. Ожидается, что вы будете ее вести.</p><p>Вы можете воспользоваться следующими шагами для ведения дискуссии. Для закрепления этого процесса проработайте раздел <a href="#system-design-interview-questions-with-solutions" target="_blank" rel="noopener noreferrer">Вопросы по проектированию систем с решениями</a>, используя эти шаги.</p><h3>Шаг 1: Определите варианты использования, ограничения и предположения</h3></p><p>Соберите требования и определите рамки задачи. Задавайте вопросы для уточнения вариантов использования и ограничений. Обсуждайте предположения.</p><ul><li>Кто будет этим пользоваться?</li>
<li>Как они будут этим пользоваться?</li>
<li>Сколько пользователей будет?</li>
<li>Что делает система?</li>
<li>Каковы входные и выходные данные системы?</li>
<li>Сколько данных мы ожидаем обработать?</li>
<li>Сколько запросов в секунду мы ожидаем?</li>
<li>Каково ожидаемое соотношение чтения к записи?</li></p><p></ul><h3>Шаг 2: Создайте высокоуровневый дизайн</h3></p><p>Опишите высокоуровневый дизайн с указанием всех важных компонентов.</p><ul><li>Нарисуйте основные компоненты и их соединения</li>
<li>Обоснуйте свои идеи</li></p><p></ul><h3>Шаг 3: Проектирование основных компонентов</h3></p><p>Разберите детали каждого основного компонента. Например, если вам предложено <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/pastebin/README.md" target="_blank" rel="noopener noreferrer">спроектировать сервис сокращения URL</a>, обсудите:</p><ul><li>Генерация и хранение хэша полного URL</li>
    <li><a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/pastebin/README.md" target="_blank" rel="noopener noreferrer">MD5</a> и <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/pastebin/README.md" target="_blank" rel="noopener noreferrer">Base62</a></li>
    <li>Коллизии хэшей</li>
    <li>SQL или NoSQL</li>
    <li>Схема базы данных</li>
<li>Преобразование хэшированного URL обратно в полный URL</li>
    <li>Поиск в базе данных</li>
<li>API и объектно-ориентированное проектирование</li></p><p></ul><h3>Шаг 4: Масштабирование архитектуры</h3></p><p>Определите и устраните узкие места с учетом ограничений. Например, потребуется ли следующее для решения проблем масштабируемости?</p><ul><li>Балансировщик нагрузки</li>
<li>Горизонтальное масштабирование</li>
<li>Кэширование</li>
<li>Шардирование базы данных</li></p><p></ul>Обсудите возможные решения и компромиссы. Всё — это компромисс. Устраняйте узкие места, используя <a href="#index-of-system-design-topics" target="_blank" rel="noopener noreferrer">принципы проектирования масштабируемых систем</a>.</p><h3>Оценки «на коленке»</h3></p><p>Вас могут попросить сделать некоторые оценки вручную. Обратитесь к <a href="#appendix" target="_blank" rel="noopener noreferrer">Приложению</a> для следующих ресурсов:</p><ul><li><a href="http://highscalability.com/blog/2011/1/26/google-pro-tip-use-back-of-the-envelope-calculations-to-choo.html" target="_blank" rel="noopener noreferrer">Используйте оценки «на коленке»</a></li>
<li><a href="#powers-of-two-table" target="_blank" rel="noopener noreferrer">Таблица степеней двойки</a></li>
<li><a href="#latency-numbers-every-programmer-should-know" target="_blank" rel="noopener noreferrer">Числа задержек, которые должен знать каждый программист</a></li></p><p></ul><h3>Источники и дополнительная литература</h3></p><p>Ознакомьтесь со следующими ссылками, чтобы лучше понять, чего ожидать:</p><ul><li><a href="https://www.palantir.com/2011/10/how-to-rock-a-systems-design-interview/" target="_blank" rel="noopener noreferrer">Как пройти собеседование по системному дизайну</a></li>
<li><a href="http://www.hiredintech.com/system-design" target="_blank" rel="noopener noreferrer">Собеседование по системному дизайну</a></li>
<li><a href="https://www.youtube.com/watch?v=ZgdS0EUmn70" target="_blank" rel="noopener noreferrer">Введение в архитектуру и собеседования по системному дизайну</a></li>
<li><a href="https://leetcode.com/discuss/career/229177/My-System-Design-Template" target="_blank" rel="noopener noreferrer">Шаблон для системного дизайна</a></li></p><p></ul><h2>Вопросы по системному дизайну с решениями</h2></p><blockquote>Типовые вопросы на собеседовании по системному дизайну с примерами обсуждений, кода и схем.</blockquote>
>
<blockquote>Решения связаны с содержимым в папке <code>solutions/</code>.</blockquote></p><p>| Вопрос | |
|---|---|
| Спроектируйте Pastebin.com (или Bit.ly) | <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/pastebin/README.md" target="_blank" rel="noopener noreferrer">Решение</a> |
| Спроектируйте таймлайн и поиск в Twitter (или ленту и поиск в Facebook) | <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/twitter/README.md" target="_blank" rel="noopener noreferrer">Решение</a> |
| Спроектируйте веб-краулер | <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/web_crawler/README.md" target="_blank" rel="noopener noreferrer">Решение</a> |
| Спроектируйте Mint.com | <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/mint/README.md" target="_blank" rel="noopener noreferrer">Решение</a> |
| Спроектируйте структуры данных для социальной сети | <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/social_graph/README.md" target="_blank" rel="noopener noreferrer">Решение</a> |
| Спроектируйте key-value хранилище для поисковой системы | <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/query_cache/README.md" target="_blank" rel="noopener noreferrer">Решение</a> |
| Спроектируйте функцию ранжирования продаж по категориям в Amazon | <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/sales_rank/README.md" target="_blank" rel="noopener noreferrer">Решение</a> |
| Спроектируйте систему, масштабируемую до миллионов пользователей на AWS | <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/scaling_aws/README.md" target="_blank" rel="noopener noreferrer">Решение</a> |
| Добавьте вопрос по системному дизайну | <a href="#contributing" target="_blank" rel="noopener noreferrer">Внести вклад</a> |</p><h3>Спроектируйте Pastebin.com (или Bit.ly)</h3></p><p><a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/pastebin/README.md" target="_blank" rel="noopener noreferrer">Просмотреть упражнение и решение</a></p><p><img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/4edXG0T.png" alt="Imgur"></p><h3>Спроектируйте таймлайн и поиск в Twitter (или ленту и поиск в Facebook)</h3></p><p><a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/twitter/README.md" target="_blank" rel="noopener noreferrer">Просмотреть упражнение и решение</a></p><p><img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/jrUBAF7.png" alt="Imgur"></p><h3>Спроектируйте веб-краулер</h3></p><p><a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/web_crawler/README.md" target="_blank" rel="noopener noreferrer">Просмотреть упражнение и решение</a></p><p><img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/bWxPtQA.png" alt="Imgur"></p><h3>Design Mint.com</h3></p><p><a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/mint/README.md" target="_blank" rel="noopener noreferrer">View exercise and solution</a></p><p><img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/V5q57vU.png" alt="Imgur"></p><h3>Design the data structures for a social network</h3></p><p><a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/social_graph/README.md" target="_blank" rel="noopener noreferrer">View exercise and solution</a></p><p><img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/cdCv5g7.png" alt="Imgur"></p><h3>Design a key-value store for a search engine</h3></p><p><a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/query_cache/README.md" target="_blank" rel="noopener noreferrer">View exercise and solution</a></p><p><img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/4j99mhe.png" alt="Imgur"></p><h3>Design Amazon's sales ranking by category feature</h3></p><p><a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/sales_rank/README.md" target="_blank" rel="noopener noreferrer">View exercise and solution</a></p><p><img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/MzExP06.png" alt="Imgur"></p><h3>Design a system that scales to millions of users on AWS</h3></p><p><a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/system_design/scaling_aws/README.md" target="_blank" rel="noopener noreferrer">View exercise and solution</a></p><p><img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/jj3A5N8.png" alt="Imgur"></p><h2>Object-oriented design interview questions with solutions</h2></p><blockquote>Common object-oriented design interview questions with sample discussions, code, and diagrams.</blockquote>
>
<blockquote>Solutions linked to content in the <code>solutions/</code> folder.</blockquote></p><p>><strong>Note: This section is under development</strong></p><p>| Question | |
|---|---|
| Спроектировать хеш-таблицу | <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/object_oriented_design/hash_table/hash_map.ipynb" target="_blank" rel="noopener noreferrer">Решение</a>  |
| Спроектировать кэш с удалением наименее используемых данных (LRU) | <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/object_oriented_design/lru_cache/lru_cache.ipynb" target="_blank" rel="noopener noreferrer">Решение</a>  |
| Спроектировать колл-центр | <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/object_oriented_design/call_center/call_center.ipynb" target="_blank" rel="noopener noreferrer">Решение</a>  |
| Спроектировать колоду карт | <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/object_oriented_design/deck_of_cards/deck_of_cards.ipynb" target="_blank" rel="noopener noreferrer">Решение</a>  |
| Спроектировать парковку | <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/object_oriented_design/parking_lot/parking_lot.ipynb" target="_blank" rel="noopener noreferrer">Решение</a>  |
| Спроектировать чат-сервер | <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/solutions/object_oriented_design/online_chat/online_chat.ipynb" target="_blank" rel="noopener noreferrer">Решение</a>  |
| Спроектировать кольцевой массив | <a href="#contributing" target="_blank" rel="noopener noreferrer">Внести вклад</a>  |
| Добавить вопрос по объектно-ориентированному проектированию | <a href="#contributing" target="_blank" rel="noopener noreferrer">Внести вклад</a> |</p><h2>Темы системного проектирования: начните здесь</h2></p><p>Впервые сталкиваетесь с системным проектированием?</p><p>Сначала вам нужно базовое понимание общих принципов: узнать, что это такое, как они применяются, их плюсы и минусы.</p><h3>Шаг 1: Посмотрите видеолекцию по масштабируемости</h3></p><p><a href="https://www.youtube.com/watch?v=-W9F__D3oY4" target="_blank" rel="noopener noreferrer">Лекция по масштабируемости в Гарварде</a></p><ul><li>Рассматриваемые темы:</li>
    <li>Вертикальное масштабирование</li>
    <li>Горизонтальное масштабирование</li>
    <li>Кэширование</li>
    <li>Балансировка нагрузки</li>
    <li>Репликация баз данных</li>
    <li>Партиционирование баз данных</li></p><p></ul><h3>Шаг 2: Ознакомьтесь со статьей о масштабируемости</h3></p><p><a href="https://web.archive.org/web/20221030091841/http://www.lecloud.net/tagged/scalability/chrono" target="_blank" rel="noopener noreferrer">Масштабируемость</a></p><ul><li>Рассматриваемые темы:</li>
    <li><a href="https://web.archive.org/web/20220530193911/https://www.lecloud.net/post/7295452622/scalability-for-dummies-part-1-clones" target="_blank" rel="noopener noreferrer">Клоны</a></li>
    <li><a href="https://web.archive.org/web/20220602114024/https://www.lecloud.net/post/7994751381/scalability-for-dummies-part-2-database" target="_blank" rel="noopener noreferrer">Базы данных</a></li>
    <li><a href="https://web.archive.org/web/20230126233752/https://www.lecloud.net/post/9246290032/scalability-for-dummies-part-3-cache" target="_blank" rel="noopener noreferrer">Кэши</a></li>
    <li><a href="https://web.archive.org/web/20220926171507/https://www.lecloud.net/post/9699762917/scalability-for-dummies-part-4-asynchronism" target="_blank" rel="noopener noreferrer">Асинхронность</a></li></p><p></ul><h3>Следующие шаги</h3></p><p>Далее мы рассмотрим компромиссы на высоком уровне:</p><ul><li><strong>Производительность</strong> vs <strong>масштабируемость</strong></li>
<li><strong>Задержка</strong> vs <strong>пропускная способность</strong></li>
<li><strong>Доступность</strong> vs <strong>согласованность</strong></li></p><p></ul>Имейте в виду, что <strong>всё — это компромисс</strong>.</p><p>Затем мы углубимся в более конкретные темы, такие как DNS, CDN и балансировщики нагрузки.</p><h2>Производительность vs масштабируемость</h2></p><p>Сервис считается <strong>масштабируемым</strong>, если увеличение ресурсов приводит к пропорциональному росту <strong>производительности</strong>. Обычно под увеличением производительности понимается возможность обслуживать больше единиц работы, но это также может означать обработку более крупных единиц работы, например, при росте объёмов данных.<sup><a href=http://www.allthingsdistributed.com/2006/03/a_word_on_scalability.html>1</a></sup></p><p>Другой способ взглянуть на производительность и масштабируемость:</p><ul><li>Если у вас проблема с <strong>производительностью</strong>, ваша система медленно работает для одного пользователя.</li>
<li>Если у вас проблема с <strong>масштабируемостью</strong>, ваша система быстро работает для одного пользователя, но медленно под высокой нагрузкой.</li></p><p></ul><h3>Источники и дополнительное чтение</h3></p><ul><li><a href="http://www.allthingsdistributed.com/2006/03/a_word_on_scalability.html" target="_blank" rel="noopener noreferrer">A word on scalability</a></li>
<li><a href="http://www.slideshare.net/jboner/scalability-availability-stability-patterns/" target="_blank" rel="noopener noreferrer">Scalability, availability, stability, patterns</a></li></p><p></ul><h2>Задержка vs пропускная способность</h2></p><p><strong>Задержка</strong> — это время, необходимое для выполнения действия или получения результата.</p><p><strong>Пропускная способность</strong> — это количество таких действий или результатов в единицу времени.</p><p>Обычно следует стремиться к <strong>максимальной пропускной способности</strong> при <strong>приемлемой задержке</strong>.</p><h3>Источники и дополнительное чтение</h3></p><ul><li><a href="https://community.cadence.com/cadence_blogs_8/b/fv/posts/understanding-latency-vs-throughput" target="_blank" rel="noopener noreferrer">Understanding latency vs throughput</a></li></p><p></ul><h2>Доступность vs согласованность</h2></p><h3>Теорема CAP</h3></p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/bgLMI2u.png">
  <br/>
  <i><a href=http://robertgreiner.com/2014/08/cap-theorem-revisited>Источник: CAP theorem revisited</a></i>
</p></p><p>В распределённой компьютерной системе можно поддерживать только две из следующих гарантий:</p><ul><li><strong>Согласованность</strong> - Каждый запрос на чтение получает либо самое последнее записанное значение, либо ошибку</li>
<li><strong>Доступность</strong> - Каждый запрос получает ответ, но без гарантии, что ответ содержит самую свежую версию информации</li>
<li><strong>Устойчивость к разделению</strong> - Система продолжает работать, несмотря на произвольное разделение из-за сетевых сбоев</li></p><p></ul><em>Сети ненадежны, поэтому вам нужно поддерживать устойчивость к разделению. Необходимо сделать программный выбор между согласованностью и доступностью.</em></p><p>#### CP - согласованность и устойчивость к разделению</p><p>Ожидание ответа от разделённого узла может привести к ошибке тайм-аута. CP — хороший выбор, если бизнес-требования требуют атомарных операций чтения и записи.</p><p>#### AP - доступность и устойчивость к разделению</p><p>Ответы возвращают наиболее доступную версию данных на любом узле, которая может быть не самой свежей. Записи могут распространяться с задержкой после восстановления разделения.</p><p>AP — хороший выбор, если бизнес допускает <a href="#eventual-consistency" target="_blank" rel="noopener noreferrer">постепенную согласованность</a> или если системе требуется продолжать работу несмотря на внешние ошибки.</p><h3>Источники и дополнительная литература</h3></p><ul><li><a href="http://robertgreiner.com/2014/08/cap-theorem-revisited/" target="_blank" rel="noopener noreferrer">CAP theorem revisited</a></li>
<li><a href="http://ksat.me/a-plain-english-introduction-to-cap-theorem" target="_blank" rel="noopener noreferrer">Введение в CAP theorem на простом английском</a></li>
<li><a href="https://github.com/henryr/cap-faq" target="_blank" rel="noopener noreferrer">CAP FAQ</a></li>
<li><a href="https://www.youtube.com/watch?v=k-Yaq8AHlFA" target="_blank" rel="noopener noreferrer">Теорема CAP</a></li></p><p></ul><h2>Шаблоны согласованности</h2></p><p>При наличии нескольких копий одних и тех же данных мы сталкиваемся с выбором способа их синхронизации, чтобы клиенты имели согласованный взгляд на данные. Напомним определение согласованности из <a href="#cap-theorem" target="_blank" rel="noopener noreferrer">теоремы CAP</a> — Каждый запрос на чтение получает самое последнее записанное значение или ошибку.</p><h3>Слабая согласованность</h3></p><p>После записи запросы на чтение могут как увидеть, так и не увидеть её. Применяется принцип наилучших усилий.</p><p>Этот подход используется в системах типа memcached. Слабая согласованность хорошо работает для случаев реального времени, таких как VoIP, видеочат и онлайн-игры в реальном времени. Например, если во время телефонного разговора вы на несколько секунд теряете связь, то, когда соединение восстанавливается, вы не услышите, что было сказано во время потери связи.</p><h3>Конечная согласованность</h3></p><p>После записи данные будут видны при чтении со временем (обычно в течение миллисекунд). Данные реплицируются асинхронно.</p><p>Такой подход используется в системах, таких как DNS и электронная почта. Конечная согласованность хорошо работает в системах с высокой доступностью.</p><h3>Сильная согласованность</h3></p><p>После записи данные будут видны при чтении. Данные реплицируются синхронно.</p><p>Такой подход используется в файловых системах и реляционных СУБД. Сильная согласованность хорошо подходит для систем, которым нужны транзакции.</p><h3>Источники и дополнительная литература</h3></p><ul><li><a href="http://snarfed.org/transactions_across_datacenters_io.html" target="_blank" rel="noopener noreferrer">Транзакции между дата-центрами</a></li></p><p></ul><h2>Паттерны обеспечения доступности</h2></p><p>Существует два взаимодополняющих паттерна для поддержки высокой доступности: <strong>фейловер</strong> и <strong>репликация</strong>.</p><h3>Фейловер</h3></p><p>#### Активный-пассивный</p><p>При активном-пассивном фейловере между активным и пассивным сервером на резерве отправляются сигналы "heartbeat". Если сигнал прерывается, пассивный сервер принимает IP-адрес активного и продолжает обслуживание.</p><p>Длительность простоя определяется тем, запущен ли пассивный сервер уже в режиме "горячего" резерва, либо ему нужно стартовать из "холодного" резерва. Только активный сервер обрабатывает трафик.</p><p>Активно-пассивный фейловер также называют мастер-слейв фейловером.</p><p>#### Активный-активный</p><p>При активном-активном оба сервера обрабатывают трафик, распределяя нагрузку между собой.</p><p>Если серверы доступны из Интернета, DNS должен знать о публичных IP-адресах обоих серверов. Если серверы внутренние, логика приложения должна знать о них.</p><p>Активно-активный фейловер также называют мастер-мастер фейловером.</p><h3>Недостатки: фейловер</h3></p><ul><li>Резервирование требует дополнительного оборудования и увеличивает сложность системы.</li>
<li>Существует риск потери данных, если активная система выйдет из строя до того, как новые записанные данные будут реплицированы на пассивную.</li></p><p></ul><h3>Репликация</h3></p><p>#### Мастер-слейв и мастер-мастер</p><p>Эта тема более подробно рассматривается в разделе <a href="#database" target="_blank" rel="noopener noreferrer">База данных</a>:</p><ul><li><a href="#master-slave-replication" target="_blank" rel="noopener noreferrer">Мастер-слейв репликация</a></li>
<li><a href="#master-master-replication" target="_blank" rel="noopener noreferrer">Мастер-мастер репликация</a></li></p><p></ul><h3>Доступность в числах</h3></p><p>Доступность часто выражается временем безотказной работы (или простоя) как процент времени, в течение которого сервис доступен. Обычно доступность измеряется количеством девяток -- сервис с 99,99% доступностью называют сервисом "четыре девятки".</p><p>#### 99,9% доступности — три девятки</p><p>| Период              | Допустимое время простоя|
|---------------------|------------------------|
| Простой в год       | 8ч 45мин 57с           |
| Простой в месяц     | 43мин 49,7с            |
| Простой в неделю    | 10мин 4,8с             |
| Простой в день      | 1мин 26,4с             |</p><p>#### 99,99% доступности — четыре девятки</p><p>| Период              | Допустимое время простоя|
|---------------------|------------------------|
| Простой в год       | 52мин 35,7с            |
| Простой в месяц     | 4мин 23с               |
| Простой в неделю    | 1мин 5с                |
| Простой в день      | 8,6с                   |</p><p>#### Доступность при параллельной и последовательной работе</p><p>Если сервис состоит из нескольких компонентов, подверженных сбоям, общая доступность сервиса зависит от того, работают ли компоненты последовательно или параллельно.</p><p>###### Последовательно</p><p>Общая доступность снижается, когда два компонента с доступностью < 100% идут последовательно:</p><pre><code class="language-">Availability (Total) = Availability (Foo) * Availability (Bar)</code></pre></p><p>Если и <code>Foo</code>, и <code>Bar</code> имеют доступность 99,9%, их общая доступность при последовательном соединении будет 99,8%.</p><p>###### В параллели</p><p>Общая доступность увеличивается, когда два компонента с доступностью < 100% работают параллельно:</p><pre><code class="language-">Availability (Total) = 1 - (1 - Availability (Foo)) * (1 - Availability (Bar))</code></pre>
Если и <code>Foo</code>, и <code>Bar</code> имеют доступность 99,9%, их общая доступность в параллельной работе будет 99,9999%.</p><h2>Система доменных имен</h2></p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/IOyLj4i.jpg">
  <br/>
  <i><a href=http://www.slideshare.net/srikrupa5/dns-security-presentation-issa>Источник: Презентация по безопасности DNS</a></i>
</p></p><p>Система доменных имен (DNS) переводит доменное имя, такое как www.example.com, в IP-адрес.</p><p>DNS иерархична, с несколькими авторитетными серверами на верхнем уровне. Ваш маршрутизатор или интернет-провайдер предоставляет информацию о том, с какими DNS-серверами связываться при поиске. DNS-серверы нижнего уровня кэшируют соответствия, которые могут устаревать из-за задержек распространения DNS. Результаты DNS также могут кэшироваться вашим браузером или ОС в течение определенного периода времени, определяемого <a href="https://en.wikipedia.org/wiki/Time_to_live" target="_blank" rel="noopener noreferrer">временем жизни (TTL)</a>.</p><ul><li><strong>NS-запись (сервер имен)</strong> – Указывает DNS-серверы для вашего домена/поддомена.</li>
<li><strong>MX-запись (почтовый обменник)</strong> – Указывает почтовые серверы для приема сообщений.</li>
<li><strong>A-запись (адрес)</strong> – Привязывает имя к IP-адресу.</li>
<li><strong>CNAME (каноническое имя)</strong> – Привязывает имя к другому имени или <code>CNAME</code> (example.com к www.example.com) или к <code>A</code>-записи.</li></p><p></ul>Сервисы, такие как <a href="https://www.cloudflare.com/dns/" target="_blank" rel="noopener noreferrer">CloudFlare</a> и <a href="https://aws.amazon.com/route53/" target="_blank" rel="noopener noreferrer">Route 53</a>, предоставляют управляемые DNS-услуги. Некоторые DNS-сервисы могут маршрутизировать трафик различными способами:</p><ul><li><a href="https://www.jscape.com/blog/load-balancing-algorithms" target="_blank" rel="noopener noreferrer">Взвешенное круговое распределение</a></li>
    <li>Предотвращение направления трафика на серверы, находящиеся на обслуживании</li>
    <li>Балансировка между кластерами разного размера</li>
    <li>A/B тестирование</li>
<li><a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-policy-latency.html" target="_blank" rel="noopener noreferrer">На основе задержки</a></li>
<li><a href="https://docs.aws.amazon.com/Route53/latest/DeveloperGuide/routing-policy-geo.html" target="_blank" rel="noopener noreferrer">На основе геолокации</a></li></p><p></ul><h3>Недостатки: DNS</h3></p><ul><li>Обращение к DNS-серверу вызывает небольшую задержку, которая, однако, смягчается описанным выше кэшированием.</li>
<li>Управление DNS-серверами может быть сложным и обычно осуществляется <a href="http://superuser.com/questions/472695/who-controls-the-dns-servers/472729" target="_blank" rel="noopener noreferrer">государствами, интернет-провайдерами и крупными компаниями</a>.</li>
<li>Недавно службы DNS подвергались <a href="http://dyn.com/blog/dyn-analysis-summary-of-friday-october-21-attack/" target="_blank" rel="noopener noreferrer">DDoS-атакам</a>, что не позволяло пользователям заходить на сайты, такие как Twitter, без знания IP-адреса(-ов) Twitter.</li></p><p></ul><h3>Источники и дополнительная литература</h3></p><ul><li><a href="https://technet.microsoft.com/en-us/library/dd197427(v=ws.10" target="_blank" rel="noopener noreferrer">Архитектура DNS</a>.aspx)</li>
<li><a href="https://en.wikipedia.org/wiki/Domain_Name_System" target="_blank" rel="noopener noreferrer">Википедия</a></li>
<li><a href="https://support.dnsimple.com/categories/dns/" target="_blank" rel="noopener noreferrer">Статьи о DNS</a></li></p><p>
</ul><h2>Сеть доставки контента</h2></p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/h9TAuGI.jpg">
  <br/>
  <i><a href=https://www.creative-artworks.eu/why-use-a-content-delivery-network-cdn/>Источник: Почему использовать CDN</a></i>
</p></p><p>Сеть доставки контента (CDN) — это глобально распределённая сеть прокси-серверов, обслуживающая контент из локаций, более близких к пользователю. Как правило, статические файлы, такие как HTML/CSS/JS, фотографии и видео, обслуживаются через CDN, хотя некоторые CDN, например CloudFront от Amazon, поддерживают динамический контент. Разрешение DNS сайта указывает клиентам, к какому серверу обращаться.</p><p>Обслуживание контента через CDN может значительно повысить производительность двумя способами:</p><ul><li>Пользователи получают контент из дата-центров, расположенных ближе к ним</li>
<li>Ваши серверы не обслуживают запросы, которые выполняет CDN</li></p><p></ul><h3>Push CDN</h3></p><p>Push CDN получают новый контент всякий раз, когда на вашем сервере происходят изменения. Вы полностью отвечаете за предоставление контента, загружая его напрямую на CDN и переписывая URL на CDN. Вы можете настроить срок хранения контента и время его обновления. Контент загружается только когда он новый или изменён, минимизируя трафик, но увеличивая использование хранилища.</p><p>Сайты с небольшим количеством трафика или сайты с редко обновляемым контентом хорошо работают с Push CDN. Контент размещается на CDN один раз, вместо повторной загрузки через регулярные интервалы.</p><h3>Pull CDN</h3></p><p>Pull CDN получают новый контент с вашего сервера, когда первый пользователь запрашивает этот контент. Вы оставляете контент на сервере и переписываете URL на CDN. Это приводит к более медленному запросу, пока контент не будет закэширован на CDN.</p><p><a href="https://en.wikipedia.org/wiki/Time_to_live" target="_blank" rel="noopener noreferrer">Время жизни (TTL)</a> определяет, как долго контент хранится в кеше. Pull CDN минимизируют занимаемое место на CDN, но могут создавать избыточный трафик, если файлы истекают и загружаются повторно до фактических изменений.</p><p>Сайты с высоким трафиком хорошо работают с Pull CDN, так как трафик распределяется равномернее, и только недавно запрошенный контент остаётся на CDN.</p><h3>Недостатки CDN</h3></p><ul><li>Затраты на CDN могут быть значительными в зависимости от трафика, однако их следует сравнивать с дополнительными расходами при отказе от CDN.</li>
<li>Контент может устареть, если он обновится до истечения TTL.</li>
<li>Для использования CDN требуется изменение URL-адресов статического контента на адреса CDN.</li></p><p></ul><h3>Источники и дополнительная литература</h3></p><ul><li><a href="https://figshare.com/articles/Globally_distributed_content_delivery/6605972" target="_blank" rel="noopener noreferrer">Глобально распределённая доставка контента</a></li>
<li><a href="http://www.travelblogadvice.com/technical/the-differences-between-push-and-pull-cdns/" target="_blank" rel="noopener noreferrer">Различия между Push и Pull CDN</a></li>
<li><a href="https://en.wikipedia.org/wiki/Content_delivery_network" target="_blank" rel="noopener noreferrer">Википедия</a></li></p><p></ul><h2>Балансировщик нагрузки</h2></p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/h81n9iK.png">
  <br/>
  <i><a href=http://horicky.blogspot.com/2010/10/scalable-system-design-patterns.html>Источник: Шаблоны проектирования масштабируемых систем</a></i>
</p></p><p>Балансировщики нагрузки распределяют входящие клиентские запросы на вычислительные ресурсы, такие как серверы приложений и базы данных. В каждом случае балансировщик возвращает ответ вычислительного ресурса соответствующему клиенту. Балансировщики нагрузки эффективны для:</p><ul><li>Предотвращения отправки запросов на неработоспособные серверы</li>
<li>Предотвращения перегрузки ресурсов</li>
<li>Помощи в устранении единой точки отказа</li></p><p></ul>Балансировщики нагрузки могут быть реализованы с помощью аппаратного обеспечения (дорого) или программно, например, с помощью HAProxy.</p><p>Дополнительные преимущества включают:</p><ul><li><strong>SSL-терминация</strong> — Расшифровка входящих запросов и шифрование ответов сервера, чтобы серверы не выполняли эти потенциально дорогие операции</li>
    <li>Устраняет необходимость установки <a href="https://en.wikipedia.org/wiki/X.509" target="_blank" rel="noopener noreferrer">X.509 сертификатов</a> на каждом сервере</li>
<li><strong>Сохранение сессии</strong> — Выпуск cookie и маршрутизация запросов конкретного клиента к одной и той же инстанции, если веб-приложения не отслеживают сессии</li></p><p></ul>Для защиты от отказов обычно настраивают несколько балансировщиков нагрузки в режиме <a href="#active-passive" target="_blank" rel="noopener noreferrer">active-passive</a> или <a href="#active-active" target="_blank" rel="noopener noreferrer">active-active</a>.</p><p>Балансировщики нагрузки могут маршрутизировать трафик на основе различных метрик, включая:</p><ul><li>Случайный выбор</li>
<li>Наименее загруженный</li>
<li>Сессии/cookie</li>
<li><a href="https://www.g33kinfo.com/info/round-robin-vs-weighted-round-robin-lb" target="_blank" rel="noopener noreferrer">Кольцевой или взвешенный кольцевой алгоритм</a></li>
<li><a href="#layer-4-load-balancing" target="_blank" rel="noopener noreferrer">Уровень 4</a></li>
<li><a href="#layer-7-load-balancing" target="_blank" rel="noopener noreferrer">Уровень 7</a></li></p><p></ul><h3>Балансировка нагрузки на уровне 4</h3></p><p>Балансировщики нагрузки уровня 4 анализируют информацию на <a href="#communication" target="_blank" rel="noopener noreferrer">транспортном уровне</a> для принятия решения о распределении запросов. Обычно это включает исходные и целевые IP-адреса и порты в заголовке, но не содержимое пакета. Балансировщики уровня 4 пересылают сетевые пакеты на вышестоящий сервер и обратно, выполняя <a href="https://www.nginx.com/resources/glossary/layer-4-load-balancing/" target="_blank" rel="noopener noreferrer">сетевой адресный перевод (NAT)</a>.</p><h3>Балансировка нагрузки на уровне 7</h3>
Балансировщики нагрузки уровня 7 анализируют <a href="#communication" target="_blank" rel="noopener noreferrer">уровень приложения</a>, чтобы решить, как распределять запросы. Это может включать содержимое заголовков, сообщений и cookies. Балансировщик нагрузки уровня 7 завершает сетевой трафик, читает сообщение, принимает решение о балансировке нагрузки, затем открывает соединение с выбранным сервером. Например, балансировщик уровня 7 может направлять видеотрафик на серверы с видео, а более чувствительный трафик, связанный с оплатой, — на защищённые серверы.</p><p>В ущерб гибкости балансировка нагрузки уровня 4 требует меньше времени и вычислительных ресурсов, чем уровень 7, хотя влияние на производительность может быть минимальным на современном массовом оборудовании.</p><h3>Горизонтальное масштабирование</h3></p><p>Балансировщики нагрузки также помогают с горизонтальным масштабированием, повышая производительность и доступность. Масштабирование с использованием массовых машин более экономично и приводит к большей доступности, чем масштабирование одного сервера на более дорогом оборудовании, называемом <strong>вертикальным масштабированием</strong>. Также проще нанимать специалистов, работающих с массовым оборудованием, чем с специализированными корпоративными системами.</p><p>#### Недостатки: горизонтальное масштабирование</p><ul><li>Горизонтальное масштабирование увеличивает сложность и требует клонирования серверов</li>
    <li>Сервера должны быть без состояния: не должны содержать пользовательские данные, такие как сессии или фотографии профиля</li>
    <li>Сессии можно хранить в централизованном хранилище данных, таком как <a href="#database" target="_blank" rel="noopener noreferrer">база данных</a> (SQL, NoSQL) или постоянный <a href="#cache" target="_blank" rel="noopener noreferrer">кэш</a> (Redis, Memcached)</li>
<li>Нижестоящие серверы, такие как кэши и базы данных, должны обрабатывать больше одновременных соединений по мере масштабирования верхних серверов</li></p><p></ul><h3>Недостатки: балансировщик нагрузки</h3></p><ul><li>Балансировщик нагрузки может стать узким местом по производительности, если у него недостаточно ресурсов или он неправильно настроен.</li>
<li>Внедрение балансировщика нагрузки для устранения единой точки отказа увеличивает сложность.</li>
<li>Один балансировщик нагрузки — это единая точка отказа, настройка нескольких балансировщиков дополнительно усложняет систему.</li></p><p></ul><h3>Источники и дополнительная литература</h3></p><ul><li><a href="https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale/" target="_blank" rel="noopener noreferrer">Архитектура NGINX</a></li>
<li><a href="http://www.haproxy.org/download/1.2/doc/architecture.txt" target="_blank" rel="noopener noreferrer">Руководство по архитектуре HAProxy</a></li>
<li><a href="https://web.archive.org/web/20220530193911/https://www.lecloud.net/post/7295452622/scalability-for-dummies-part-1-clones" target="_blank" rel="noopener noreferrer">Масштабируемость</a></li>
<li><a href="https://en.wikipedia.org/wiki/Load_balancing_(computing" target="_blank" rel="noopener noreferrer">Википедия</a>)</li>
<li><a href="https://www.nginx.com/resources/glossary/layer-4-load-balancing/" target="_blank" rel="noopener noreferrer">Балансировка нагрузки уровня 4</a></li>
<li><a href="https://www.nginx.com/resources/glossary/layer-7-load-balancing/" target="_blank" rel="noopener noreferrer">Балансировка нагрузки уровня 7</a></li>
<li><a href="http://docs.aws.amazon.com/elasticloadbalancing/latest/classic/elb-listener-config.html" target="_blank" rel="noopener noreferrer">Конфигурация ELB listener</a></li></p><p></ul><h2>Реверс-прокси (веб-сервер)</h2></p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/n41Azff.png">
  <br/>
  <i><a href=https://upload.wikimedia.org/wikipedia/commons/6/67/Reverse_proxy_h2g2bob.svg>Источник: Википедия</a></i>
  <br/>
</p></p><p>Реверсивный прокси — это веб-сервер, который централизует внутренние сервисы и предоставляет унифицированные интерфейсы для внешних пользователей. Запросы от клиентов перенаправляются на сервер, который может их обработать, после чего реверсивный прокси возвращает ответ сервера клиенту.</p><p>Дополнительные преимущества включают:</p><ul><li><strong>Повышенная безопасность</strong> — скрытие информации о сервере бэкенда, черные списки IP, ограничение количества соединений на клиента</li>
<li><strong>Повышенная масштабируемость и гибкость</strong> — клиенты видят только IP-адрес реверсивного прокси, что позволяет масштабировать серверы или менять их конфигурацию</li>
<li><strong>SSL-терминация</strong> — дешифрование входящих запросов и шифрование ответов сервера, чтобы серверы бэкенда не выполняли эти ресурсоемкие операции</li>
    <li>Устраняет необходимость установки <a href="https://en.wikipedia.org/wiki/X.509" target="_blank" rel="noopener noreferrer">X.509 сертификатов</a> на каждом сервере</li>
<li><strong>Сжатие</strong> — сжатие ответов сервера</li>
<li><strong>Кэширование</strong> — возврат ответа для кэшированных запросов</li>
<li><strong>Статический контент</strong> — обслуживание статического контента напрямую</li>
    <li>HTML/CSS/JS</li>
    <li>Фотографии</li>
    <li>Видео</li>
    <li>и др.</li></p><p></ul><h3>Балансировщик нагрузки vs реверсивный прокси</h3></p><ul><li>Использование балансировщика нагрузки полезно, когда у вас несколько серверов. Часто балансировщики маршрутизируют трафик на набор серверов, выполняющих одну функцию.</li>
<li>Реверсивные прокси могут быть полезны даже при наличии только одного веб-сервера или сервере приложений, открывая преимущества, описанные в предыдущем разделе.</li>
<li>Решения такие, как NGINX и HAProxy, поддерживают как проксирование на уровне 7, так и балансировку нагрузки.</li></p><p></ul><h3>Недостатки: реверсивный прокси</h3></p><ul><li>Внедрение реверсивного прокси увеличивает сложность инфраструктуры.</li>
<li>Один реверсивный прокси становится единой точкой отказа, а настройка нескольких прокси (например, <a href="https://en.wikipedia.org/wiki/Failover" target="_blank" rel="noopener noreferrer">аварийное переключение</a>) еще больше усложняет систему.</li></p><p></ul><h3>Источники и дополнительная литература</h3></p><ul><li><a href="https://www.nginx.com/resources/glossary/reverse-proxy-vs-load-balancer/" target="_blank" rel="noopener noreferrer">Reverse proxy vs load balancer</a></li>
<li><a href="https://www.nginx.com/blog/inside-nginx-how-we-designed-for-performance-scale/" target="_blank" rel="noopener noreferrer">Архитектура NGINX</a></li>
<li><a href="http://www.haproxy.org/download/1.2/doc/architecture.txt" target="_blank" rel="noopener noreferrer">Руководство по архитектуре HAProxy</a></li>
<li><a href="https://en.wikipedia.org/wiki/Reverse_proxy" target="_blank" rel="noopener noreferrer">Wikipedia</a></li></p><p></ul><h2>Прикладной уровень</h2></p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/yB5SYwm.png">
  <br/></p><p>  <i><a href=http://lethain.com/introduction-to-architecting-systems-for-scale/#platform_layer>Источник: Введение в архитектурирование систем для масштабирования</a></i>
</p></p><p>Разделение веб-слоя и слоя приложения (также известного как платформенный слой) позволяет масштабировать и конфигурировать оба слоя независимо. Добавление нового API приводит к добавлению серверов приложений без необходимости увеличения количества веб-серверов. <strong>Принцип единственной ответственности</strong> призывает к созданию небольших и автономных сервисов, которые работают совместно. Маленькие команды с небольшими сервисами могут более агрессивно планировать быстрый рост.</p><p>Рабочие процессы в слое приложения также способствуют <a href="#asynchronism" target="_blank" rel="noopener noreferrer">асинхронности</a>.</p><h3>Микросервисы</h3></p><p>К данной теме относятся <a href="https://ru.wikipedia.org/wiki/Микросервисы" target="_blank" rel="noopener noreferrer">микросервисы</a>, которые можно описать как набор автономно разворачиваемых, небольших, модульных сервисов. Каждый сервис запускает уникальный процесс и общается через хорошо определённый, легковесный механизм для достижения бизнес-цели. <sup><a href=https://smartbear.com/learn/api-design/what-are-microservices>1</a></sup></p><p>Например, у Pinterest могут быть следующие микросервисы: профиль пользователя, подписчики, лента, поиск, загрузка фотографий и др.</p><h3>Обнаружение сервисов</h3></p><p>Системы, такие как <a href="https://www.consul.io/docs/index.html" target="_blank" rel="noopener noreferrer">Consul</a>, <a href="https://coreos.com/etcd/docs/latest" target="_blank" rel="noopener noreferrer">Etcd</a>, и <a href="http://www.slideshare.net/sauravhaloi/introduction-to-apache-zookeeper" target="_blank" rel="noopener noreferrer">Zookeeper</a> помогают сервисам находить друг друга, отслеживая зарегистрированные имена, адреса и порты. <a href="https://www.consul.io/intro/getting-started/checks.html" target="_blank" rel="noopener noreferrer">Проверки состояния</a> помогают убедиться в целостности сервиса и часто выполняются с помощью <a href="#hypertext-transfer-protocol-http" target="_blank" rel="noopener noreferrer">HTTP</a> эндпоинта. И Consul, и Etcd имеют встроенное <a href="#key-value-store" target="_blank" rel="noopener noreferrer">хранилище ключ-значение</a>, полезное для хранения конфигураций и других общих данных.</p><h3>Недостатки: слой приложения</h3></p><ul><li>Добавление слоя приложения с слабо связанными сервисами требует другого подхода с архитектурной, операционной и процессной точек зрения (в отличие от монолитной системы).</li>
<li>Микросервисы могут усложнить процесс деплоя и эксплуатации.</li></p><p></ul><h3>Источники и дополнительная литература</h3></p><ul><li><a href="http://lethain.com/introduction-to-architecting-systems-for-scale" target="_blank" rel="noopener noreferrer">Введение в архитектурирование систем для масштабирования</a></li>
<li><a href="http://www.puncsky.com/blog/2016-02-13-crack-the-system-design-interview" target="_blank" rel="noopener noreferrer">Crack the system design interview</a></li>
<li><a href="https://ru.wikipedia.org/wiki/Сервис-ориентированная_архитектура" target="_blank" rel="noopener noreferrer">Сервис-ориентированная архитектура</a></li>
<li><a href="http://www.slideshare.net/sauravhaloi/introduction-to-apache-zookeeper" target="_blank" rel="noopener noreferrer">Введение в Zookeeper</a></li>
<li><a href="https://cloudncode.wordpress.com/2016/07/22/msa-getting-started/" target="_blank" rel="noopener noreferrer">Что нужно знать о построении микросервисов</a></li></p><p></ul><h2>База данных</h2></p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/Xkm5CXz.png">
  <br/>
  <i><a href=https://www.youtube.com/watch?v=kKjm4ehYiMs>Источник: Масштабирование до первых 10 миллионов пользователей</a></i>
</p></p><h3>Реляционная система управления базами данных (RDBMS)</h3></p><p>Реляционная база данных, такая как SQL, представляет собой коллекцию элементов данных, организованных в таблицы.</p><p><strong>ACID</strong> — это набор свойств <a href="https://en.wikipedia.org/wiki/Database_transaction" target="_blank" rel="noopener noreferrer">транзакций</a> реляционной базы данных.</p><ul><li><strong>Атомарность</strong> — каждая транзакция выполняется полностью или не выполняется вовсе</li>
<li><strong>Согласованность</strong> — любая транзакция переводит базу данных из одного корректного состояния в другое</li>
<li><strong>Изолированность</strong> — выполнение транзакций параллельно приводит к тем же результатам, что и последовательное выполнение</li>
<li><strong>Долговечность</strong> — после фиксации транзакции она остается сохраненной</li></p><p></ul>Существует множество методов масштабирования реляционной базы данных: <strong>мастер-слейв репликация</strong>, <strong>мастер-мастер репликация</strong>, <strong>федерация</strong>, <strong>шардинг</strong>, <strong>денормализация</strong> и <strong>SQL-оптимизация</strong>.</p><p>#### Мастер-слейв репликация</p><p>Мастер обслуживает операции чтения и записи, реплицируя записи на одного или нескольких слейвов, которые обслуживают только чтение. Слейвы также могут реплицироваться на других слейвов в виде дерева. Если мастер выходит из строя, система может продолжать работать в режиме только для чтения до тех пор, пока слейв не будет повышен до мастера или не будет создан новый мастер.</p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/C9ioGtn.png">
  <br/>
  <i><a href=http://www.slideshare.net/jboner/scalability-availability-stability-patterns/>Источник: Масштабируемость, доступность, стабильность, паттерны</a></i>
</p></p><p>##### Недостаток(и): мастер-слейв репликация</p><ul><li>Требуется дополнительная логика для повышения слейва до мастера.</li>
<li>См. <a href="#disadvantages-replication" target="_blank" rel="noopener noreferrer">Недостаток(и): репликация</a> для пунктов, относящихся <strong>к обеим</strong> схемам мастер-слейв и мастер-мастер.</li></p><p></ul>#### Мастер-мастер репликация</p><p>Оба мастера обслуживают операции чтения и записи и согласовывают между собой операции записи. Если один из мастеров выходит из строя, система может продолжать обслуживать как чтение, так и запись.</p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/krAHLGg.png">
  <br/>
  <i><a href=http://www.slideshare.net/jboner/scalability-availability-stability-patterns/>Источник: Масштабируемость, доступность, стабильность, паттерны</a></i>
</p></p><p>##### Недостаток(и): мастер-мастер репликация</p><ul><li>Понадобится балансировщик нагрузки или потребуется внести изменения в логику приложения для определения места записи.</li>
<li>Большинство мастер-мастер систем либо слабо согласованы (нарушая ACID), либо имеют увеличенную задержку записи из-за синхронизации.</li>
<li>Разрешение конфликтов становится более актуальным по мере добавления большего количества узлов записи и увеличения задержки.</li>
<li>См. <a href="#disadvantages-replication" target="_blank" rel="noopener noreferrer">Недостатки: репликация</a> для моментов, относящихся к <strong>мастер-слейв</strong> и мастер-мастер.</li></p><p></ul>##### Недостатки: репликация</p><ul><li>Существует вероятность потери данных, если мастер выйдет из строя до того, как вновь записанные данные будут реплицированы на другие узлы.</li>
<li>Записи воспроизводятся на репликах для чтения. Если записей много, реплики для чтения могут быть перегружены воспроизведением записей и не смогут выполнять столько операций чтения.</li>
<li>Чем больше реплик для чтения, тем больше требуется реплицировать, что приводит к увеличению задержки репликации.</li>
<li>В некоторых системах запись на мастер может запускать несколько потоков для параллельной записи, тогда как реплики для чтения поддерживают только последовательную запись одним потоком.</li>
<li>Репликация требует больше оборудования и увеличивает сложность.</li></p><p></ul>##### Источники и дополнительная литература: репликация</p><ul><li><a href="http://www.slideshare.net/jboner/scalability-availability-stability-patterns/" target="_blank" rel="noopener noreferrer">Масштабируемость, доступность, стабильность, паттерны</a></li>
<li><a href="https://en.wikipedia.org/wiki/Multi-master_replication" target="_blank" rel="noopener noreferrer">Мульти-мастер репликация</a></li></p><p></ul>#### Федерация</p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/U3qV33e.png">
  <br/>
  <i><a href=https://www.youtube.com/watch?v=kKjm4ehYiMs>Источник: Масштабирование до первых 10 миллионов пользователей</a></i>
</p></p><p>Федерация (или функциональное разделение) разделяет базы данных по функциям. Например, вместо одной монолитной базы данных можно иметь три базы: <strong>форумы</strong>, <strong>пользователи</strong> и <strong>товары</strong>, что приводит к меньшему количеству операций чтения и записи в каждой базе и, соответственно, меньшей задержке репликации. Меньшие базы позволяют большему объему данных помещаться в памяти, что увеличивает количество попаданий в кэш благодаря улучшенной локальности кэша. При отсутствии единого центрального мастера, сериализующего записи, вы можете писать параллельно, увеличивая пропускную способность.</p><p>##### Недостатки: федерация</p><ul><li>Федерация неэффективна, если ваша схема требует огромных функций или таблиц.</li>
<li>Понадобится обновить логику приложения для определения, из какой базы читать и писать.</li>
<li>Объединение данных из двух баз становится сложнее с использованием <a href="http://stackoverflow.com/questions/5145637/querying-data-by-joining-two-tables-in-two-database-on-different-servers" target="_blank" rel="noopener noreferrer">server link</a>.</li>
<li>Федерация требует больше оборудования и увеличивает сложность.</li></p><p></ul>##### Источники и дополнительная литература: федерация</p><ul><li><a href="https://www.youtube.com/watch?v=kKjm4ehYiMs" target="_blank" rel="noopener noreferrer">Масштабирование до первых 10 миллионов пользователей</a></li></p><p></ul>#### Шардинг</p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/wU8x5Id.png">
  <br/>
  <i><a href=http://www.slideshare.net/jboner/scalability-availability-stability-patterns/>Источник: Масштабируемость, доступность, стабильность, паттерны</a></i>
</p></p><p>Шардинг распределяет данные между различными базами данных таким образом, что каждая база может управлять только частью данных. Например, если рассматривать базу данных пользователей, то с увеличением числа пользователей в кластер добавляются новые шарды.</p><p>Подобно преимуществам <a href="#federation" target="_blank" rel="noopener noreferrer">федерации</a>, шардинг приводит к меньшему количеству операций чтения и записи, меньшему количеству репликаций и большему количеству попаданий в кеш. Размер индекса также уменьшается, что обычно улучшает производительность и ускоряет запросы. Если один шард выходит из строя, остальные продолжают работать, хотя желательно добавить какую-либо форму репликации, чтобы избежать потери данных. Как и при федерации, отсутствует единый центральный мастер, сериализующий записи, что позволяет писать параллельно с увеличенной пропускной способностью.</p><p>Распространенные способы шардинга таблицы пользователей — по первой букве фамилии или по географическому расположению пользователя.</p><p>##### Недостатки: шардинг</p><ul><li>Необходимо обновлять логику приложения для работы с шардами, что может привести к сложным SQL-запросам.</li>
<li>Распределение данных может оказаться неравномерным. Например, наличие группы активных пользователей на одном шарде может привести к повышенной нагрузке на этот шард по сравнению с другими.</li>
    <li>Перебалансировка добавляет дополнительную сложность. Функция шардинга на основе <a href="http://www.paperplanes.de/2011/12/9/the-magic-of-consistent-hashing.html" target="_blank" rel="noopener noreferrer">консистентного хеширования</a> может уменьшить объем передаваемых данных.</li>
<li>Объединение данных из нескольких шардов становится более сложным.</li>
<li>Шардинг требует больше аппаратных ресурсов и увеличивает сложность.</li></p><p></ul>##### Источники и дополнительная литература: шардинг</p><ul><li><a href="http://highscalability.com/blog/2009/8/6/an-unorthodox-approach-to-database-design-the-coming-of-the.html" target="_blank" rel="noopener noreferrer">Приход шарда</a></li>
<li><a href="https://ru.wikipedia.org/wiki/Шард_(архитектура_базы_данных" target="_blank" rel="noopener noreferrer">Архитектура шардинга БД</a>)</li>
<li><a href="http://www.paperplanes.de/2011/12/9/the-magic-of-consistent-hashing.html" target="_blank" rel="noopener noreferrer">Консистентное хеширование</a></li></p><p></ul>#### Денормализация</p><p>Денормализация пытается повысить производительность чтения за счет некоторого ухудшения производительности записи. Избыточные копии данных записываются в несколько таблиц, чтобы избежать затратных объединений. Некоторые СУБД, такие как <a href="https://ru.wikipedia.org/wiki/PostgreSQL" target="_blank" rel="noopener noreferrer">PostgreSQL</a> и Oracle, поддерживают <a href="https://ru.wikipedia.org/wiki/Материализованное_представление" target="_blank" rel="noopener noreferrer">материализованные представления</a>, которые берут на себя задачу хранения избыточной информации и поддержания согласованности копий.</p><p>Когда данные распределяются с помощью таких техник, как <a href="#federation" target="_blank" rel="noopener noreferrer">федерация</a> и <a href="#sharding" target="_blank" rel="noopener noreferrer">шардинг</a>, управление объединениями между дата-центрами становится еще сложнее. Денормализация может помочь избежать необходимости в таких сложных объединениях.</p><p>В большинстве систем количество чтений значительно превышает количество записей — в соотношении 100:1 или даже 1000:1. Операция чтения, приводящая к сложному объединению в базе данных, может быть очень затратной, тратя значительное время на операции с диском.</p><p>##### Недостатки: денормализация</p><ul><li>Данные дублируются.</li>
<li>Ограничения могут помочь синхронизировать избыточные копии информации, что увеличивает сложность проектирования базы данных.</li>
<li>Денормализованная база данных под высокой нагрузкой на запись может работать хуже, чем нормализованная.</li></p><p></ul>###### Источники и дополнительная литература: денормализация</p><ul><li><a href="https://ru.wikipedia.org/wiki/Денормализация" target="_blank" rel="noopener noreferrer">Денормализация</a></li></p><p></ul>#### Настройка SQL</p><p>Настройка SQL — это обширная тема, и написано много <a href="https://www.amazon.com/s/ref=nb_sb_noss_2?url=search-alias%3Daps&field-keywords=sql+tuning" target="_blank" rel="noopener noreferrer">книг</a> в качестве справочников.</p><p>Важно проводить <strong>бенчмаркинг</strong> и <strong>профилирование</strong> для моделирования и выявления узких мест.</p><ul><li><strong>Бенчмаркинг</strong> — моделируйте ситуации высокой нагрузки с помощью таких инструментов, как <a href="http://httpd.apache.org/docs/2.2/programs/ab.html" target="_blank" rel="noopener noreferrer">ab</a>.</li>
<li><strong>Профилирование</strong> — используйте такие инструменты, как <a href="http://dev.mysql.com/doc/refman/5.7/en/slow-query-log.html" target="_blank" rel="noopener noreferrer">журнал медленных запросов</a>, чтобы отслеживать проблемы с производительностью.</li></p><p></ul>Бенчмаркинг и профилирование могут указать на следующие оптимизации.</p><p>##### Уточните схему</p><ul><li>MySQL записывает данные на диск в смежных блоках для быстрого доступа.</li>
<li>Используйте <code>CHAR</code> вместо <code>VARCHAR</code> для полей фиксированной длины.</li>
    <li><code>CHAR</code> обеспечивает быстрый случайный доступ, тогда как с <code>VARCHAR</code> необходимо найти конец строки перед переходом к следующей.</li>
<li>Используйте <code>TEXT</code> для больших блоков текста, таких как посты блога. <code>TEXT</code> также позволяет выполнять булевы поиски. Использование поля <code>TEXT</code> приводит к хранению указателя на диске, который используется для поиска текстового блока.</li>
<li>Используйте <code>INT</code> для больших чисел до 2^32 или 4 миллиардов.</li>
<li>Используйте <code>DECIMAL</code> для хранения валюты, чтобы избежать ошибок представления с плавающей точкой.</li>
<li>Избегайте хранения больших <code>BLOB</code>, храните только местоположение объекта.</li>
<li><code>VARCHAR(255)</code> — это максимальное количество символов, которое можно посчитать в 8-битном числе, часто позволяя максимально использовать байт в некоторых СУБД.</li>
<li>Устанавливайте ограничение <code>NOT NULL</code> там, где это возможно, чтобы <a href="http://stackoverflow.com/questions/1017239/how-do-null-values-affect-performance-in-a-database-search" target="_blank" rel="noopener noreferrer">улучшить производительность поиска</a>.</li></p><p></ul>##### Используйте хорошие индексы</p><ul><li>Столбцы, по которым выполняются запросы (<code>SELECT</code>, <code>GROUP BY</code>, <code>ORDER BY</code>, <code>JOIN</code>), могут работать быстрее с индексами.</li>
<li>Индексы обычно реализованы как самобалансирующееся <a href="https://ru.wikipedia.org/wiki/B-дерево" target="_blank" rel="noopener noreferrer">B-дерево</a>, которое хранит данные в отсортированном виде и позволяет выполнять поиск, последовательный доступ, вставку и удаление за логарифмическое время.</li>
<li>Размещение индекса может держать данные в памяти, что требует больше пространства.</li>
<li>Запись может быть медленнее, так как индекс также нужно обновлять.</li>
<li>При загрузке большого объема данных может быть быстрее отключить индексы, загрузить данные, а затем перестроить индексы.</li></p><p></ul>##### Избегайте дорогих соединений</p><ul><li><a href="#denormalization" target="_blank" rel="noopener noreferrer">Денормализуйте</a>, если этого требует производительность.</li></p><p></ul>##### Разделяйте таблицы</p><ul><li>Разделите таблицу, поместив горячие точки в отдельную таблицу, чтобы облегчить её хранение в памяти.</li></p><p></ul>##### Настройка кэша запросов</p><ul><li>В некоторых случаях <a href="https://dev.mysql.com/doc/refman/5.7/en/query-cache.html" target="_blank" rel="noopener noreferrer">кэш запросов</a> может привести к <a href="https://www.percona.com/blog/2016/10/12/mysql-5-7-performance-tuning-immediately-after-installation/" target="_blank" rel="noopener noreferrer">проблемам с производительностью</a>.</li></p><p></ul>##### Источники и дополнительная литература: оптимизация SQL</p><ul><li><a href="http://aiddroid.com/10-tips-optimizing-mysql-queries-dont-suck/" target="_blank" rel="noopener noreferrer">Советы по оптимизации MySQL-запросов</a></li>
<li><a href="http://stackoverflow.com/questions/1217466/is-there-a-good-reason-i-see-varchar255-used-so-often-as-opposed-to-another-l" target="_blank" rel="noopener noreferrer">Почему так часто используется VARCHAR(255)?</a></li>
<li><a href="http://stackoverflow.com/questions/1017239/how-do-null-values-affect-performance-in-a-database-search" target="_blank" rel="noopener noreferrer">Как значения NULL влияют на производительность?</a></li>
<li><a href="http://dev.mysql.com/doc/refman/5.7/en/slow-query-log.html" target="_blank" rel="noopener noreferrer">Журнал медленных запросов</a></li></p><p></ul><h3>NoSQL</h3></p><p>NoSQL — это набор элементов данных, представленных в виде <strong>хранилища ключ-значение</strong>, <strong>документного хранилища</strong>, <strong>широкого столбцового хранилища</strong> или <strong>графовой базы данных</strong>. Данные денормализованы, а соединения обычно выполняются в коде приложения. Большинство NoSQL-хранилищ не поддерживают настоящие транзакции ACID и предпочитают <a href="#eventual-consistency" target="_blank" rel="noopener noreferrer">конечную согласованность</a>.</p><p><strong>BASE</strong> часто используется для описания свойств NoSQL-баз данных. В сравнении с <a href="#cap-theorem" target="_blank" rel="noopener noreferrer">теоремой CAP</a>, BASE выбирает доступность вместо согласованности.</p><ul><li><strong>В основном доступная</strong> — система гарантирует доступность.</li>
<li><strong>Мягкое состояние</strong> — состояние системы может изменяться со временем, даже без внешнего воздействия.</li>
<li><strong>Конечная согласованность</strong> — система станет согласованной спустя некоторое время, если за этот период не поступит новых данных.</li></p><p></ul>Помимо выбора между <a href="#sql-or-nosql" target="_blank" rel="noopener noreferrer">SQL или NoSQL</a>, полезно понять, какой тип NoSQL-базы данных лучше всего подходит для вашего кейса(-ов). В следующем разделе мы рассмотрим <strong>хранилища ключ-значение</strong>, <strong>документные хранилища</strong>, <strong>широкие столбцовые хранилища</strong> и <strong>графовые базы данных</strong>.</p><p>#### Хранилище ключ-значение</p><blockquote>Абстракция: хеш-таблица</blockquote></p><p>Хранилище ключ-значение обычно обеспечивает операции чтения и записи за O(1) и часто работает на основе памяти или SSD. Хранилища могут поддерживать ключи в <a href="https://en.wikipedia.org/wiki/Lexicographical_order" target="_blank" rel="noopener noreferrer">лексикографическом порядке</a>, что позволяет эффективно извлекать диапазоны ключей. В хранилищах ключ-значение можно хранить метаданные вместе со значением.</p><p>Хранилища ключ-значение обеспечивают высокую производительность и часто используются для простых моделей данных или быстро изменяющихся данных, например, для слоя кэша в памяти. Поскольку они предлагают ограниченный набор операций, дополнительная сложность переносится на уровень приложения, если необходимы дополнительные операции.</p><p>Хранилище ключ-значение является основой для более сложных систем, таких как документные хранилища, а в некоторых случаях — графовые базы данных.</p><p>##### Источники и дополнительная литература: хранилище ключ-значение</p><ul><li><a href="https://en.wikipedia.org/wiki/Key-value_database" target="_blank" rel="noopener noreferrer">База данных ключ-значение</a></li>
<li><a href="http://stackoverflow.com/questions/4056093/what-are-the-disadvantages-of-using-a-key-value-table-over-nullable-columns-or" target="_blank" rel="noopener noreferrer">Недостатки хранилищ ключ-значение</a></li>
<li><a href="http://qnimate.com/overview-of-redis-architecture/" target="_blank" rel="noopener noreferrer">Архитектура Redis</a></li>
<li><a href="https://adayinthelifeof.nl/2011/02/06/memcache-internals/" target="_blank" rel="noopener noreferrer">Архитектура Memcached</a></li></p><p></ul>#### Документное хранилище</p><blockquote>Абстракция: хранилище ключ-значение, где документы сохраняются как значения</blockquote></p><p>Документное хранилище строится вокруг документов (XML, JSON, бинарные файлы и др.), где документ хранит всю информацию об объекте. Документные хранилища предоставляют API или язык запросов для получения данных на основе внутренней структуры самого документа. <em>Заметьте, многие хранилища ключ-значение содержат функции для работы с метаданными значения, размывая границы между этими двумя типами хранения.</em></p><p>В зависимости от реализации документы организованы по коллекциям, тегам, метаданным или директориям. Хотя документы могут быть сгруппированы, поля документов могут сильно отличаться друг от друга.</p><p>Некоторые документные хранилища, такие как <a href="https://www.mongodb.com/mongodb-architecture" target="_blank" rel="noopener noreferrer">MongoDB</a> и <a href="https://blog.couchdb.org/2016/08/01/couchdb-2-0-architecture/" target="_blank" rel="noopener noreferrer">CouchDB</a>, также предоставляют язык запросов, похожий на SQL, для выполнения сложных запросов. <a href="http://www.read.seas.harvard.edu/~kohler/class/cs239-w08/decandia07dynamo.pdf" target="_blank" rel="noopener noreferrer">DynamoDB</a> поддерживает работу как с ключ-значениями, так и с документами.</p><p>Документные хранилища обеспечивают высокую гибкость и часто используются для работы с редко изменяющимися данными.</p><p>##### Источники и дополнительная литература: документное хранилище</p><ul><li><a href="https://en.wikipedia.org/wiki/Document-oriented_database" target="_blank" rel="noopener noreferrer">Документно-ориентированная база данных</a></li>
<li><a href="https://www.mongodb.com/mongodb-architecture" target="_blank" rel="noopener noreferrer">Архитектура MongoDB</a></li>
<li><a href="https://blog.couchdb.org/2016/08/01/couchdb-2-0-architecture/" target="_blank" rel="noopener noreferrer">Архитектура CouchDB</a></li>
<li><a href="https://www.elastic.co/blog/found-elasticsearch-from-the-bottom-up" target="_blank" rel="noopener noreferrer">Архитектура Elasticsearch</a></li></p><p></ul>#### Хранилище широких столбцов</p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/n16iOGk.png">
  <br/>
  <i><a href=http://blog.grio.com/2015/11/sql-nosql-a-brief-history.html>Источник: SQL & NoSQL, краткая история</a></i>
</p></p><blockquote>Абстракция: вложенная карта <code>ColumnFamily<RowKey, Columns<ColKey, Value, Timestamp>></code></blockquote></p><p>Базовой единицей данных в хранилище широких столбцов является столбец (пара имя/значение). Столбцы могут быть сгруппированы в семейства столбцов (аналог таблицы SQL). Суперсемейства столбцов объединяют семейства столбцов. Доступ к каждому столбцу осуществляется независимо по ключу строки, а столбцы с одинаковым ключом строки формируют строку. Каждое значение содержит временную метку для версионирования и разрешения конфликтов.</p><p>Google представила <a href="http://www.read.seas.harvard.edu/~kohler/class/cs239-w08/chang06bigtable.pdf" target="_blank" rel="noopener noreferrer">Bigtable</a> как первое хранилище широких столбцов, которое повлияло на открытый проект <a href="https://www.edureka.co/blog/hbase-architecture/" target="_blank" rel="noopener noreferrer">HBase</a>, часто используемый в экосистеме Hadoop, и <a href="http://docs.datastax.com/en/cassandra/3.0/cassandra/architecture/archIntro.html" target="_blank" rel="noopener noreferrer">Cassandra</a> от Facebook. Хранилища типа BigTable, HBase и Cassandra поддерживают ключи в лексикографическом порядке, что позволяет эффективно извлекать диапазоны ключей.</p><p>Хранилища широких столбцов обеспечивают высокую доступность и масштабируемость. Они часто применяются для работы с очень большими наборами данных.</p><p>##### Источники и дополнительная литература: хранилище широких столбцов</p><ul><li><a href="http://blog.grio.com/2015/11/sql-nosql-a-brief-history.html" target="_blank" rel="noopener noreferrer">SQL & NoSQL, краткая история</a></li>
<li><a href="http://www.read.seas.harvard.edu/~kohler/class/cs239-w08/chang06bigtable.pdf" target="_blank" rel="noopener noreferrer">Архитектура Bigtable</a></li>
<li><a href="https://www.edureka.co/blog/hbase-architecture/" target="_blank" rel="noopener noreferrer">Архитектура HBase</a></li>
<li><a href="http://docs.datastax.com/en/cassandra/3.0/cassandra/architecture/archIntro.html" target="_blank" rel="noopener noreferrer">Архитектура Cassandra</a></li></p><p></ul>#### Графовые базы данных</p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/fNcl65g.png">
  <br/>
  <i><a href=https://en.wikipedia.org/wiki/File:GraphDatabase_PropertyGraph.png>Источник: Графовая база данных</a></i>
</p></p><blockquote>Абстракция: граф</blockquote></p><p>В графовой базе данных каждая вершина — это запись, а каждое ребро — это связь между двумя вершинами. Графовые базы данных оптимизированы для представления сложных отношений с множеством внешних ключей или отношений многие-ко-многим.</p><p>Графовые базы данных обеспечивают высокую производительность для моделей данных со сложными взаимосвязями, таких как социальные сети. Они относительно новые и пока не получили широкого распространения; может быть сложнее найти инструменты и ресурсы для разработки. Многие графы доступны только через <a href="#representational-state-transfer-rest" target="_blank" rel="noopener noreferrer">REST API</a>.</p><p>##### Источники и дополнительная литература: граф</p><ul><li><a href="https://en.wikipedia.org/wiki/Graph_database" target="_blank" rel="noopener noreferrer">Графовые базы данных</a></li>
<li><a href="https://neo4j.com/" target="_blank" rel="noopener noreferrer">Neo4j</a></li>
<li><a href="https://blog.twitter.com/2010/introducing-flockdb" target="_blank" rel="noopener noreferrer">FlockDB</a></li></p><p></ul>#### Источники и дополнительная литература: NoSQL</p><ul><li><a href="http://stackoverflow.com/questions/3342497/explanation-of-base-terminology" target="_blank" rel="noopener noreferrer">Объяснение базовой терминологии</a></li>
<li><a href="https://medium.com/baqend-blog/nosql-databases-a-survey-and-decision-guidance-ea7823a822d#.wskogqenq" target="_blank" rel="noopener noreferrer">NoSQL базы данных: обзор и рекомендации по выбору</a></li>
<li><a href="https://web.archive.org/web/20220602114024/https://www.lecloud.net/post/7994751381/scalability-for-dummies-part-2-database" target="_blank" rel="noopener noreferrer">Масштабируемость</a></li>
<li><a href="https://www.youtube.com/watch?v=qI_g07C_Q5I" target="_blank" rel="noopener noreferrer">Введение в NoSQL</a></li>
<li><a href="http://horicky.blogspot.com/2009/11/nosql-patterns.html" target="_blank" rel="noopener noreferrer">NoSQL паттерны</a></li></p><p></ul><h3>SQL или NoSQL</h3></p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/wXGqG5f.png">
  <br/>
  <i><a href=https://www.infoq.com/articles/Transition-RDBMS-NoSQL/>Источник: Переход от RDBMS к NoSQL</a></i>
</p></p><p>Причины выбрать <strong>SQL</strong>:</p><ul><li>Структурированные данные</li>
<li>Строгая схема</li>
<li>Реляционные данные</li>
<li>Необходимость сложных соединений</li>
<li>Транзакции</li>
<li>Четкие паттерны масштабирования</li>
<li>Более устоявшаяся технология: разработчики, сообщество, код, инструменты и др.</li>
<li>Поиск по индексу очень быстрый</li></p><p></ul>Причины выбрать <strong>NoSQL</strong>:</p><ul><li>Полуструктурированные данные</li>
<li>Динамическая или гибкая схема</li>
<li>Нереляционные данные</li>
<li>Нет необходимости в сложных соединениях</li>
<li>Хранение многих ТБ (или ПБ) данных</li>
<li>Очень интенсивная нагрузка на данные</li>
<li>Очень высокая производительность по IOPS</li></p><p></ul>Примеры данных, хорошо подходящих для NoSQL:</p><ul><li>Быстрый прием потоковых данных и логов</li>
<li>Лидеры или данные по очкам</li>
<li>Временные данные, такие как корзина покупок</li>
<li>Часто запрашиваемые ("горячие") таблицы</li>
<li>Таблицы метаданных/поиска</li></p><p></ul>##### Источники и дополнительные материалы: SQL или NoSQL</p><ul><li><a href="https://www.youtube.com/watch?v=kKjm4ehYiMs" target="_blank" rel="noopener noreferrer">Масштабирование до первых 10 миллионов пользователей</a></li>
<li><a href="https://www.sitepoint.com/sql-vs-nosql-differences/" target="_blank" rel="noopener noreferrer">Различия между SQL и NoSQL</a></li></p><p></ul><h2>Кэш</h2></p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/Q6z24La.png">
  <br/>
  <i><a href=http://horicky.blogspot.com/2010/10/scalable-system-design-patterns.html>Источник: Шаблоны проектирования масштабируемых систем</a></i>
</p></p><p>Кэширование улучшает время загрузки страниц и может снизить нагрузку на ваши серверы и базы данных. В этой модели диспетчер сначала проверяет, был ли сделан такой запрос ранее, и пытается найти предыдущий результат для возврата, чтобы избежать фактического выполнения.</p><p>Базы данных часто выигрывают от равномерного распределения чтений и записей по своим разделам. Популярные элементы могут искажать распределение, вызывая узкие места. Размещение кэша перед базой данных помогает сглаживать неравномерную нагрузку и всплески трафика.</p><h3>Кэширование на стороне клиента</h3></p><p>Кэш может располагаться на стороне клиента (ОС или браузер), <a href="#reverse-proxy-web-server" target="_blank" rel="noopener noreferrer">на стороне сервера</a> или в отдельном уровне кэширования.</p><h3>Кэширование CDN</h3></p><p><a href="#content-delivery-network" target="_blank" rel="noopener noreferrer">CDN</a> считаются одним из видов кэша.</p><h3>Кэширование веб-сервера</h3></p><p><a href="#reverse-proxy-web-server" target="_blank" rel="noopener noreferrer">Обратные прокси</a> и кэши, такие как <a href="https://www.varnish-cache.org/" target="_blank" rel="noopener noreferrer">Varnish</a>, могут обслуживать статический и динамический контент напрямую. Веб-серверы также могут кэшировать запросы, возвращая ответы без обращения к серверу приложений.</p><h3>Кэширование базы данных</h3></p><p>Ваша база данных обычно включает некоторый уровень кэширования в стандартной конфигурации, оптимизированной для общего случая. Настройка этих параметров для конкретных сценариев использования может еще больше повысить производительность.</p><h3>Кэширование приложения</h3></p><p>Кэши в оперативной памяти, такие как Memcached и Redis, являются хранилищами "ключ-значение" между вашим приложением и хранилищем данных. Поскольку данные хранятся в ОЗУ, они намного быстрее, чем в типичных базах данных, где данные записываются на диск. ОЗУ более ограничено, чем диск, поэтому алгоритмы <a href="https://en.wikipedia.org/wiki/Cache_algorithms" target="_blank" rel="noopener noreferrer">инвалидации кэша</a>, такие как <a href="https://en.wikipedia.org/wiki/Cache_replacement_policies#Least_recently_used_(LRU" target="_blank" rel="noopener noreferrer">наименее недавно использованные (LRU)</a>), помогают удалять "холодные" записи и держать "горячие" данные в ОЗУ.</p><p>У Redis есть следующие дополнительные возможности:</p><ul><li>Опция персистентности</li>
<li>Встроенные структуры данных, такие как отсортированные множества и списки</li></p><p></ul>Существует несколько уровней кэширования, которые делятся на две основные категории: <strong>запросы к базе данных</strong> и <strong>объекты</strong>:</p><ul><li>На уровне строки</li>
<li>На уровне запроса</li>
<li>Полностью сформированные сериализуемые объекты</li>
<li>Полностью отрендеренный HTML</li></p><p></ul>Как правило, следует избегать файлового кэширования, так как это усложняет клонирование и автоскейлинг.</p><h3>Кэширование на уровне запросов к базе данных</h3></p><p>Всякий раз, когда вы выполняете запрос к базе данных, хэшируйте запрос как ключ и сохраняйте результат в кэше. Такой подход страдает от проблем с истечением срока действия:</p><ul><li>Сложно удалить закэшированный результат для сложных запросов</li>
<li>Если одна часть данных изменяется, например ячейка таблицы, необходимо удалить все закэшированные запросы, которые могут содержать измененную ячейку</li></p><p></ul><h3>Кэширование на уровне объекта</h3></p><p>Рассматривайте ваши данные как объект, аналогично тому, как вы работаете с кодом приложения. Пусть приложение собирает набор данных из базы в экземпляр класса или структуру данных:</p><ul><li>Удалите объект из кэша, если его исходные данные изменились</li>
<li>Позволяет асинхронную обработку: воркеры собирают объекты, используя последние закэшированные объекты</li></p><p></ul>Что можно кэшировать:</p><ul><li>Сессии пользователей</li>
<li>Полностью отрендеренные веб-страницы</li>
<li>Потоки активности</li>
<li>Данные графа пользователя</li></p><p></ul><h3>Когда обновлять кэш</h3></p><p>Поскольку вы можете хранить в кэше только ограниченное количество данных, необходимо определить стратегию обновления кэша, которая лучше всего подходит для вашего случая.</p><p>#### Cache-aside</p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/ONjORqk.png">
  <br/>
  <i><a href=http://www.slideshare.net/tmatyashovsky/from-cache-to-in-memory-data-grid-introduction-to-hazelcast>Источник: From cache to in-memory data grid</a></i>
</p></p><p>Приложение отвечает за чтение и запись из хранилища. Кэш не взаимодействует с хранилищем напрямую. Приложение выполняет следующие действия:</p><ul><li>Поиск записи в кэше, приводящий к промаху по кэшу</li>
<li>Загрузка записи из базы данных</li>
<li>Добавление записи в кэш</li>
<li>Возврат записи</li></p><p></ul><pre><code class="language-python">def get_user(self, user_id):
    user = cache.get("user.{0}", user_id)
    if user is None:
        user = db.query("SELECT * FROM users WHERE user_id = {0}", user_id)
        if user is not None:
            key = "user.{0}".format(user_id)
            cache.set(key, json.dumps(user))
    return user</code></pre></p><p><a href="https://memcached.org/" target="_blank" rel="noopener noreferrer">Memcached</a> обычно используется таким образом.</p><p>Последующие чтения данных, добавленных в кэш, происходят быстро. Cache-aside также называется ленивой загрузкой (lazy loading). В кэш помещаются только запрошенные данные, что предотвращает заполнение кэша неиспользуемыми данными.</p><p>##### Недостаток(и): cache-aside</p><ul><li>Каждый промах кэша приводит к трем обращениям, что может вызвать заметную задержку.</li>
<li>Данные могут устаревать, если они были обновлены в базе данных. Эта проблема решается установкой времени жизни (TTL), которое принудительно обновляет запись в кэше, или использованием write-through.</li>
<li>При отказе узла он заменяется новым, пустым узлом, что увеличивает задержку.</li></p><p></ul>#### Write-through</p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/0vBc0hN.png">
  <br/>
  <i><a href=http://www.slideshare.net/jboner/scalability-availability-stability-patterns/>Источник: Масштабируемость, доступность, стабильность, паттерны</a></i>
</p></p><p>Приложение использует кэш как основное хранилище данных, читая и записывая данные в него, при этом кэш отвечает за чтение и запись в базу данных:</p><ul><li>Приложение добавляет/обновляет запись в кэше</li>
<li>Кэш синхронно записывает запись в хранилище данных</li>
<li>Возврат</li></p><p></ul>Код приложения:</p><pre><code class="language-python">set_user(12345, {"foo":"bar"})</code></pre></p><p>Код кэша:</p><pre><code class="language-python">def set_user(user_id, values):
    user = db.query("UPDATE Users WHERE id = {0}", user_id, values)
    cache.set(user_id, user)</code></pre>
Запись с немедленным сохранением (write-through) — это медленная операция из-за записи, но последующие чтения только что записанных данных выполняются быстро.  Пользователи обычно более терпимы к задержкам при обновлении данных, чем при чтении данных.  Данные в кэше не устаревшие.</p><p>##### Недостатки: запись с немедленным сохранением</p><ul><li>Когда создается новый узел из-за сбоя или масштабирования, новый узел не будет кэшировать записи до тех пор, пока запись не будет обновлена в базе данных.  Использование кэширования по запросу вместе с записью с немедленным сохранением может снизить этот недостаток.</li>
<li>Большинство записанных данных могут никогда не быть считаны, что можно минимизировать с помощью TTL.</li></p><p></ul>#### Запись с отложенным сохранением (write-behind, write-back)</p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/rgSrvjG.png">
  <br/>
  <i><a href=http://www.slideshare.net/jboner/scalability-availability-stability-patterns/>Источник: Масштабируемость, доступность, стабильность, паттерны</a></i>
</p></p><p>При записи с отложенным сохранением приложение выполняет следующие действия:</p><ul><li>Добавляет/обновляет запись в кэше</li>
<li>Асинхронно записывает запись в хранилище данных, улучшая производительность записи</li></p><p></ul>##### Недостатки: запись с отложенным сохранением</p><ul><li>Может произойти потеря данных, если кэш выйдет из строя до того, как его содержимое попадет в хранилище данных.</li>
<li>Реализация записи с отложенным сохранением сложнее, чем реализация кэширования по запросу или записи с немедленным сохранением.</li></p><p></ul>#### Предварительное обновление (refresh-ahead)</p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/kxtjqgE.png">
  <br/>
  <i><a href=http://www.slideshare.net/tmatyashovsky/from-cache-to-in-memory-data-grid-introduction-to-hazelcast>Источник: От кэша к распределенному хранилищу данных в памяти</a></i>
</p></p><p>Можно настроить кэш так, чтобы он автоматически обновлял недавно запрошенные записи кэша до их истечения срока действия.</p><p>Предварительное обновление может привести к снижению задержки по сравнению с чтением через кэш, если кэш способен точно предсказать, какие элементы могут понадобиться в будущем.</p><p>##### Недостатки: предварительное обновление</p><ul><li>Неточной прогнозирование того, какие элементы могут понадобиться в будущем, может привести к снижению производительности по сравнению с отсутствием предварительного обновления.</li></p><p></ul><h3>Недостаток(и): кэш</h3></p><ul><li>Необходимо поддерживать согласованность между кэшами и источником истины, таким как база данных, через <a href="https://en.wikipedia.org/wiki/Cache_algorithms" target="_blank" rel="noopener noreferrer">инвалидацию кэша</a>.</li>
<li>Инвалидация кэша — сложная задача, существует дополнительная сложность, связанная с определением момента обновления кэша.</li>
<li>Требуется внесение изменений в приложение, например добавление Redis или memcached.</li></p><p></ul><h3>Источники и дополнительная литература</h3></p><ul><li><a href="http://www.slideshare.net/tmatyashovsky/from-cache-to-in-memory-data-grid-introduction-to-hazelcast" target="_blank" rel="noopener noreferrer">От кэша к распределённой памяти</a></li>
<li><a href="http://horicky.blogspot.com/2010/10/scalable-system-design-patterns.html" target="_blank" rel="noopener noreferrer">Шаблоны проектирования масштабируемых систем</a></li>
<li><a href="http://lethain.com/introduction-to-architecting-systems-for-scale/" target="_blank" rel="noopener noreferrer">Введение в архитектуру систем для масштабирования</a></li>
<li><a href="http://www.slideshare.net/jboner/scalability-availability-stability-patterns/" target="_blank" rel="noopener noreferrer">Масштабируемость, доступность, стабильность, шаблоны</a></li>
<li><a href="https://web.archive.org/web/20230126233752/https://www.lecloud.net/post/9246290032/scalability-for-dummies-part-3-cache" target="_blank" rel="noopener noreferrer">Масштабируемость</a></li>
<li><a href="http://docs.aws.amazon.com/AmazonElastiCache/latest/UserGuide/Strategies.html" target="_blank" rel="noopener noreferrer">Стратегии AWS ElastiCache</a></li>
<li><a href="https://en.wikipedia.org/wiki/Cache_(computing" target="_blank" rel="noopener noreferrer">Википедия</a>)</li></p><p></ul><h2>Асинхронность</h2></p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/54GYsSx.png">
  <br/>
  <i><a href=http://lethain.com/introduction-to-architecting-systems-for-scale/#platform_layer>Источник: Введение в архитектуру систем для масштабирования</a></i>
</p></p><p>Асинхронные процессы помогают сократить время ответа для ресурсоёмких операций, которые в противном случае выполнялись бы в реальном времени. Они также полезны для предварительного выполнения трудоёмких задач, например периодической агрегации данных.</p><h3>Очереди сообщений</h3></p><p>Очереди сообщений принимают, хранят и доставляют сообщения. Если операция слишком медленная для выполнения в реальном времени, можно использовать очередь сообщений с следующим процессом:</p><ul><li>Приложение публикует задачу в очередь, затем уведомляет пользователя о статусе задачи</li>
<li>Рабочий процесс извлекает задачу из очереди, обрабатывает её и сигнализирует о завершении</li></p><p></ul>Пользователь не блокируется, а задача обрабатывается в фоновом режиме. В это время клиент может выполнять небольшую обработку, чтобы создать видимость завершения задачи. Например, при публикации твита, твит может мгновенно появиться на вашей ленте, но потребуется время, чтобы он был доставлен всем вашим подписчикам.</p><p><strong><a href="https://redis.io/" target="_blank" rel="noopener noreferrer">Redis</a></strong> полезен как простой брокер сообщений, но сообщения могут быть потеряны.</p><p><strong><a href="https://www.rabbitmq.com/" target="_blank" rel="noopener noreferrer">RabbitMQ</a></strong> популярен, но требует адаптации к протоколу 'AMQP' и самостоятельного управления узлами.</p><p><strong><a href="https://aws.amazon.com/sqs/" target="_blank" rel="noopener noreferrer">Amazon SQS</a></strong> размещается на сервере, но может иметь высокую задержку и возможность повторной доставки сообщений.</p><h3>Очереди задач</h3></p><p>Очереди задач принимают задачи и связанные с ними данные, выполняют их, а затем доставляют результаты. Они поддерживают планирование и могут использоваться для выполнения ресурсоёмких задач в фоновом режиме.</p><p><strong><a href="https://docs.celeryproject.org/en/stable/" target="_blank" rel="noopener noreferrer">Celery</a></strong> поддерживает планирование и в основном работает с python.</p><h3>Обратное давление</h3></p><p>Если очереди начинают значительно расти, их размер может превысить доступную память, что приведёт к промахам кэша, чтению с диска и ещё большему снижению производительности. <a href="http://mechanical-sympathy.blogspot.com/2012/05/apply-back-pressure-when-overloaded.html" target="_blank" rel="noopener noreferrer">Обратное давление</a> помогает, ограничивая размер очереди, что позволяет поддерживать высокую пропускную способность и хорошее время отклика для уже находящихся в очереди задач. Когда очередь переполняется, клиентам возвращается статус "сервер занят" или HTTP 503 с предложением повторить попытку позже. Клиенты могут повторить запрос позднее, возможно, с использованием <a href="https://en.wikipedia.org/wiki/Exponential_backoff" target="_blank" rel="noopener noreferrer">экспоненциальной задержки</a>.</p><h3>Недостаток(и): асинхронность</h3></p><ul><li>Для таких случаев, как недорогие вычисления и рабочие процессы в реальном времени, синхронные операции могут быть более подходящими, поскольку внедрение очередей увеличивает задержки и сложность.</li></p><p></ul><h3>Источники и дополнительная литература</h3></p><ul><li><a href="https://www.youtube.com/watch?v=1KRYH75wgy4" target="_blank" rel="noopener noreferrer">It's all a numbers game</a></li>
<li><a href="http://mechanical-sympathy.blogspot.com/2012/05/apply-back-pressure-when-overloaded.html" target="_blank" rel="noopener noreferrer">Applying back pressure when overloaded</a></li>
<li><a href="https://en.wikipedia.org/wiki/Little%27s_law" target="_blank" rel="noopener noreferrer">Little's law</a></li>
<li><a href="https://www.quora.com/What-is-the-difference-between-a-message-queue-and-a-task-queue-Why-would-a-task-queue-require-a-message-broker-like-RabbitMQ-Redis-Celery-or-IronMQ-to-function" target="_blank" rel="noopener noreferrer">What is the difference between a message queue and a task queue?</a></li></p><p></ul><h2>Связь</h2></p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/5KeocQs.jpg">
  <br/>
  <i><a href=http://www.escotal.com/osilayer.html>Источник: модель OSI 7 уровней</a></i>
</p></p><h3>Протокол передачи гипертекста (HTTP)</h3></p><p>HTTP — это способ кодирования и передачи данных между клиентом и сервером. Это протокол запрос/ответ: клиенты отправляют запросы, а серверы возвращают ответы с соответствующим содержимым и статусом завершения запроса. HTTP самодостаточен, позволяя передавать запросы и ответы через множество промежуточных маршрутизаторов и серверов, осуществляющих балансировку нагрузки, кэширование, шифрование и сжатие.</p><p>Базовый HTTP-запрос состоит из глагола (метода) и ресурса (конечной точки). Ниже приведены распространённые HTTP-глаголы:</p><p>| Глагол | Описание | Идемпотентность* | Безопасность | Кэшируемость |
|---|---|---|---|---|
| GET | Читает ресурс | Да | Да | Да |
| POST | Создает ресурс или запускает процесс обработки данных | Нет | Нет | Да, если ответ содержит информацию о свежести |
| PUT | Создает или заменяет ресурс | Да | Нет | Нет |
| PATCH | Частично обновляет ресурс | Нет | Нет | Да, если ответ содержит информацию о свежести |
| DELETE | Удаляет ресурс | Да | Нет | Нет |</p><p>*Может вызываться много раз без разных результатов.</p><p>HTTP — это протокол прикладного уровня, основанный на протоколах более низкого уровня, таких как <strong>TCP</strong> и <strong>UDP</strong>.</p><p>#### Источники и дополнительная литература: HTTP</p><ul><li><a href="https://www.nginx.com/resources/glossary/http/" target="_blank" rel="noopener noreferrer">Что такое HTTP?</a></li>
<li><a href="https://www.quora.com/What-is-the-difference-between-HTTP-protocol-and-TCP-protocol" target="_blank" rel="noopener noreferrer">Различие между HTTP и TCP</a></li>
<li><a href="https://laracasts.com/discuss/channels/general-discussion/whats-the-differences-between-put-and-patch?page=1" target="_blank" rel="noopener noreferrer">Различие между PUT и PATCH</a></li></p><p></ul><h3>Протокол управления передачей (TCP)</h3></p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/JdAsdvG.jpg">
  <br/>
  <i><a href=http://www.wildbunny.co.uk/blog/2012/10/09/how-to-make-a-multi-player-game-part-1/>Источник: Как создать многопользовательскую игру</a></i>
</p></p><p>TCP — это ориентированный на соединение протокол поверх <a href="https://en.wikipedia.org/wiki/Internet_Protocol" target="_blank" rel="noopener noreferrer">IP-сети</a>. Соединение устанавливается и завершается с помощью <a href="https://en.wikipedia.org/wiki/Handshaking" target="_blank" rel="noopener noreferrer">рукопожатия</a>. Все отправленные пакеты гарантированно достигают назначения в исходном порядке и без повреждений благодаря:</p><ul><li>Номерам последовательности и <a href="https://en.wikipedia.org/wiki/Transmission_Control_Protocol#Checksum_computation" target="_blank" rel="noopener noreferrer">контрольным суммам</a> для каждого пакета</li>
<li>Пакетам <a href="https://en.wikipedia.org/wiki/Acknowledgement_(data_networks" target="_blank" rel="noopener noreferrer">подтверждения</a>) и автоматической повторной передаче</li></p><p></ul>Если отправитель не получает корректный ответ, он повторно отправляет пакеты. При множественных тайм-аутах соединение разрывается. TCP также реализует <a href="https://en.wikipedia.org/wiki/Flow_control_(data" target="_blank" rel="noopener noreferrer">управление потоком</a>) и <a href="https://en.wikipedia.org/wiki/Network_congestion#Congestion_control" target="_blank" rel="noopener noreferrer">управление перегрузкой</a>. Эти гарантии приводят к задержкам и обычно менее эффективной передаче данных по сравнению с UDP.</p><p>Для обеспечения высокой пропускной способности веб-серверы могут держать большое количество открытых TCP-соединений, что приводит к высокому расходу памяти. Держать много открытых соединений между потоками веб-сервера и, например, сервером <a href="https://memcached.org/" target="_blank" rel="noopener noreferrer">memcached</a> может быть дорого. <a href="https://en.wikipedia.org/wiki/Connection_pool" target="_blank" rel="noopener noreferrer">Пул соединений</a> может помочь, также стоит рассмотреть переход на UDP, где это возможно.</p><p>TCP полезен для приложений, которым требуется высокая надежность, но они менее критичны к времени. Примеры: веб-серверы, информация баз данных, SMTP, FTP и SSH.</p><p>Используйте TCP вместо UDP, когда:</p><ul><li>Вам нужно, чтобы все данные пришли без потерь</li>
<li>Вы хотите автоматически оптимально использовать пропускную способность сети</li></p><p></ul><h3>Протокол пользовательских дейтаграмм (UDP)</h3></p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/yzDrJtA.jpg">
  <br/>
  <i><a href=http://www.wildbunny.co.uk/blog/2012/10/09/how-to-make-a-multi-player-game-part-1/>Источник: Как сделать многопользовательскую игру</a></i>
</p></p><p>UDP является протоколом без установления соединения. Дейтаграммы (аналогично пакетам) гарантируются только на уровне дейтаграмм. Дейтаграммы могут прибывать в пункт назначения не по порядку или не прибывать вообще. UDP не поддерживает управление перегрузкой. Без гарантий, которые предоставляет TCP, UDP, как правило, более эффективен.</p><p>UDP может осуществлять широковещательную передачу, отправляя дейтаграммы всем устройствам в подсети. Это полезно при <a href="https://en.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol" target="_blank" rel="noopener noreferrer">DHCP</a>, поскольку клиент еще не получил IP-адрес, что предотвращает возможность потоковой передачи по TCP без IP-адреса.</p><p>UDP менее надежен, но хорошо работает в случаях использования в реальном времени, таких как VoIP, видеочат, стриминг и многопользовательские игры в реальном времени.</p><p>Используйте UDP вместо TCP, когда:</p><ul><li>Вам нужна минимальная задержка</li>
<li>Просроченные данные хуже, чем потеря данных</li>
<li>Вы хотите реализовать собственную коррекцию ошибок</li></p><p></ul>#### Источники и дополнительная литература: TCP и UDP</p><ul><li><a href="http://gafferongames.com/networking-for-game-programmers/udp-vs-tcp/" target="_blank" rel="noopener noreferrer">Сетевые технологии для программирования игр</a></li>
<li><a href="http://www.cyberciti.biz/faq/key-differences-between-tcp-and-udp-protocols/" target="_blank" rel="noopener noreferrer">Ключевые различия между протоколами TCP и UDP</a></li>
<li><a href="http://stackoverflow.com/questions/5970383/difference-between-tcp-and-udp" target="_blank" rel="noopener noreferrer">Различие между TCP и UDP</a></li>
<li><a href="https://en.wikipedia.org/wiki/Transmission_Control_Protocol" target="_blank" rel="noopener noreferrer">Протокол управления передачей</a></li>
<li><a href="https://en.wikipedia.org/wiki/User_Datagram_Protocol" target="_blank" rel="noopener noreferrer">Протокол пользовательских дейтаграмм</a></li>
<li><a href="http://www.cs.bu.edu/~jappavoo/jappavoo.github.com/451/papers/memcache-fb.pdf" target="_blank" rel="noopener noreferrer">Масштабирование memcache в Facebook</a></li></p><p></ul><h3>Удалённый вызов процедур (RPC)</h3></p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/iF4Mkb5.png">
  <br/>
  <i><a href=http://www.puncsky.com/blog/2016-02-13-crack-the-system-design-interview>Источник: Crack the system design interview</a></i>
</p></p><p>В RPC клиент инициирует выполнение процедуры в другом адресном пространстве, обычно на удалённом сервере. Процедура кодируется так, как если бы это был локальный вызов процедуры, абстрагируя детали взаимодействия с сервером от клиентской программы. Удалённые вызовы обычно медленнее и менее надёжны, чем локальные, поэтому полезно различать вызовы RPC и локальные вызовы. Популярные фреймворки RPC включают <a href="https://developers.google.com/protocol-buffers/" target="_blank" rel="noopener noreferrer">Protobuf</a>, <a href="https://thrift.apache.org/" target="_blank" rel="noopener noreferrer">Thrift</a> и <a href="https://avro.apache.org/docs/current/" target="_blank" rel="noopener noreferrer">Avro</a>.</p><p>RPC — это протокол типа запрос-ответ:</p><ul><li><strong>Клиентская программа</strong> - Вызывает процедуру клиентского заглушки. Параметры помещаются в стек, как при локальном вызове процедуры.</li>
<li><strong>Процедура клиентского заглушки</strong> - Сериализует (упаковывает) идентификатор процедуры и аргументы в сообщение запроса.</li>
<li><strong>Модуль связи клиента</strong> - ОС отправляет сообщение от клиента на сервер.</li>
<li><strong>Модуль связи сервера</strong> - ОС передает входящие пакеты процедуре серверского заглушки.</li>
<li><strong>Процедура серверского заглушки</strong> - Десериализует результаты, вызывает серверную процедуру, соответствующую идентификатору процедуры, и передает заданные аргументы.</li>
<li>Ответ сервера повторяет вышеуказанные шаги в обратном порядке.</li></p><p></ul>Примеры вызова RPC:</p><pre><code class="language-">GET /someoperation?data=anId</p><p>POST /anotheroperation
{
  "data":"anId";
  "anotherdata": "another value"
}</code></pre></p><p>RPC ориентирован на предоставление поведения. RPC часто используется для повышения производительности при внутренней коммуникации, поскольку вы можете вручную создавать нативные вызовы, чтобы лучше соответствовать вашим случаям использования.</p><p>Выберите нативную библиотеку (также известную как SDK), когда:</p><ul><li>Вы знаете свою целевую платформу.</li>
<li>Вы хотите контролировать, как ваш "логика" доступна.</li>
<li>Вы хотите контролировать обработку ошибок вне вашей библиотеки.</li>
<li>Производительность и опыт конечного пользователя — ваш главный приоритет.</li></p><p></ul>HTTP API, соответствующие <strong>REST</strong>, чаще используются для публичных API.</p><p>#### Недостатки: RPC</p><ul><li>RPC-клиенты становятся тесно связанными с реализацией сервиса.</li>
<li>Для каждой новой операции или случая использования необходимо определять новый API.</li>
<li>Отладка RPC может быть затруднена.</li>
<li>Возможно, вы не сможете использовать существующие технологии из коробки. Например, может потребоваться дополнительная работа, чтобы <a href="https://web.archive.org/web/20170608193645/http://etherealbits.com/2012/12/debunking-the-myths-of-rpc-rest/" target="_blank" rel="noopener noreferrer">RPC-вызовы корректно кэшировались</a> на серверах кэширования, таких как <a href="http://www.squid-cache.org/" target="_blank" rel="noopener noreferrer">Squid</a>.</li></p><p></ul><h3>Передача состояния представления (REST)</h3></p><p>REST — это архитектурный стиль, реализующий модель клиент/сервер, где клиент работает с набором ресурсов, управляемых сервером. Сервер предоставляет представление ресурсов и действия, которые могут либо изменить, либо получить новое представление ресурсов. Вся коммуникация должна быть без состояния и кэшируемой.</p><p>У RESTful-интерфейса есть четыре качества:</p><ul><li><strong>Идентификация ресурсов (URI в HTTP)</strong> — используйте один и тот же URI независимо от операции.</li>
<li><strong>Изменение с представлениями (глаголы в HTTP)</strong> — используйте глаголы, заголовки и тело.</li>
<li><strong>Самоописывающее сообщение об ошибке (статус ответа в HTTP)</strong> — используйте статус-коды, не изобретайте велосипед.</li>
<li><strong><a href="http://restcookbook.com/Basics/hateoas/" target="_blank" rel="noopener noreferrer">HATEOAS</a> (HTML-интерфейс для HTTP)</strong> — ваш веб-сервис должен быть полностью доступен через браузер.</li></p><p></ul>Примеры REST-запросов:</p><pre><code class="language-">GET /someresources/anId</p><p>PUT /someresources/anId
{"anotherdata": "another value"}</code></pre>
REST ориентирован на предоставление данных. Он минимизирует связь между клиентом и сервером и часто используется для публичных HTTP API. REST использует более универсальный и единообразный способ предоставления ресурсов через URI, <a href="https://github.com/for-GET/know-your-http-well/blob/master/headers.md" target="_blank" rel="noopener noreferrer">представление через заголовки</a> и действия через такие глаголы, как GET, POST, PUT, DELETE и PATCH. Будучи статeless, REST отлично подходит для горизонтального масштабирования и разбиения на части.</p><p>#### Недостатки: REST</p><ul><li>Поскольку REST ориентирован на предоставление данных, он может не подойти, если ресурсы не организованы или не доступны в простой иерархии. Например, возврат всех обновленных записей за последний час, соответствующих определенному набору событий, сложно выразить в виде пути. В REST это, скорее всего, реализуется с помощью комбинации пути URI, параметров запроса и, возможно, тела запроса.</li>
<li>REST обычно опирается на несколько глаголов (GET, POST, PUT, DELETE и PATCH), которые иногда не соответствуют вашему случаю использования. Например, перемещение просроченных документов в архивную папку может не вписываться в эти глаголы.</li>
<li>Получение сложных ресурсов с вложенными иерархиями требует нескольких обменов между клиентом и сервером для отображения одного представления, например, получение содержимого записи блога и комментариев к ней. Для мобильных приложений, работающих в переменных сетевых условиях, эти многократные обмены крайне нежелательны.</li>
<li>Со временем в ответе API могут появляться новые поля, и старые клиенты будут получать все новые поля данных, даже те, которые им не нужны, что приводит к увеличению размера полезной нагрузки и большему времени задержки.</li></p><p></ul><h3>Сравнение вызовов RPC и REST</h3></p><p>| Операция | RPC | REST |
|---|---|---|
| Регистрация    | <strong>POST</strong> /signup | <strong>POST</strong> /persons |
| Увольнение    | <strong>POST</strong> /resign<br/>{<br/>"personid": "1234"<br/>} | <strong>DELETE</strong> /persons/1234 |
| Прочитать пользователя | <strong>GET</strong> /readPerson?personid=1234 | <strong>GET</strong> /persons/1234 |
| Прочитать список предметов пользователя | <strong>GET</strong> /readUsersItemsList?personid=1234 | <strong>GET</strong> /persons/1234/items |
| Добавить предмет к списку пользователя | <strong>POST</strong> /addItemToUsersItemsList<br/>{<br/>"personid": "1234";<br/>"itemid": "456"<br/>} | <strong>POST</strong> /persons/1234/items<br/>{<br/>"itemid": "456"<br/>} |
| Обновить предмет    | <strong>POST</strong> /modifyItem<br/>{<br/>"itemid": "456";<br/>"key": "value"<br/>} | <strong>PUT</strong> /items/456<br/>{<br/>"key": "value"<br/>} |
| Удалить предмет | <strong>POST</strong> /removeItem<br/>{<br/>"itemid": "456"<br/>} | <strong>DELETE</strong> /items/456 |</p><p><p align="center">
  <i><a href=https://apihandyman.io/do-you-really-know-why-you-prefer-rest-over-rpc/>Источник: Do you really know why you prefer REST over RPC</a></i>
</p></p><p>#### Источники и дополнительная литература: REST и RPC</p><ul><li><a href="https://apihandyman.io/do-you-really-know-why-you-prefer-rest-over-rpc/" target="_blank" rel="noopener noreferrer">Do you really know why you prefer REST over RPC</a></li>
<li><a href="http://programmers.stackexchange.com/a/181186" target="_blank" rel="noopener noreferrer">Когда подходы, похожие на RPC, более уместны, чем REST?</a></li>
<li><a href="http://stackoverflow.com/questions/15056878/rest-vs-json-rpc" target="_blank" rel="noopener noreferrer">REST vs JSON-RPC</a></li>
<li><a href="https://web.archive.org/web/20170608193645/http://etherealbits.com/2012/12/debunking-the-myths-of-rpc-rest/" target="_blank" rel="noopener noreferrer">Развенчание мифов о RPC и REST</a></li>
<li><a href="https://www.quora.com/What-are-the-drawbacks-of-using-RESTful-APIs" target="_blank" rel="noopener noreferrer">Каковы недостатки использования REST</a></li>
<li><a href="http://www.puncsky.com/blog/2016-02-13-crack-the-system-design-interview" target="_blank" rel="noopener noreferrer">Crack the system design interview</a></li>
<li><a href="https://code.facebook.com/posts/1468950976659943/" target="_blank" rel="noopener noreferrer">Thrift</a></li>
<li><a href="http://arstechnica.com/civis/viewtopic.php?t=1190508" target="_blank" rel="noopener noreferrer">Почему REST для внутреннего использования, а не RPC</a></li></p><p></ul><h2>Безопасность</h2></p><p>Этот раздел нуждается в обновлении. Подумайте о <a href="#contributing" target="_blank" rel="noopener noreferrer">вкладе</a>!</p><p>
Безопасность — это обширная тема. Если у вас нет значительного опыта, образования в области безопасности или вы не претендуете на должность, требующую знаний в области безопасности, вам, вероятно, не потребуется знать больше, чем основы:</p><ul><li>Шифруйте данные при передаче и в состоянии покоя.</li>
<li>Очищайте все пользовательские вводы или любые параметры, доступные пользователю, чтобы предотвратить <a href="https://en.wikipedia.org/wiki/Cross-site_scripting" target="_blank" rel="noopener noreferrer">XSS</a> и <a href="https://en.wikipedia.org/wiki/SQL_injection" target="_blank" rel="noopener noreferrer">SQL-инъекции</a>.</li>
<li>Используйте параметризованные запросы для предотвращения SQL-инъекций.</li>
<li>Применяйте принцип <a href="https://en.wikipedia.org/wiki/Principle_of_least_privilege" target="_blank" rel="noopener noreferrer">минимальных привилегий</a>.</li></p><p></ul><h3>Источники и дополнительная литература</h3></p><ul><li><a href="https://github.com/shieldfy/API-Security-Checklist" target="_blank" rel="noopener noreferrer">Контрольный список безопасности API</a></li>
<li><a href="https://github.com/FallibleInc/security-guide-for-developers" target="_blank" rel="noopener noreferrer">Руководство по безопасности для разработчиков</a></li>
<li><a href="https://www.owasp.org/index.php/OWASP_Top_Ten_Cheat_Sheet" target="_blank" rel="noopener noreferrer">OWASP топ-10</a></li></p><p></ul><h2>Приложение</h2></p><p>Иногда вас попросят сделать приблизительные оценки «на коленке». Например, вам может понадобиться определить, сколько времени потребуется для генерации 100 миниатюр изображений с диска или сколько памяти займет определённая структура данных. Таблицы <strong>Степени двойки</strong> и <strong>Задержки, которые должен знать каждый программист</strong> — полезные справочные материалы.</p><h3>Таблица степеней двойки</h3></p><pre><code class="language-">Power           Exact Value         Approx Value        Bytes
---------------------------------------------------------------
7                             128
8                             256
10                           1024   1 thousand           1 KB
16                         65,536                       64 KB
20                      1,048,576   1 million            1 MB
30                  1,073,741,824   1 billion            1 GB
32                  4,294,967,296                        4 GB
40              1,099,511,627,776   1 trillion           1 TB</code></pre></p><p>#### Источники и дополнительная литература</p><ul><li><a href="https://ru.wikipedia.org/wiki/Степень_двойки" target="_blank" rel="noopener noreferrer">Степени двойки</a></li></p><p></ul><h3>Числа задержек, которые должен знать каждый программист</h3></p><pre><code class="language-">Latency Comparison Numbers
--------------------------
L1 cache reference                           0.5 ns
Branch mispredict                            5   ns
L2 cache reference                           7   ns                      14x L1 cache
Mutex lock/unlock                           25   ns
Main memory reference                      100   ns                      20x L2 cache, 200x L1 cache
Compress 1K bytes with Zippy            10,000   ns       10 us
Send 1 KB bytes over 1 Gbps network     10,000   ns       10 us
Read 4 KB randomly from SSD*           150,000   ns      150 us          ~1GB/sec SSD
Read 1 MB sequentially from memory     250,000   ns      250 us
Round trip within same datacenter      500,000   ns      500 us
Read 1 MB sequentially from SSD*     1,000,000   ns    1,000 us    1 ms  ~1GB/sec SSD, 4X memory
HDD seek                            10,000,000   ns   10,000 us   10 ms  20x datacenter roundtrip
Read 1 MB sequentially from 1 Gbps  10,000,000   ns   10,000 us   10 ms  40x memory, 10X SSD
Read 1 MB sequentially from HDD     30,000,000   ns   30,000 us   30 ms 120x memory, 30X SSD
Send packet CA->Netherlands->CA    150,000,000   ns  150,000 us  150 ms</p><p>Notes
-----
1 ns = 10^-9 seconds
1 us = 10^-6 seconds = 1,000 ns
1 ms = 10^-3 seconds = 1,000 us = 1,000,000 ns</code></pre>
Удобные метрики на основе приведённых выше чисел:</p><ul><li>Последовательное чтение с HDD на скорости 30 МБ/с</li>
<li>Последовательное чтение по 1 Гбит/с Ethernet на скорости 100 МБ/с</li>
<li>Последовательное чтение с SSD на скорости 1 ГБ/с</li>
<li>Последовательное чтение из оперативной памяти на скорости 4 ГБ/с</li>
<li>6-7 круговых путешествий по всему миру в секунду</li>
<li>2 000 круговых путешествий в секунду внутри дата-центра</li></p><p></ul>#### Визуализация чисел задержки</p><p><img src="https://camo.githubusercontent.com/77f72259e1eb58596b564d1ad823af1853bc60a3/687474703a2f2f692e696d6775722e636f6d2f6b307431652e706e67" alt=""></p><p>#### Источники и дополнительное чтение</p><ul><li><a href="https://gist.github.com/jboner/2841832" target="_blank" rel="noopener noreferrer">Latency numbers every programmer should know - 1</a></li>
<li><a href="https://gist.github.com/hellerbarde/2843375" target="_blank" rel="noopener noreferrer">Latency numbers every programmer should know - 2</a></li>
<li><a href="http://www.cs.cornell.edu/projects/ladis2009/talks/dean-keynote-ladis2009.pdf" target="_blank" rel="noopener noreferrer">Designs, lessons, and advice from building large distributed systems</a></li>
<li><a href="https://static.googleusercontent.com/media/research.google.com/en//people/jeff/stanford-295-talk.pdf" target="_blank" rel="noopener noreferrer">Software Engineering Advice from Building Large-Scale Distributed Systems</a></li></p><p></ul><h3>Дополнительные вопросы для собеседования по системному дизайну</h3></p><blockquote>Популярные вопросы на собеседовании по системному дизайну с ссылками на ресурсы по их решению.</blockquote></p><p>| Вопрос | Ссылка(и) |
|---|---|
| Спроектировать сервис синхронизации файлов как Dropbox | <a href="https://www.youtube.com/watch?v=PE4gwstWhmc" target="_blank" rel="noopener noreferrer">youtube.com</a> |
| Спроектировать поисковую систему как Google | <a href="http://queue.acm.org/detail.cfm?id=988407" target="_blank" rel="noopener noreferrer">queue.acm.org</a><br/><a href="http://programmers.stackexchange.com/questions/38324/interview-question-how-would-you-implement-google-search" target="_blank" rel="noopener noreferrer">stackexchange.com</a><br/><a href="http://www.ardendertat.com/2012/01/11/implementing-search-engines/" target="_blank" rel="noopener noreferrer">ardendertat.com</a><br/><a href="http://infolab.stanford.edu/~backrub/google.html" target="_blank" rel="noopener noreferrer">stanford.edu</a> |
| Спроектировать масштабируемого веб-краулера как Google | <a href="https://www.quora.com/How-can-I-build-a-web-crawler-from-scratch" target="_blank" rel="noopener noreferrer">quora.com</a> |
| Спроектировать Google Docs | <a href="https://code.google.com/p/google-mobwrite/" target="_blank" rel="noopener noreferrer">code.google.com</a><br/><a href="https://neil.fraser.name/writing/sync/" target="_blank" rel="noopener noreferrer">neil.fraser.name</a> |
| Спроектировать key-value хранилище как Redis | <a href="http://www.slideshare.net/dvirsky/introduction-to-redis" target="_blank" rel="noopener noreferrer">slideshare.net</a> |
| Спроектировать систему кеширования как Memcached | <a href="http://www.slideshare.net/oemebamo/introduction-to-memcached" target="_blank" rel="noopener noreferrer">slideshare.net</a> |
| Спроектировать рекомендательную систему как у Amazon | <a href="https://web.archive.org/web/20170406065247/http://tech.hulu.com/blog/2011/09/19/recommendation-system.html" target="_blank" rel="noopener noreferrer">hulu.com</a><br/><a href="http://ijcai13.org/files/tutorial_slides/td3.pdf" target="_blank" rel="noopener noreferrer">ijcai13.org</a> |
| Спроектировать систему tinyurl как Bitly | <a href="http://n00tc0d3r.blogspot.com/" target="_blank" rel="noopener noreferrer">n00tc0d3r.blogspot.com</a> |
| Спроектировать чат-приложение как WhatsApp | <a href="http://highscalability.com/blog/2014/2/26/the-whatsapp-architecture-facebook-bought-for-19-billion.html" target="_blank" rel="noopener noreferrer">highscalability.com</a>
| Спроектировать систему обмена фотографиями как Instagram | <a href="http://highscalability.com/flickr-architecture" target="_blank" rel="noopener noreferrer">highscalability.com</a><br/><a href="http://highscalability.com/blog/2011/12/6/instagram-architecture-14-million-users-terabytes-of-photos.html" target="_blank" rel="noopener noreferrer">highscalability.com</a> |
| Спроектировать функцию новостной ленты Facebook | <a href="http://www.quora.com/What-are-best-practices-for-building-something-like-a-News-Feed" target="_blank" rel="noopener noreferrer">quora.com</a><br/><a href="http://www.quora.com/Activity-Streams/What-are-the-scaling-issues-to-keep-in-mind-while-developing-a-social-network-feed" target="_blank" rel="noopener noreferrer">quora.com</a><br/><a href="http://www.slideshare.net/danmckinley/etsy-activity-feeds-architecture" target="_blank" rel="noopener noreferrer">slideshare.net</a> |
| Спроектировать функцию хроники Facebook | <a href="https://www.facebook.com/note.php?note_id=10150468255628920" target="_blank" rel="noopener noreferrer">facebook.com</a><br/><a href="http://highscalability.com/blog/2012/1/23/facebook-timeline-brought-to-you-by-the-power-of-denormaliza.html" target="_blank" rel="noopener noreferrer">highscalability.com</a> |
| Спроектировать функцию чата Facebook | <a href="http://www.erlang-factory.com/upload/presentations/31/EugeneLetuchy-ErlangatFacebook.pdf" target="_blank" rel="noopener noreferrer">erlang-factory.com</a><br/><a href="https://www.facebook.com/note.php?note_id=14218138919&id=9445547199&index=0" target="_blank" rel="noopener noreferrer">facebook.com</a> |</p><p>| Разработайте функцию поиска по графу, как у Facebook | <a href="https://www.facebook.com/notes/facebook-engineering/under-the-hood-building-out-the-infrastructure-for-graph-search/10151347573598920" target="_blank" rel="noopener noreferrer">facebook.com</a><br/><a href="https://www.facebook.com/notes/facebook-engineering/under-the-hood-indexing-and-ranking-in-graph-search/10151361720763920" target="_blank" rel="noopener noreferrer">facebook.com</a><br/><a href="https://www.facebook.com/notes/facebook-engineering/under-the-hood-the-natural-language-interface-of-graph-search/10151432733048920" target="_blank" rel="noopener noreferrer">facebook.com</a> |
| Разработайте сеть доставки контента, как CloudFlare | <a href="https://figshare.com/articles/Globally_distributed_content_delivery/6605972" target="_blank" rel="noopener noreferrer">figshare.com</a> |
| Разработайте систему трендовых тем, как у Twitter | <a href="http://www.michael-noll.com/blog/2013/01/18/implementing-real-time-trending-topics-in-storm/" target="_blank" rel="noopener noreferrer">michael-noll.com</a><br/><a href="http://snikolov.wordpress.com/2012/11/14/early-detection-of-twitter-trends/" target="_blank" rel="noopener noreferrer">snikolov.wordpress.com</a> |
| Разработайте систему генерации случайных идентификаторов | <a href="https://blog.twitter.com/2010/announcing-snowflake" target="_blank" rel="noopener noreferrer">blog.twitter.com</a><br/><a href="https://github.com/twitter/snowflake/" target="_blank" rel="noopener noreferrer">github.com</a> |
| Возвращайте топ k запросов за интервал времени | <a href="https://www.cs.ucsb.edu/sites/default/files/documents/2005-23.pdf" target="_blank" rel="noopener noreferrer">cs.ucsb.edu</a><br/><a href="http://davis.wpi.edu/xmdv/docs/EDBT11-diyang.pdf" target="_blank" rel="noopener noreferrer">wpi.edu</a> |
| Разработайте систему, обслуживающую данные из нескольких дата-центров | <a href="http://highscalability.com/blog/2009/8/24/how-google-serves-data-from-multiple-datacenters.html" target="_blank" rel="noopener noreferrer">highscalability.com</a> |
| Разработайте онлайн-многопользовательскую карточную игру | <a href="https://web.archive.org/web/20180929181117/http://www.indieflashblog.com/how-to-create-an-asynchronous-multiplayer-game.html" target="_blank" rel="noopener noreferrer">indieflashblog.com</a><br/><a href="http://buildnewgames.com/real-time-multiplayer/" target="_blank" rel="noopener noreferrer">buildnewgames.com</a> |
| Разработайте систему сборки мусора | <a href="http://journal.stuffwithstuff.com/2013/12/08/babys-first-garbage-collector/" target="_blank" rel="noopener noreferrer">stuffwithstuff.com</a><br/><a href="http://courses.cs.washington.edu/courses/csep521/07wi/prj/rick.pdf" target="_blank" rel="noopener noreferrer">washington.edu</a> |
| Разработайте ограничитель частоты запросов API | <a href="https://stripe.com/blog/rate-limiters" target="_blank" rel="noopener noreferrer">https://stripe.com/blog/</a> |
| Разработайте фондовую биржу (например, NASDAQ или Binance) | <a href="https://youtu.be/b1e4t2k2KJY" target="_blank" rel="noopener noreferrer">Jane Street</a><br/><a href="https://around25.com/blog/building-a-trading-engine-for-a-crypto-exchange/" target="_blank" rel="noopener noreferrer">Golang Implementation</a><br/><a href="http://bhomnick.net/building-a-simple-limit-order-in-go/" target="_blank" rel="noopener noreferrer">Go Implementation</a> |
| Добавьте вопрос по проектированию системы | <a href="#contributing" target="_blank" rel="noopener noreferrer">Contribute</a> |</p><h3>Архитектуры из реального мира</h3></p><blockquote>Статьи о том, как устроены реальные системы.</blockquote></p><p><p align="center">
  <img src="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/images/TcUo2fw.png">
  <br/>
  <i><a href=https://www.infoq.com/presentations/Twitter-Timeline-Scalability>Источник: Масштабируемость таймлайнов Twitter</a></i>
</p></p><p><strong>Не зацикливайтесь на мельчайших деталях из следующих статей, вместо этого:</strong></p><ul><li>Выделяйте общие принципы, технологии и паттерны, встречающиеся в этих статьях</li>
<li>Изучайте, какие задачи решает каждый компонент, где он работает, а где нет</li>
<li>Анализируйте полученные уроки</li></p><p></ul>|Тип | Система | Ссылка(и) |
|---|---|---|
| Обработка данных | <strong>MapReduce</strong> — распределённая обработка данных от Google | <a href="http://static.googleusercontent.com/media/research.google.com/zh-CN/us/archive/mapreduce-osdi04.pdf" target="_blank" rel="noopener noreferrer">research.google.com</a> |
| Обработка данных | <strong>Spark</strong> — распределённая обработка данных от Databricks | <a href="http://www.slideshare.net/AGrishchenko/apache-spark-architecture" target="_blank" rel="noopener noreferrer">slideshare.net</a> |
| Обработка данных | <strong>Storm</strong> — распределённая обработка данных от Twitter | <a href="http://www.slideshare.net/previa/storm-16094009" target="_blank" rel="noopener noreferrer">slideshare.net</a> |
| | | |
| Хранилище данных | <strong>Bigtable</strong> — распределённая колонко-ориентированная БД от Google | <a href="http://www.read.seas.harvard.edu/~kohler/class/cs239-w08/chang06bigtable.pdf" target="_blank" rel="noopener noreferrer">harvard.edu</a> |
| Хранилище данных | <strong>HBase</strong> — open source реализация Bigtable | <a href="http://www.slideshare.net/alexbaranau/intro-to-hbase" target="_blank" rel="noopener noreferrer">slideshare.net</a> |
| Хранилище данных | <strong>Cassandra</strong> — распределённая колонко-ориентированная БД от Facebook | <a href="http://www.slideshare.net/planetcassandra/cassandra-introduction-features-30103666" target="_blank" rel="noopener noreferrer">slideshare.net</a>
| Хранилище данных | <strong>DynamoDB</strong> — документ-ориентированная БД от Amazon | <a href="http://www.read.seas.harvard.edu/~kohler/class/cs239-w08/decandia07dynamo.pdf" target="_blank" rel="noopener noreferrer">harvard.edu</a> |
| Хранилище данных | <strong>MongoDB</strong> — документ-ориентированная база данных | <a href="http://www.slideshare.net/mdirolf/introduction-to-mongodb" target="_blank" rel="noopener noreferrer">slideshare.net</a> |
| Хранилище данных | <strong>Spanner</strong> — глобально-распределённая БД от Google | <a href="http://research.google.com/archive/spanner-osdi2012.pdf" target="_blank" rel="noopener noreferrer">research.google.com</a> |
| Хранилище данных | <strong>Memcached</strong> - Распределенная система кеширования в памяти | <a href="http://www.slideshare.net/oemebamo/introduction-to-memcached" target="_blank" rel="noopener noreferrer">slideshare.net</a> |
| Хранилище данных | <strong>Redis</strong> - Распределенная система кеширования в памяти с поддержкой персистентности и различных типов значений | <a href="http://www.slideshare.net/dvirsky/introduction-to-redis" target="_blank" rel="noopener noreferrer">slideshare.net</a> |
| | | |
| Файловая система | <strong>Google File System (GFS)</strong> - Распределенная файловая система | <a href="http://static.googleusercontent.com/media/research.google.com/zh-CN/us/archive/gfs-sosp2003.pdf" target="_blank" rel="noopener noreferrer">research.google.com</a> |
| Файловая система | <strong>Hadoop File System (HDFS)</strong> - Открытая реализация GFS | <a href="http://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/HdfsDesign.html" target="_blank" rel="noopener noreferrer">apache.org</a> |
| | | |
| Прочее | <strong>Chubby</strong> - Сервис блокировок для слабо связанных распределенных систем от Google | <a href="http://static.googleusercontent.com/external_content/untrusted_dlcp/research.google.com/en/us/archive/chubby-osdi06.pdf" target="_blank" rel="noopener noreferrer">research.google.com</a> |
| Прочее | <strong>Dapper</strong> - Инфраструктура трассировки распределенных систем | <a href="http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/36356.pdf" target="_blank" rel="noopener noreferrer">research.google.com</a>
| Прочее | <strong>Kafka</strong> - Очередь сообщений pub/sub от LinkedIn | <a href="http://www.slideshare.net/mumrah/kafka-talk-tri-hug" target="_blank" rel="noopener noreferrer">slideshare.net</a> |
| Прочее | <strong>Zookeeper</strong> - Централизованная инфраструктура и сервисы для синхронизации | <a href="http://www.slideshare.net/sauravhaloi/introduction-to-apache-zookeeper" target="_blank" rel="noopener noreferrer">slideshare.net</a> |
| | Добавить архитектуру | <a href="#contributing" target="_blank" rel="noopener noreferrer">Внести вклад</a> |</p><h3>Архитектуры компаний</h3></p><p>| Компания | Ссылка(и) |
|---|---|
| Amazon | <a href="http://highscalability.com/amazon-architecture" target="_blank" rel="noopener noreferrer">Архитектура Amazon</a> |
| Cinchcast | <a href="http://highscalability.com/blog/2012/7/16/cinchcast-architecture-producing-1500-hours-of-audio-every-d.html" target="_blank" rel="noopener noreferrer">Производство 1500 часов аудио в день</a> |
| DataSift | <a href="http://highscalability.com/blog/2011/11/29/datasift-architecture-realtime-datamining-at-120000-tweets-p.html" target="_blank" rel="noopener noreferrer">Анализ данных в реальном времени на 120 000 твитов в секунду</a> |
| Dropbox | <a href="https://www.youtube.com/watch?v=PE4gwstWhmc" target="_blank" rel="noopener noreferrer">Как мы масштабировали Dropbox</a> |
| ESPN | <a href="http://highscalability.com/blog/2013/11/4/espns-architecture-at-scale-operating-at-100000-duh-nuh-nuhs.html" target="_blank" rel="noopener noreferrer">Работа на 100 000 duh nuh nuhs в секунду</a> |
| Google | <a href="http://highscalability.com/google-architecture" target="_blank" rel="noopener noreferrer">Архитектура Google</a> |
| Instagram | <a href="http://highscalability.com/blog/2011/12/6/instagram-architecture-14-million-users-terabytes-of-photos.html" target="_blank" rel="noopener noreferrer">14 миллионов пользователей, терабайты фото</a><br/><a href="http://instagram-engineering.tumblr.com/post/13649370142/what-powers-instagram-hundreds-of-instances" target="_blank" rel="noopener noreferrer">Что обеспечивает работу Instagram</a> |
| Justin.tv | <a href="http://highscalability.com/blog/2010/3/16/justintvs-live-video-broadcasting-architecture.html" target="_blank" rel="noopener noreferrer">Архитектура потокового видео Justin.tv</a> |
| Facebook | <a href="https://cs.uwaterloo.ca/~brecht/courses/854-Emerging-2014/readings/key-value/fb-memcached-nsdi-2013.pdf" target="_blank" rel="noopener noreferrer">Масштабирование memcached в Facebook</a><br/><a href="https://cs.uwaterloo.ca/~brecht/courses/854-Emerging-2014/readings/data-store/tao-facebook-distributed-datastore-atc-2013.pdf" target="_blank" rel="noopener noreferrer">TAO: распределенное хранилище данных для социальной графа Facebook</a><br/><a href="https://www.usenix.org/legacy/event/osdi10/tech/full_papers/Beaver.pdf" target="_blank" rel="noopener noreferrer">Хранение фотографий в Facebook</a><br/><a href="http://highscalability.com/blog/2016/6/27/how-facebook-live-streams-to-800000-simultaneous-viewers.html" target="_blank" rel="noopener noreferrer">Как Facebook транслирует Live для 800 000 одновременных зрителей</a> |
| Flickr | <a href="http://highscalability.com/flickr-architecture" target="_blank" rel="noopener noreferrer">Архитектура Flickr</a> |
| Mailbox | <a href="http://highscalability.com/blog/2013/6/18/scaling-mailbox-from-0-to-one-million-users-in-6-weeks-and-1.html" target="_blank" rel="noopener noreferrer">С 0 до миллиона пользователей за 6 недель</a> |
| Netflix | <a href="http://highscalability.com/blog/2015/11/9/a-360-degree-view-of-the-entire-netflix-stack.html" target="_blank" rel="noopener noreferrer">360-градусный взгляд на стек Netflix</a><br/><a href="http://highscalability.com/blog/2017/12/11/netflix-what-happens-when-you-press-play.html" target="_blank" rel="noopener noreferrer">Netflix: что происходит, когда вы нажимаете Play?</a> |
| Pinterest | <a href="http://highscalability.com/blog/2013/4/15/scaling-pinterest-from-0-to-10s-of-billions-of-page-views-a.html" target="_blank" rel="noopener noreferrer">С 0 до десятков миллиардов просмотров страниц в месяц</a><br/><a href="http://highscalability.com/blog/2012/5/21/pinterest-architecture-update-18-million-visitors-10x-growth.html" target="_blank" rel="noopener noreferrer">18 миллионов посетителей, рост в 10 раз, 12 сотрудников</a> |
| Playfish | <a href="http://highscalability.com/blog/2010/9/21/playfishs-social-gaming-architecture-50-million-monthly-user.html" target="_blank" rel="noopener noreferrer">50 миллионов пользователей в месяц и рост</a> |
| PlentyOfFish | <a href="http://highscalability.com/plentyoffish-architecture" target="_blank" rel="noopener noreferrer">Архитектура PlentyOfFish</a> |
| Salesforce | <a href="http://highscalability.com/blog/2013/9/23/salesforce-architecture-how-they-handle-13-billion-transacti.html" target="_blank" rel="noopener noreferrer">Как они обрабатывают 1,3 миллиарда транзакций в день</a> |
| Stack Overflow | <a href="http://highscalability.com/blog/2009/8/5/stack-overflow-architecture.html" target="_blank" rel="noopener noreferrer">Архитектура Stack Overflow</a> |
| TripAdvisor | <a href="http://highscalability.com/blog/2011/6/27/tripadvisor-architecture-40m-visitors-200m-dynamic-page-view.html" target="_blank" rel="noopener noreferrer">40 млн посетителей, 200 млн динамических просмотров, 30 ТБ данных</a> |
| Tumblr | <a href="http://highscalability.com/blog/2012/2/13/tumblr-architecture-15-billion-page-views-a-month-and-harder.html" target="_blank" rel="noopener noreferrer">15 миллиардов просмотров страниц в месяц</a> |
| Twitter | <a href="http://highscalability.com/scaling-twitter-making-twitter-10000-percent-faster" target="_blank" rel="noopener noreferrer">Ускорение Twitter на 10000 процентов</a><br/><a href="http://highscalability.com/blog/2011/12/19/how-twitter-stores-250-million-tweets-a-day-using-mysql.html" target="_blank" rel="noopener noreferrer">Хранение 250 миллионов твитов в день на MySQL</a><br/><a href="http://highscalability.com/blog/2013/7/8/the-architecture-twitter-uses-to-deal-with-150m-active-users.html" target="_blank" rel="noopener noreferrer">150 млн активных пользователей, 300K QPS, поток 22 МБ/с</a><br/><a href="https://www.infoq.com/presentations/Twitter-Timeline-Scalability" target="_blank" rel="noopener noreferrer">Таймлайны в масштабе</a><br/><a href="https://www.youtube.com/watch?v=5cKTP36HVgI" target="_blank" rel="noopener noreferrer">Большие и малые данные в Twitter</a><br/><a href="https://www.youtube.com/watch?v=z8LU0Cj6BOU" target="_blank" rel="noopener noreferrer">Операции в Twitter: масштабирование за 100 миллионов пользователей</a><br/><a href="http://highscalability.com/blog/2016/4/20/how-twitter-handles-3000-images-per-second.html" target="_blank" rel="noopener noreferrer">Как Twitter обрабатывает 3 000 изображений в секунду</a> |
| Uber | <a href="http://highscalability.com/blog/2015/9/14/how-uber-scales-their-real-time-market-platform.html" target="_blank" rel="noopener noreferrer">Как Uber масштабирует свою платформу реального времени</a><br/><a href="http://highscalability.com/blog/2016/10/12/lessons-learned-from-scaling-uber-to-2000-engineers-1000-ser.html" target="_blank" rel="noopener noreferrer">Уроки масштабирования Uber до 2000 инженеров, 1000 сервисов и 8000 репозиториев</a> |
| WhatsApp | <a href="http://highscalability.com/blog/2014/2/26/the-whatsapp-architecture-facebook-bought-for-19-billion.html" target="_blank" rel="noopener noreferrer">Архитектура WhatsApp, купленная Facebook за $19 миллиардов</a> |
| YouTube | <a href="https://www.youtube.com/watch?v=w5WVu624fY8" target="_blank" rel="noopener noreferrer">Масштабируемость YouTube</a><br/><a href="http://highscalability.com/youtube-architecture" target="_blank" rel="noopener noreferrer">Архитектура YouTube</a> |</p><h3>Инженерные блоги компаний</h3></p><blockquote>Архитектуры компаний, в которых вы проходите собеседование.</blockquote>
>
<blockquote>Вопросы, с которыми вы сталкиваетесь, могут быть из той же области.</blockquote></p><ul><li><a href="http://nerds.airbnb.com/" target="_blank" rel="noopener noreferrer">Airbnb Engineering</a></li>
<li><a href="https://developer.atlassian.com/blog/" target="_blank" rel="noopener noreferrer">Atlassian Developers</a></li>
<li><a href="https://aws.amazon.com/blogs/aws/" target="_blank" rel="noopener noreferrer">AWS Blog</a></li>
<li><a href="http://word.bitly.com/" target="_blank" rel="noopener noreferrer">Bitly Engineering Blog</a></li>
<li><a href="https://blog.box.com/blog/category/engineering" target="_blank" rel="noopener noreferrer">Box Blogs</a></li>
<li><a href="http://blog.cloudera.com/" target="_blank" rel="noopener noreferrer">Cloudera Developer Blog</a></li>
<li><a href="https://tech.dropbox.com/" target="_blank" rel="noopener noreferrer">Dropbox Tech Blog</a></li>
<li><a href="https://www.quora.com/q/quoraengineering" target="_blank" rel="noopener noreferrer">Engineering at Quora</a></li>
<li><a href="http://www.ebaytechblog.com/" target="_blank" rel="noopener noreferrer">Ebay Tech Blog</a></li>
<li><a href="https://blog.evernote.com/tech/" target="_blank" rel="noopener noreferrer">Evernote Tech Blog</a></li>
<li><a href="http://codeascraft.com/" target="_blank" rel="noopener noreferrer">Etsy Code as Craft</a></li>
<li><a href="https://www.facebook.com/Engineering" target="_blank" rel="noopener noreferrer">Facebook Engineering</a></li>
<li><a href="http://code.flickr.net/" target="_blank" rel="noopener noreferrer">Flickr Code</a></li>
<li><a href="http://engineering.foursquare.com/" target="_blank" rel="noopener noreferrer">Foursquare Engineering Blog</a></li>
<li><a href="https://github.blog/category/engineering" target="_blank" rel="noopener noreferrer">GitHub Engineering Blog</a></li>
<li><a href="http://googleresearch.blogspot.com/" target="_blank" rel="noopener noreferrer">Google Research Blog</a></li>
<li><a href="https://engineering.groupon.com/" target="_blank" rel="noopener noreferrer">Groupon Engineering Blog</a></li>
<li><a href="https://engineering.heroku.com/" target="_blank" rel="noopener noreferrer">Heroku Engineering Blog</a></li>
<li><a href="http://product.hubspot.com/blog/topic/engineering" target="_blank" rel="noopener noreferrer">Hubspot Engineering Blog</a></li>
<li><a href="http://highscalability.com/" target="_blank" rel="noopener noreferrer">High Scalability</a></li>
<li><a href="http://instagram-engineering.tumblr.com/" target="_blank" rel="noopener noreferrer">Instagram Engineering</a></li>
<li><a href="https://software.intel.com/en-us/blogs/" target="_blank" rel="noopener noreferrer">Intel Software Blog</a></li>
<li><a href="https://blogs.janestreet.com/category/ocaml/" target="_blank" rel="noopener noreferrer">Jane Street Tech Blog</a></li>
<li><a href="http://engineering.linkedin.com/blog" target="_blank" rel="noopener noreferrer">LinkedIn Engineering</a></li>
<li><a href="https://engineering.microsoft.com/" target="_blank" rel="noopener noreferrer">Microsoft Engineering</a></li>
<li><a href="https://blogs.msdn.microsoft.com/pythonengineering/" target="_blank" rel="noopener noreferrer">Microsoft Python Engineering</a></li>
<li><a href="http://techblog.netflix.com/" target="_blank" rel="noopener noreferrer">Netflix Tech Blog</a></li>
<li><a href="https://medium.com/paypal-engineering" target="_blank" rel="noopener noreferrer">Paypal Developer Blog</a></li>
<li><a href="https://medium.com/@Pinterest_Engineering" target="_blank" rel="noopener noreferrer">Pinterest Engineering Blog</a></li>
<li><a href="http://www.redditblog.com/" target="_blank" rel="noopener noreferrer">Reddit Blog</a></li>
<li><a href="https://developer.salesforce.com/blogs/engineering/" target="_blank" rel="noopener noreferrer">Salesforce Engineering Blog</a></li>
<li><a href="https://slack.engineering/" target="_blank" rel="noopener noreferrer">Slack Engineering Blog</a></li>
<li><a href="https://labs.spotify.com/" target="_blank" rel="noopener noreferrer">Spotify Labs</a></li>
<li><a href="https://stripe.com/blog/engineering" target="_blank" rel="noopener noreferrer">Stripe Engineering Blog</a></li>
<li><a href="http://www.twilio.com/engineering" target="_blank" rel="noopener noreferrer">Twilio Engineering Blog</a></li>
<li><a href="https://blog.twitter.com/engineering/" target="_blank" rel="noopener noreferrer">Twitter Engineering</a></li>
<li><a href="http://eng.uber.com/" target="_blank" rel="noopener noreferrer">Uber Engineering Blog</a></li>
<li><a href="http://yahooeng.tumblr.com/" target="_blank" rel="noopener noreferrer">Yahoo Engineering Blog</a></li>
<li><a href="http://engineeringblog.yelp.com/" target="_blank" rel="noopener noreferrer">Yelp Engineering Blog</a></li>
<li><a href="https://www.zynga.com/blogs/engineering" target="_blank" rel="noopener noreferrer">Zynga Engineering Blog</a></li></p><p></ul>#### Источник(и) и дополнительная литература</p><p>Хотите добавить блог? Чтобы избежать дублирования работы, рассмотрите возможность добавления блога вашей компании в следующий репозиторий:</p><ul><li><a href="https://github.com/kilimchoi/engineering-blogs" target="_blank" rel="noopener noreferrer">kilimchoi/engineering-blogs</a></li></p><p></ul><h2>В разработке</h2></p><p>Хотите добавить раздел или помочь завершить текущий? <a href="#contributing" target="_blank" rel="noopener noreferrer">Внесите вклад</a>!</p><ul><li>Распределённые вычисления с MapReduce</li>
<li>Консистентное хеширование</li>
<li>Scatter gather</li>
<li><a href="#contributing" target="_blank" rel="noopener noreferrer">Внесите вклад</a></li></p><p></ul><h2>Благодарности</h2></p><p>Благодарности и источники указаны по всему этому репозиторию.</p><p>Особая благодарность:</p><ul><li><a href="http://www.hiredintech.com/system-design/the-system-design-process/" target="_blank" rel="noopener noreferrer">Hired in tech</a></li>
<li><a href="https://www.amazon.com/dp/0984782850/" target="_blank" rel="noopener noreferrer">Cracking the coding interview</a></li>
<li><a href="http://highscalability.com/" target="_blank" rel="noopener noreferrer">High scalability</a></li>
<li><a href="https://github.com/checkcheckzz/system-design-interview" target="_blank" rel="noopener noreferrer">checkcheckzz/system-design-interview</a></li>
<li><a href="https://github.com/shashank88/system_design" target="_blank" rel="noopener noreferrer">shashank88/system_design</a></li>
<li><a href="https://github.com/mmcgrana/services-engineering" target="_blank" rel="noopener noreferrer">mmcgrana/services-engineering</a></li>
<li><a href="https://gist.github.com/vasanthk/485d1c25737e8e72759f" target="_blank" rel="noopener noreferrer">System design cheat sheet</a></li>
<li><a href="http://dancres.github.io/Pages/" target="_blank" rel="noopener noreferrer">A distributed systems reading list</a></li>
<li><a href="http://www.puncsky.com/blog/2016-02-13-crack-the-system-design-interview" target="_blank" rel="noopener noreferrer">Cracking the system design interview</a></li></p><p></ul><h2>Контактная информация</h2></p><p>Не стесняйтесь обращаться ко мне для обсуждения любых проблем, вопросов или комментариев.</p><p>Мои контактные данные можно найти на моей <a href="https://github.com/donnemartin" target="_blank" rel="noopener noreferrer">странице GitHub</a>.</p><h2>Лицензия</h2></p><p><em>Я предоставляю код и ресурсы в этом репозитории вам по открытой лицензии. Поскольку это мой личный репозиторий, лицензию на мой код и ресурсы вы получаете от меня, а не от моего работодателя (Facebook).</em></p><p>    Copyright 2017 Donne Martin</p><p>    Creative Commons Attribution 4.0 International License (CC BY 4.0)</p><p>    http://creativecommons.org/licenses/by/4.0/</p><p>
---

Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">Open Ai Tx</a> | Last indexed: 2025-08-09

---</p>
        </div>
        
        <div class="original-link">
            <strong>Original README:</strong> <a href="https://raw.githubusercontent.com/donnemartin/system-design-primer/master/README.md" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
    </div>
    
    <div class="footer">
        <p>Translated by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">OpenAiTx</a> | 
        Last updated: 2025-08-09 
    </div>
    
</body>
</html>