<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>future-queue - Read future-queue documentation in Persian. This project has 0 stars on GitHub.</title>
    <meta name="description" content="Read future-queue documentation in Persian. This project has 0 stars on GitHub.">
    <meta name="keywords" content="future-queue, Persian, documentation, GitHub, open source">
    <meta name="author" content="OpenAiTx">
    <meta name="robots" content="index, follow">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "future-queue",
  "description": "Read future-queue documentation in Persian. This project has 0 stars on GitHub.",
  "author": {
    "@type": "Person",
    "name": "nextest-rs"
  },
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "ratingCount": 0
  },
  "url": "https://OpenAiTx.github.io/projects/nextest-rs/future-queue/README-fa.html",
  "sameAs": "https://raw.githubusercontent.com/nextest-rs/future-queue/master/README.md",
  "datePublished": "2025-07-24",
  "dateModified": "2025-07-24"
}
    </script>
    
    <!-- GitHub-style CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #24292e;
            background-color: #ffffff;
            max-width: 980px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .container {
            background: #ffffff;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .header {
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        
        .project-title {
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .project-title a {
            color: #24292e;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color 0.2s ease;
        }
        
        .project-title a:hover {
            color: #0366d6;
            text-decoration: none;
        }
        
        .project-title .github-icon {
            width: 1em;
            height: 1em;
            fill: currentColor;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .project-title a:hover .github-icon {
            opacity: 1;
        }
        
        .project-meta {
            color: #586069;
            font-size: 14px;
            margin-bottom: 16px;
        }
        
        .stars {
            display: inline-block;
            margin-right: 16px;
        }
        
        .language {
            display: inline-block;
            background-color: #f1f8ff;
            color: #0366d6;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .content {
            font-size: 16px;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            color: #24292e;
        }
        
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        
        p {
            margin-bottom: 16px;
        }
        
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        
        a {
            color: #0366d6;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        ul, ol {
            margin-bottom: 16px;
            padding-left: 2em;
        }
        
        li {
            margin-bottom: 0.25em;
        }
        
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 1em;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e1e4e8;
            color: #586069;
            font-size: 14px;
            text-align: center;
        }
        
        .footer a {
            color: #0366d6;
        }
        
        .original-link {
            margin-top: 16px;
            padding: 12px;
            background-color: #f6f8fa;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 16px;
            }
            
            .project-title {
                font-size: 1.5em;
            }
        }
    </style>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Bing Count -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sh95yd6uwt");
    </script>        

    <!-- Statcounter -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="project-title">
                <a href="https://github.com/nextest-rs/future-queue" target="_blank" rel="noopener noreferrer">
                    <svg class="github-icon" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                    </svg>
                    future-queue
                </a>
            </h1>
            <div class="project-meta">
                <span class="stars">⭐ 0 stars</span>
                <span class="language">Persian</span>
                <span>by nextest-rs</span>
            </div>
        </div>
        
        <div class="content">
            <h1>future-queue</h1></p><p><a href="https://crates.io/crates/future-queue" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/crates/v/future-queue" alt="future-queue on crates.io"></a>
<a href="https://docs.rs/future-queue/" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/docs-latest-brightgreen.svg" alt="Documentation (latest release)"></a>
<a href="https://nextest-rs.github.io/future-queue/rustdoc/future_queue" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/docs-main-purple" alt="Documentation (main)"></a>
<a href="https://raw.githubusercontent.com/nextest-rs/future-queue/main/CHANGELOG.md" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/changelog-latest-blue" alt="Changelog"></a>
<a href="https://raw.githubusercontent.com/nextest-rs/future-queue/main/LICENSE-APACHE" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/license-Apache-green.svg" alt="License"></a>
<a href="https://raw.githubusercontent.com/nextest-rs/future-queue/main/LICENSE-MIT" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/license-MIT-green.svg" alt="License"></a></p><p><code>future_queue</code> روش‌هایی را برای اجرای چندین فیوچر فراهم می‌کند:</p><ul><li>به صورت همزمان (concurrently)</li>
<li>به ترتیبی که راه‌اندازی می‌شوند (in the order they're spawned)</li>
<li>با محدودیت‌های سراسری (with global limits)</li>
<li>و با یک گروه اختیاری برای هر فیوچر، با محدودیت‌های مختص به خود.</li></p><p></ul>این کرِیت بخشی از <a href="https://github.com/nextest-rs" target="_blank" rel="noopener noreferrer">سازمان nextest</a> در گیت‌هاب است و برای رفع نیازهای <a href="https://nexte.st" target="_blank" rel="noopener noreferrer">cargo-nextest</a> طراحی شده است.</p><h2>انگیزه</h2></p><p>برنامه‌نویسی async در راست اغلب از یک آداپتور به نام
<a href="https://docs.rs/futures/latest/futures/stream/trait.StreamExt.html#method.buffer_unordered" target="_blank" rel="noopener noreferrer"><code>buffer_unordered</code></a> استفاده می‌کند:
این آداپتور یک استریم از فیوچرها[^1] را می‌گیرد و همه‌ی فیوچرها را با حداکثر مقدار همزمانی مشخص اجرا می‌کند.</p><ul><li>فیوچرها به ترتیبی که استریم آن‌ها را بازمی‌گرداند شروع می‌شوند.</li>
<li>پس از شروع، فیوچرها به طور همزمان پول (poll) می‌شوند و خروجی‌های کامل‌شده به ترتیبی دلخواه بازگردانده می‌شوند (به همین دلیل <code>unordered</code>).</li></p><p></ul>موارد استفاده رایج از <code>buffer_unordered</code> شامل موارد زیر است:</p><ul><li>ارسال درخواست‌های شبکه به صورت همزمان، اما با محدود کردن مقدار همزمانی برای جلوگیری از فشار به سرور مقصد.</li>
<li>اجرای تست‌ها با ابزاری مانند <a href="https://nexte.st" target="_blank" rel="noopener noreferrer">cargo-nextest</a>.</li></p><p></ul><code>buffer_unordered</code> برای بسیاری از کاربردها به خوبی عمل می‌کند. با این حال، یکی از مشکلات آن این است که همه‌ی فیوچرها را به یک اندازه هزینه‌بر در نظر می‌گیرد: هیچ راهی وجود ندارد که بگوییم برخی فیوچرها منابع بیشتری نسبت به بقیه مصرف می‌کنند یا برخی زیرمجموعه‌های فیوچرها باید از همدیگر جدا (mutually excluded) باشند.</p><p>به طور خاص برای nextest، برخی تست‌ها می‌توانند بسیار سنگین‌تر از بقیه باشند و تعداد کمتری از این تست‌ها باید به طور همزمان اجرا شوند. همچنین، برخی تست‌ها باید از بقیه جدا باشند یا محدودیت‌های همزمانی دیگری برای آن‌ها اعمال شود.</p><p>[^1]: این آداپتور یک استریم از فیوچرها را برای بیشینه تعمیم‌پذیری می‌گیرد. در عمل، اغلب یک <em>iterator</em> از فیوچرها است که با استفاده از <a href="https://docs.rs/futures/latest/futures/stream/fn.iter.html" target="_blank" rel="noopener noreferrer"><code>stream::iter</code></a> تبدیل شده است.</p><h2>درباره این کرِیت</h2></p><p>این کرِیت دو آداپتور روی استریم‌ها فراهم می‌کند.</p><h3>1. آداپتور <code>future_queue</code></h3></p><p>آداپتور <a href="https://raw.githubusercontent.com/nextest-rs/future-queue/main/src/stream_ext.rs" target="_blank" rel="noopener noreferrer"><code>future_queue</code></a> می‌تواند چندین فیوچر را به طور همزمان اجرا کند و میزان همزمانی را به حداکثر <em>وزن</em> محدود کند.</p><p>به جای گرفتن یک استریم از فیوچرها، این آداپتور یک استریم از جفت‌های
<code>(usize, F)</code> را می‌گیرد که در آن <code>usize</code> نشان‌دهنده وزن هر فیوچر است و <code>F</code> تابعی است به صورت <code>FnOnce(FutureQueueContext) -> impl Future</code>. این آداپتور فیوچرها را برنامه‌ریزی و بافر می‌کند تا زمانی که صف بعدی فیوچر باعث شود وزن کل از حداکثر وزن مجاز بیشتر شود.</p><ul><li>وزن کل هرگز هنگام اجرای فیوچرها از حداکثر تعیین‌شده فراتر نمی‌رود.</li>
<li>اگر وزن یک فیوچر منفرد بیشتر از حداکثر وزن باشد، وزن آن به حداکثر وزن تنظیم می‌شود.</li></p><p></ul>پس از زمان‌بندی تمام فیوچرهای ممکن، این آداپتور منتظر می‌ماند تا برخی از فیوچرهای در حال اجرا کامل شوند و وزن فعلی فیوچرهای در حال اجرا به زیر حداکثر وزن برسد، سپس فیوچرهای جدید را زمان‌بندی می‌کند.</p><p>وزن یک فیوچر می‌تواند صفر باشد؛ در این صورت، آن فیوچر در محاسبه وزن کل در نظر گرفته نمی‌شود.</p><p>اگر همه وزن‌ها ۱ باشند، <code>future_queue</code> دقیقا مشابه <code>buffer_unordered</code> عمل می‌کند.</p><p>#### مثال‌ها</p><pre><code class="language-rust">use futures::{channel::oneshot, stream, StreamExt as _};
use future_queue::{StreamExt as _};</p><p>let (send_one, recv_one) = oneshot::channel();
let (send_two, recv_two) = oneshot::channel();</p><p>let stream_of_futures = stream::iter(
    vec![(1, recv_one), (2, recv_two)],
).map(|(weight, future)| {
    (weight, move |_cx| future)
});
let mut queue = stream_of_futures.future_queue(10);</p><p>send_two.send("hello")?;
assert_eq!(queue.next().await, Some(Ok("hello")));</p><p>send_one.send("world")?;
assert_eq!(queue.next().await, Some(Ok("world")));</p><p>assert_eq!(queue.next().await, None);</code></pre></p><h3>2. آداپتور <code>future_queue_grouped</code></h3></p><p>آداپتور <a href="https://raw.githubusercontent.com/nextest-rs/future-queue/main/src/stream_ext.rs" target="_blank" rel="noopener noreferrer"><code>future_queue_grouped</code></a> مشابه <code>future_queue</code> است، با این تفاوت که می‌توان برای هر فیوچر یک <em>گروه</em> اختیاری مشخص کرد. هر گروه دارای حداکثر وزن خاص خود است و یک فیوچر تنها زمانی زمان‌بندی می‌شود که هم وزن کل و هم وزن گروه مربوطه بیش از حد نشود.</p><p>این آداپتور تا حد امکان منصفانه است: فیوچرها را به ترتیبی که استریم آن‌ها را بازمی‌گرداند زمان‌بندی می‌کند، بدون هیچ گونه بازآرایی بر اساس وزن. وقتی یک فیوچر از یک گروه کامل شد، فیوچرهای صف شده‌ی همان گروه در اولویت زمان‌بندی قرار می‌گیرند.</p><p>همانند <a href="https://raw.githubusercontent.com/nextest-rs/future-queue/main/src/stream_ext.rs" target="_blank" rel="noopener noreferrer"><code>future_queue</code></a>:</p><ul><li>وزن کل و وزن گروه هرگز هنگام اجرای فیوچرها از حداکثر تعیین‌شده فراتر نمی‌رود.</li>
<li>در محاسبه وزن کل، اگر وزن یک فیوچر منفرد بیشتر از حداکثر وزن باشد، وزن آن به حداکثر وزن تنظیم می‌شود.</li>
</ul><em> </em>اگر فیوچر متعلق به یک گروه باشد:* در محاسبه وزن گروه، اگر وزن آن بیشتر از حداکثر وزن گروه باشد، وزن آن به حداکثر وزن گروه تنظیم می‌شود.</p><p>#### مثال‌ها</p><pre><code class="language-rust">use futures::{channel::oneshot, stream, StreamExt as _};
use future_queue::{FutureQueueContext, StreamExt as _};</p><p>let (send_one, recv_one) = oneshot::channel();
let (send_two, recv_two) = oneshot::channel();</p><p>let stream_of_futures = stream::iter(
    vec![
        (1, Some("group1"), recv_one),
        (2, None, recv_two),
    ],
).map(|(weight, group, future)| {
    (weight, group, move |_cx| future)
});
let mut queue = stream_of_futures.future_queue_grouped(10, [("group1", 5)]);</p><p>send_two.send("hello")?;
assert_eq!(queue.next().await, Some(Ok("hello")));</p><p>send_one.send("world")?;
assert_eq!(queue.next().await, Some(Ok("world")));</p><p>assert_eq!(queue.next().await, None);</code></pre></p><h2>حداقل نسخه پشتیبانی‌شده راست (MSRV)</h2></p><p>حداقل نسخه پشتیبانی‌شده راست <strong>Rust 1.70</strong> است. در هر زمان، دست‌کم شش ماه آخر نسخه‌های پایدار راست پشتیبانی می‌شوند.</p><p>تا زمانی که این کرِیت نسخه پیش‌انتشار (0.x.x) باشد، ممکن است MSRV آن در یک نسخه patch افزایش یابد. پس از رسیدن به نسخه 1.x، هر گونه افزایش MSRV با یک نسخه فرعی جدید همراه خواهد بود.</p><h2>نکات</h2></p><p>این کرِیت قبلا با نام <code>buffer-unordered-weighted</code> شناخته می‌شد. برای توصیف بهتر عملکرد آن، به <code>future-queue</code> تغییر نام داد.</p><h2>مشارکت</h2></p><p>برای مشارکت، به فایل <a href="https://raw.githubusercontent.com/nextest-rs/future-queue/main/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">CONTRIBUTING</a> مراجعه کنید.</p><h2>مجوز</h2></p><p>این پروژه تحت شرایط <a href="https://raw.githubusercontent.com/nextest-rs/future-queue/main/LICENSE-APACHE" target="_blank" rel="noopener noreferrer">مجوز Apache 2.0</a> یا <a href="https://raw.githubusercontent.com/nextest-rs/future-queue/main/LICENSE-MIT" target="_blank" rel="noopener noreferrer">مجوز MIT</a> در دسترس است.</p><p>کد برگرفته از <a href="https://github.com/rust-lang/futures-rs" target="_blank" rel="noopener noreferrer">futures-rs</a> است و تحت مجوزهای Apache 2.0 و MIT استفاده می‌شود.</p><p><!--
README.md از روی README.tpl توسط cargo readme تولید شده است. برای بازتولید، از ریشه مخزن این دستور را اجرا کنید:</p><p>./scripts/regenerate-readmes.sh
-->

---

Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">Open Ai Tx</a> | Last indexed: 2025-06-07

---</p>
        </div>
        
        <div class="original-link">
            <strong>Original README:</strong> <a href="https://raw.githubusercontent.com/nextest-rs/future-queue/master/README.md" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
    </div>
    
    <div class="footer">
        <p>Translated by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">OpenAiTx</a> | 
        Last updated: 2025-07-24 
    </div>
    
</body>
</html>