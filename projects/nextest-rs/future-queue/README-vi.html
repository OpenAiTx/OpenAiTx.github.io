<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>future-queue - Read future-queue documentation in Vietnamese. This project has 0 stars on GitHub.</title>
    <meta name="description" content="Read future-queue documentation in Vietnamese. This project has 0 stars on GitHub.">
    <meta name="keywords" content="future-queue, Vietnamese, documentation, GitHub, open source">
    <meta name="author" content="OpenAiTx">
    <meta name="robots" content="index, follow">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "future-queue",
  "description": "Read future-queue documentation in Vietnamese. This project has 0 stars on GitHub.",
  "author": {
    "@type": "Person",
    "name": "nextest-rs"
  },
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "ratingCount": 0
  },
  "url": "https://OpenAiTx.github.io/projects/nextest-rs/future-queue/README-vi.html",
  "sameAs": "https://raw.githubusercontent.com/nextest-rs/future-queue/master/README.md",
  "datePublished": "2025-09-16",
  "dateModified": "2025-09-16"
}
    </script>
    
    <!-- GitHub-style CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #24292e;
            background-color: #ffffff;
            max-width: 980px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .container {
            background: #ffffff;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .header {
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        
        .project-title {
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .project-title a {
            color: #24292e;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color 0.2s ease;
        }
        
        .project-title a:hover {
            color: #0366d6;
            text-decoration: none;
        }
        
        .project-title .github-icon {
            width: 1em;
            height: 1em;
            fill: currentColor;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .project-title a:hover .github-icon {
            opacity: 1;
        }
        
        .project-meta {
            color: #586069;
            font-size: 14px;
            margin-bottom: 16px;
        }
        
        .stars {
            display: inline-block;
            margin-right: 16px;
        }
        
        .language {
            display: inline-block;
            background-color: #f1f8ff;
            color: #0366d6;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .content {
            font-size: 16px;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            color: #24292e;
        }
        
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        
        p {
            margin-bottom: 16px;
        }
        
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        
        a {
            color: #0366d6;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        ul, ol {
            margin-bottom: 16px;
            padding-left: 2em;
        }
        
        li {
            margin-bottom: 0.25em;
        }
        
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 1em;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e1e4e8;
            color: #586069;
            font-size: 14px;
            text-align: center;
        }
        
        .footer a {
            color: #0366d6;
        }
        
        .original-link {
            margin-top: 16px;
            padding: 12px;
            background-color: #f6f8fa;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 16px;
            }
            
            .project-title {
                font-size: 1.5em;
            }
        }
    </style>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Bing Count -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sh95yd6uwt");
    </script>        

    <!-- Statcounter -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="project-title">
                <a href="https://github.com/nextest-rs/future-queue" target="_blank" rel="noopener noreferrer">
                    <svg class="github-icon" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                    </svg>
                    future-queue
                </a>
            </h1>
            <div class="project-meta">
                <span class="stars">⭐ 0 stars</span>
                <span class="language">Vietnamese</span>
                <span>by nextest-rs</span>
            </div>
        </div>
        
        <div class="content">
            <h1>future-queue</h1></p><p><a href="https://crates.io/crates/future-queue" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/crates/v/future-queue" alt="future-queue on crates.io"></a>
<a href="https://docs.rs/future-queue/" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/docs-latest-brightgreen.svg" alt="Documentation (latest release)"></a>
<a href="https://nextest-rs.github.io/future-queue/rustdoc/future_queue" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/docs-main-purple" alt="Documentation (main)"></a>
<a href="https://raw.githubusercontent.com/nextest-rs/future-queue/main/CHANGELOG.md" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/changelog-latest-blue" alt="Changelog"></a>
<a href="https://raw.githubusercontent.com/nextest-rs/future-queue/main/LICENSE-APACHE" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/license-Apache-green.svg" alt="License"></a>
<a href="https://raw.githubusercontent.com/nextest-rs/future-queue/main/LICENSE-MIT" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/license-MIT-green.svg" alt="License"></a></p><p><code>future_queue</code> cung cấp các phương thức để chạy nhiều future:</p><ul><li>song song</li>
<li>theo thứ tự chúng được sinh ra</li>
<li>với giới hạn toàn cục</li>
<li>và với một nhóm tùy chọn cho mỗi future, mỗi nhóm có giới hạn riêng.</li></p><p></ul>Crate này là một phần của <a href="https://github.com/nextest-rs" target="_blank" rel="noopener noreferrer">tổ chức nextest</a> trên GitHub, và
được thiết kế để phục vụ nhu cầu của <a href="https://nexte.st" target="_blank" rel="noopener noreferrer">cargo-nextest</a>.</p><h2>Động lực phát triển</h2></p><p>Lập trình bất đồng bộ trong Rust thường sử dụng một bộ chuyển đổi gọi là
<a href="https://docs.rs/futures/latest/futures/stream/trait.StreamExt.html#method.buffer_unordered" target="_blank" rel="noopener noreferrer"><code>buffer_unordered</code></a>:
bộ chuyển đổi này nhận một stream các future[^1], và thực thi tất cả các future với giới hạn
số lượng đồng thời tối đa.</p><ul><li>Các future được khởi động theo thứ tự stream trả về.</li>
<li>Sau khi bắt đầu, các future được poll đồng thời, và các kết quả hoàn thành được trả về theo</li>
  </ul>thứ tự bất kỳ (do đó là <code>unordered</code>).</p><p>Các trường hợp sử dụng phổ biến cho <code>buffer_unordered</code> bao gồm:</p><ul><li>Gửi các yêu cầu mạng song song, nhưng giới hạn số lượng đồng thời để tránh quá tải máy chủ từ xa.</li>
<li>Chạy kiểm thử với một công cụ như <a href="https://nexte.st" target="_blank" rel="noopener noreferrer">cargo-nextest</a>.</li></p><p></ul><code>buffer_unordered</code> hoạt động tốt trong nhiều trường hợp. Tuy nhiên, một vấn đề là nó coi mọi
future đều tiêu tốn tài nguyên như nhau: không có cách nào để chỉ định rằng một số future tiêu
tốn nhiều tài nguyên hơn các future khác, hoặc một số nhóm future phải loại trừ lẫn nhau.</p><p>Đặc biệt với nextest, một số kiểm thử có thể nặng hơn nhiều so với những kiểm thử khác, và chỉ
nên chạy ít kiểm thử này cùng lúc. Ngoài ra, một số kiểm thử cần loại trừ lẫn nhau, hoặc cần
đặt các giới hạn đồng thời khác nhau lên chúng.</p><p>[^1]: Bộ chuyển đổi này nhận một stream các future để đạt tính tổng quát tối đa. Trong thực tế,
    nó thường là một <em>iterator</em> các future, được chuyển đổi sử dụng
    <a href="https://docs.rs/futures/latest/futures/stream/fn.iter.html" target="_blank" rel="noopener noreferrer"><code>stream::iter</code></a>.</p><h2>Về crate này</h2></p><p>Crate này cung cấp hai bộ chuyển đổi (adaptor) trên stream.</p><h3>1. Bộ chuyển đổi <code>future_queue</code></h3></p><p>Bộ chuyển đổi <a href="StreamExt::future_queue" target="_blank" rel="noopener noreferrer"><code>future_queue</code></a> có thể chạy nhiều future đồng thời,
giới hạn số lượng đồng thời theo một <em>trọng số</em> tối đa.</p><p>Thay vì nhận một stream các future, bộ chuyển đổi này nhận một stream các cặp
<code>(usize, F)</code>, trong đó <code>usize</code> là trọng số của mỗi future,
và <code>F</code> là <code>FnOnce(FutureQueueContext) -> impl Future</code>. Bộ chuyển đổi này sẽ
lên lịch và lưu vào bộ đệm các future để chạy cho đến khi việc xếp thêm một future tiếp theo sẽ
vượt quá trọng số tối đa.</p><ul><li>Trọng số tối đa không bao giờ bị vượt quá khi các future đang chạy.</li>
<li>Nếu trọng số của một future riêng lẻ lớn hơn trọng số tối đa, trọng số của nó sẽ được đặt bằng trọng số tối đa.</li></p><p></ul>Khi tất cả future có thể đã được lên lịch, bộ chuyển đổi này sẽ đợi cho đến khi một số future đang chạy hoàn thành, và trọng số hiện tại của các future đang chạy giảm xuống dưới trọng số tối đa, trước khi lên lịch thêm future mới.</p><p>Trọng số của một future có thể bằng 0, khi đó nó không tính vào trọng số tối đa.</p><p>Nếu tất cả trọng số đều là 1, thì <code>future_queue</code> hoàn toàn giống với <code>buffer_unordered</code>.</p><p>#### Ví dụ</p><pre><code class="language-rust">use futures::{channel::oneshot, stream, StreamExt as _};
use future_queue::{StreamExt as _};</p><p>let (send_one, recv_one) = oneshot::channel();
let (send_two, recv_two) = oneshot::channel();</p><p>let stream_of_futures = stream::iter(
    vec![(1, recv_one), (2, recv_two)],
).map(|(weight, future)| {
    (weight, move |_cx| future)
});
let mut queue = stream_of_futures.future_queue(10);</p><p>send_two.send("hello")?;
assert_eq!(queue.next().await, Some(Ok("hello")));</p><p>send_one.send("world")?;
assert_eq!(queue.next().await, Some(Ok("world")));</p><p>assert_eq!(queue.next().await, None);</code></pre></p><h3>2. Bộ chuyển đổi <code>future_queue_grouped</code></h3></p><p>Bộ chuyển đổi <a href="StreamExt::future_queue_grouped" target="_blank" rel="noopener noreferrer"><code>future_queue_grouped</code></a> giống như <code>future_queue</code>,
nhưng cho phép chỉ định một <em>nhóm</em> tùy chọn cho mỗi future. Mỗi nhóm có trọng số tối đa riêng, và một future chỉ được lên lịch nếu cả trọng số tối đa toàn cục và trọng số nhóm đều không bị vượt quá.</p><p>Bộ chuyển đổi này đảm bảo công bằng tối đa trong phạm vi các ràng buộc: nó sẽ lên lịch future theo thứ tự stream trả về, không sắp xếp lại dựa trên trọng số. Khi một future trong một nhóm hoàn thành, các future đã được xếp hàng trong nhóm đó sẽ được ưu tiên lên lịch trước các future khác từ stream.</p><p>Giống như <a href="StreamExt::future_queue" target="_blank" rel="noopener noreferrer"><code>future_queue</code></a>:</p><ul><li>Trọng số tối đa toàn cục và nhóm không bao giờ bị vượt quá khi các future đang chạy.</li>
<li>Khi tính toán trọng số toàn cục, nếu trọng số của một future lớn hơn trọng số tối đa, trọng số của nó sẽ được đặt bằng trọng số tối đa.</li>
</ul><em> </em>Nếu một future thuộc về một nhóm:* Khi tính toán trọng số nhóm, nếu trọng số của nó lớn hơn trọng số tối đa của nhóm, trọng số sẽ được đặt bằng trọng số tối đa của nhóm.</p><p>#### Ví dụ</p><pre><code class="language-rust">use futures::{channel::oneshot, stream, StreamExt as _};
use future_queue::{FutureQueueContext, StreamExt as _};</p><p>let (send_one, recv_one) = oneshot::channel();
let (send_two, recv_two) = oneshot::channel();</p><p>let stream_of_futures = stream::iter(
    vec![
        (1, Some("group1"), recv_one),
        (2, None, recv_two),
    ],
).map(|(weight, group, future)| {
    (weight, group, move |_cx| future)
});
let mut queue = stream_of_futures.future_queue_grouped(10, [("group1", 5)]);</p><p>send_two.send("hello")?;
assert_eq!(queue.next().await, Some(Ok("hello")));</p><p>send_one.send("world")?;
assert_eq!(queue.next().await, Some(Ok("world")));</p><p>assert_eq!(queue.next().await, None);</code></pre></p><h2>Phiên bản Rust tối thiểu được hỗ trợ (MSRV)</h2></p><p>Phiên bản Rust tối thiểu được hỗ trợ là <strong>Rust 1.70.</strong> Tại mọi thời điểm, ít nhất sáu tháng phát hành Rust stable gần nhất được hỗ trợ.</p><p>Khi crate này còn ở giai đoạn tiền phát hành (0.x.x), nó có thể nâng MSRV trong một bản phát hành vá lỗi (patch). Khi crate này đạt 1.x, mọi lần nâng MSRV sẽ đi kèm một bản phát hành phiên bản nhỏ mới.</p><h2>Ghi chú</h2></p><p>Crate này trước đây được gọi là <code>buffer-unordered-weighted</code>. Nó đã được đổi tên thành <code>future-queue</code> để mô tả rõ ràng hơn về chức năng thay vì cách triển khai.</p><h2>Đóng góp</h2></p><p>Xem tệp <a href="https://raw.githubusercontent.com/nextest-rs/future-queue/main/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">CONTRIBUTING</a> để biết cách đóng góp.</p><h2>Giấy phép</h2></p><p>Dự án này được phát hành theo các điều khoản của cả <a href="https://raw.githubusercontent.com/nextest-rs/future-queue/main/LICENSE-APACHE" target="_blank" rel="noopener noreferrer">giấy phép Apache 2.0</a> hoặc
<a href="https://raw.githubusercontent.com/nextest-rs/future-queue/main/LICENSE-MIT" target="_blank" rel="noopener noreferrer">giấy phép MIT</a>.</p><p>Mã nguồn được phát triển dựa trên <a href="https://github.com/rust-lang/futures-rs" target="_blank" rel="noopener noreferrer">futures-rs</a>, và được sử dụng theo giấy phép Apache 2.0 và MIT.</p><p><!--
README.md được sinh ra từ README.tpl bằng cargo readme. Để tạo lại, hãy chạy từ thư mục gốc repository:</p><p>./scripts/regenerate-readmes.sh
-->

---

Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">Open Ai Tx</a> | Last indexed: 2025-06-07

---</p>
        </div>
        
        <div class="original-link">
            <strong>Original README:</strong> <a href="https://raw.githubusercontent.com/nextest-rs/future-queue/master/README.md" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
    </div>
    
    <div class="footer">
        <p>Translated by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">OpenAiTx</a> | 
        Last updated: 2025-09-16 
    </div>
    
</body>
</html>