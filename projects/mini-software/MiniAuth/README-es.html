<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MiniAuth - Read MiniAuth documentation in Spanish. This project has 113 stars on GitHub.</title>
    <meta name="description" content="Read MiniAuth documentation in Spanish. This project has 113 stars on GitHub.">
    <meta name="keywords" content="MiniAuth, Spanish, documentation, GitHub, open source">
    <meta name="author" content="OpenAiTx">
    <meta name="robots" content="index, follow">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "MiniAuth",
  "description": "Read MiniAuth documentation in Spanish. This project has 113 stars on GitHub.",
  "author": {
    "@type": "Person",
    "name": "mini-software"
  },
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "ratingCount": 113
  },
  "url": "https://OpenAiTx.github.io/projects/mini-software/MiniAuth/README-es.html",
  "sameAs": "https://raw.githubusercontent.com/mini-software/MiniAuth/main/README.md",
  "datePublished": "2025-09-16",
  "dateModified": "2025-09-16"
}
    </script>
    
    <!-- GitHub-style CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #24292e;
            background-color: #ffffff;
            max-width: 980px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .container {
            background: #ffffff;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .header {
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        
        .project-title {
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .project-title a {
            color: #24292e;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color 0.2s ease;
        }
        
        .project-title a:hover {
            color: #0366d6;
            text-decoration: none;
        }
        
        .project-title .github-icon {
            width: 1em;
            height: 1em;
            fill: currentColor;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .project-title a:hover .github-icon {
            opacity: 1;
        }
        
        .project-meta {
            color: #586069;
            font-size: 14px;
            margin-bottom: 16px;
        }
        
        .stars {
            display: inline-block;
            margin-right: 16px;
        }
        
        .language {
            display: inline-block;
            background-color: #f1f8ff;
            color: #0366d6;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .content {
            font-size: 16px;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            color: #24292e;
        }
        
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        
        p {
            margin-bottom: 16px;
        }
        
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        
        a {
            color: #0366d6;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        ul, ol {
            margin-bottom: 16px;
            padding-left: 2em;
        }
        
        li {
            margin-bottom: 0.25em;
        }
        
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 1em;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e1e4e8;
            color: #586069;
            font-size: 14px;
            text-align: center;
        }
        
        .footer a {
            color: #0366d6;
        }
        
        .original-link {
            margin-top: 16px;
            padding: 12px;
            background-color: #f6f8fa;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 16px;
            }
            
            .project-title {
                font-size: 1.5em;
            }
        }
    </style>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Bing Count -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sh95yd6uwt");
    </script>        

    <!-- Statcounter -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="project-title">
                <a href="https://github.com/mini-software/MiniAuth" target="_blank" rel="noopener noreferrer">
                    <svg class="github-icon" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                    </svg>
                    MiniAuth
                </a>
            </h1>
            <div class="project-meta">
                <span class="stars">⭐ 113 stars</span>
                <span class="language">Spanish</span>
                <span>by mini-software</span>
            </div>
        </div>
        
        <div class="content">
            <p><div align="center">
<p><a href="https://www.nuget.org/packages/MiniAuth"><img src="https://img.shields.io/nuget/v/MiniAuth.svg" alt="NuGet"></a>  <a href="https://www.nuget.org/packages/MiniAuth"><img src="https://img.shields.io/nuget/dt/MiniAuth.svg" alt=""></a>  
<a href="https://gitee.com/shps951023/MiniAuth"><img src="https://gitee.com/shps951023/MiniAuth/badge/star.svg" alt="star"></a> <a href="https://github.com/Mini-Software/MiniAuth" rel="nofollow"><img src="https://img.shields.io/github/stars/Mini-Software/MiniAuth?logo=github" alt="GitHub stars"></a> <a href="https://www.nuget.org/packages/MiniAuth"><img src="https://img.shields.io/badge/.NET-%3E%3D%206.0-red.svg" alt="version"></a>
</p>
</div></p><hr></p><p><div align="center">
<p><strong>
    <a href="README.md">English</a> | <a href="README.zh-CN.md">简体中文</a> | <a href="README.zh-Hant.md">繁體中文</a> | <a href="README.ja.md">日本語</a> | <a href="README.ko.md">한국어</a> | <a href="README.es.md">Español</a>  
</strong></p>
</div></p><hr></p><p><div align="center">
 Tu <a href="https://github.com/mini-software/miniauth">Estrella</a>, <a href="https://miniexcel.github.io/">Donación</a>, <a href="https://www.linkedin.com/in/itweihan/">Recomendación</a> pueden hacer MiniAuth mejor 
</div></p><h3>Introducción</h3></p><p>"Una sola línea de código" agrega gestión de usuarios/roles de asp.net core identity web para tus proyectos nuevos o existentes</p><p><table>
    <tr>
        <td><img src="https://github.com/mini-software/MiniExcel/assets/12729184/d2aec694-158d-4ebc-bd8b-0e9ae1f855ac" alt="Image 1"></td>
        <td><img src="https://github.com/mini-software/MiniAuth/assets/12729184/2f791e25-9158-495e-9383-4fbedf9b982b" alt="Image 2"></td>
    </tr>
    <tr>
        <td><img src="https://github.com/mini-software/MiniAuth/assets/12729184/03d72ed7-8fb9-465f-9093-24b00279eeb2" alt="Image 3"></td>
        <td><img src="https://github.com/mini-software/MiniAuth/assets/12729184/841df179-7e5f-481a-9039-46738b20aa2e" alt="Image 4"></td>
    </tr>
</table></p><h3>Características</h3></p><ul><li>Compatibilidad: Soporta .NET Identity basado en JWT, Cookie, Session, etc.</li>
<li>Sencillo: Diseño plug-and-play, API, SPA, MVC, Razor Page, etc.</li>
<li>Soporta múltiples bases de datos: Oracle, SQL Server, MySQL, etc. EF Core</li>
<li>No intrusivo: No afecta las bases de datos existentes ni la estructura del proyecto</li>
<li>Multi-plataforma: Soporta entornos Linux, macOS</li></p><p></ul><h3>Instalación</h3></p><p>Instala el paquete desde NuGet</p><h3>Inicio Rápido</h3></p><p>Agrega una sola línea de código <code>services.AddMiniAuth()</code> en Startup, luego ejecuta tu proyecto. Ejemplo:</p><pre><code class="language-csharp">public class Program
{
    public static void Main(string[] args)
    {
        var builder = WebApplication.CreateBuilder(args);</p><p>        builder.Services.AddMiniAuth(); // <= ❗❗❗</p><p>        var app = builder.Build();
        app.Run();
    }
}</code></pre></p><p>La cuenta de administrador predeterminada es <code>admin@mini-software.github.io</code> con la contraseña <code>E7c4f679-f379-42bf-b547-684d456bc37f</code> (recuerda cambiar la contraseña). La página de administración está disponible en <code>http(s)://tuhost/miniauth/index.html</code>.</p><p>Agrega <code>[Authorize]</code> a las categorías o métodos que requieran gestión de permisos, o control de roles <code>[Authorize(Roles = "role")]</code>, devolverá estado 401 si no has iniciado sesión, y devolverá estado 403 si no tienes permiso.</p><h3>MiniAuth Cookie Identity</h3></p><p>MiniAuth está preconfigurado como identidad basada en Cookie. Por favor, cambia a JWT, etc. para proyectos con separación frontend-backend.</p><h3>MiniAuth JWT Identity</h3></p><p>Configura AuthenticationType = BearerJwt</p><p>``<code>C#
builder.Services.AddMiniAuth(options:(options) =>
{
    options.AuthenticationType = MiniAuthOptions.AuthType.BearerJwt;
});
<pre><code class="language-">
Recuerda establecer una nueva clave de seguridad JWT, por ejemplo:
</code></pre>C#
builder.Services.AddMiniAuth(options: (options) =>
{
    options.JWTKey = new SymmetricSecurityKey(Encoding.UTF8.GetBytes("6ee3edbf-488e-4484-9c2c-e3ffa6dcbc09"));
});
<pre><code class="language-">
#### Obtener token</p><p>Ejemplo de Javascript XHR en el frontend
</code></pre>javascript
var data = JSON.stringify({
  "username": "admin@mini-software.github.io",
  "password": "E7c4f679-f379-42bf-b547-684d456bc37f",
  "remember": false
});
var xhr = new XMLHttpRequest();
xhr.withCredentials = true;
xhr.addEventListener("readystatechange", function() {
  if(this.readyState === 4) {
    console.log(this.responseText);
  }
});
xhr.open("POST", "http://tuhost/miniauth/login");
xhr.setRequestHeader("Content-Type", "application/json");
xhr.send(data);
<pre><code class="language-">
respuesta
</code></pre>json
{
    "ok": true,
    "code": 200,
    "message": null,
    "data": {
        "tokenType": "Bearer",
        "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiJhZG1pbkBtaW5pLXNvZnR3YXJlLmdpdGh1Yi5pbyIsIm5iZiI6MTcxODIwNDg5NSwiZXhwIjoxNzE4MjA1Nzk1LCJpYXQiOjE3MTgyMDQ4OTUsImlzcyI6Ik1pbmlBdXRoIn0._-DQ_rcbeju8_nrK2lD5we0rre04_xdDZNF6NhM0Rg0",
        "expiresIn": 900
    }
}
<pre><code class="language-">
Guarda el </code>accessToken<code> en localstorage o en una cookie. Al llamar a tu API [Authorize], establece el </code>Header Authorization<code> a </code>Bearer + espacio + accessToken<code>, y el sistema lo verificará automáticamente.</p><p>Ejemplo:
</code></pre>js
var xhr = new XMLHttpRequest();
xhr.withCredentials = true;
xhr.addEventListener("readystatechange", function() {
  if(this.readyState === 4) {
    console.log(this.responseText);
  }
});
xhr.open("GET", "http://tuhost:5014/your/api");
xhr.setRequestHeader("Authorization", "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiJhZG1pbkBtaW5pLXNvZnR3YXJlLmdpdGh1Yi5pbyIsIm5iZiI6MTcxODIwNDg5NSwiZXhwIjoxNzE4MjA1Nzk1LCJpYXQiOjE3MTgyMDQ4OTUsImlzcyI6Ik1pbmlBdXRoIn0._-DQ_rcbeju8_nrK2lD5we0rre04_xdDZNF6NhM0Rg0");
xhr.send();
<pre><code class="language-">
#### Configurar tiempo de expiración
</code></pre>c#
options.TokenExpiresIn = 30 * 60; 
<pre><code class="language-">
La unidad es en segundos, con un valor predeterminado de 30 minutos. Además, ten en cuenta que .NET JWT ClockSkew en JwtBearerOptions está preconfigurado para añadir 5 minutos extra <a href="https://stackoverflow.com/questions/43045035/jwt-token-authentication-expired-tokens-still-working-net-core-web-api" target="_blank" rel="noopener noreferrer">razón</a>.</p><p>#### API de Refresh Token (JWT)</p><p>API : </code>/MiniAuth/refreshToken<code>
Body:
</code></pre>json
{
   "refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyMzk5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.HYBWrM2suDiM4OG0FSlXhNgktZIG9l3ufmIAnwZiIoU"
}
<pre><code class="language-">Header:</code></pre>
Authorization:Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyNTc5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.rgAgsziAdLqOC9NYra-M9WQl8BJ99sRdfzRKNkMz9dk
<pre><code class="language-">El tiempo de expiración se establece en </code>MiniAuthOptions.TokenExpiresIn / 2<code>, con un valor predeterminado de 30 minutos.</p><h3>Configuración, Opciones, Personalización</h3></p><p>#### Modo Predeterminado</p><ul><li>El modo predeterminado de MiniAuth es la gestión centralizada de usuarios por parte de los administradores de IT. Operaciones como registro de usuarios y restablecimiento de contraseñas requieren una cuenta de administrador con el rol predefinido = miniauth-admin.</li></p><p></ul>#### Deshabilitar el login de MiniAuth</p><p>Si solo quieres utilizar tu propia lógica de login, páginas y APIs, puedes especificar la ruta de login y deshabilitar el login de MiniAuth.</code></pre>C#
// Coloque antes del registro del servicio 
builder.Services.AddMiniAuth(options: (options) =>
{
    options.LoginPath = "/Identity/Account/Login";
    options.DisableMiniAuthLogin = true;
});
<pre><code class="language-">
#### Personalizar la Cadena de Conexión SQLite Predeterminada
</code></pre>C#
builder.Services.AddMiniAuth(options: (options) =>
{
    options.SqliteConnectionString = "Data Source=miniauth_identity.db";
});
<pre><code class="language-"></p><h3>Base de Datos Personalizada, Usuarios y Roles</h3></p><p>MiniAuth está diseñado para funcionar perfectamente con SQLite EF Core, IdentityUser e IdentityRole por defecto. Si necesitas cambiar, especifica diferentes bases de datos y tus propias clases de usuario y rol usando genéricos en </code>app.UseMiniAuth<code>.
</code></pre>C#
app.UseMiniAuth<YourDbContext, YourIdentityUser, YourIdentityRole>();
<pre><code class="language-"></p><h3>Inicio de Sesión, Autenticación de Usuario</h3></p><p>Para controladores que no son ApiController, la redirección predeterminada de inicio de sesión es a la página login.html (determinado por verificar si Headers["X-Requested-With"] == "XMLHttpRequest" o la presencia de ApiControllerAttribute).
Los controladores marcados como ApiController no redirigen por defecto a una página de inicio de sesión; en su lugar, devuelven un código de estado 401.</p><h3>Frontend Personalizado</h3></p><ul><li>El frontend del panel de administración se encuentra en </code>/src/Frontend_Identity<code> y utiliza principalmente Vue3 + Vite. Ejecutar </code>npm run build<code> actualizará la interfaz de usuario de miniauth.</li>
<li>Si no deseas usar la página de inicio de sesión predeterminada de miniauth, MVC te permite usar la Login.cshtml generada por identity, o puedes modificar los archivos login.html, js y css en el frontend de miniauth.</li></p><p></ul><h3>Prefijo de Ruta Personalizado</h3>
</code></pre>
builder.Services.AddMiniAuth(options: (options) =>
{
    options.RoutePrefix = "YourName";
});
<pre><code class="language-">
El RoutePrefix predeterminado es </code>MiniAuth<code>.</p><h3>API de Inicio de Sesión (JWT)</h3></p><p>API: </code>/MiniAuth/login<code></p><p>Cuerpo:
</code></pre>json
{
   "username":"admin@mini-software.github.io",
   "password":"E7c4f679-f379-42bf-b547-684d456bc37f",
   "remember":false
}
<pre><code class="language-">
Respuesta: 
</code></pre>json
{
    "ok": true,
    "code": 200,
    "message": null,
    "data": {
        "tokenType": "Bearer",
        "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyNTc5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.rgAgsziAdLqOC9NYra-M9WQl8BJ99sRdfzRKNkMz9dk",
        "expiresIn": 3600,
        "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyMzk5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.HYBWrM2suDiM4OG0FSlXhNgktZIG9l3ufmIAnwZiIoU"
    }
}
<pre><code class="language-"></p><h3>Registro</h3></p><p>Utiliza la API y las páginas de registro integradas que proporciona ASP.NET Core Identity.</p><h3>Olvidé mi Contraseña</h3></p><p>Utiliza la API y las páginas para recuperar contraseña integradas que proporciona ASP.NET Core Identity.</p><h3>Obtener Información de Usuario</h3></p><p>Utiliza las APIs y páginas integradas proporcionadas por ASP.NET Core Identity para recuperar información de usuario. Ten en cuenta que puede que necesites implementar lógica adicional o endpoints para exponer los datos de usuario requeridos, dependiendo de las necesidades específicas de tu aplicación. ASP.NET Core Identity proporciona un marco robusto para la gestión de información de usuario, incluyendo datos de perfil, roles y claims.</p><h3>Notas</h3></p><p>#### Atención al Orden</p><p>Coloca UseMiniAuth después de la generación de rutas, de lo contrario, el sistema no podrá obtener datos de enrutamiento para las comprobaciones de permisos, como se muestra a continuación:
</code></pre>c#
app.UseRouting();
app.UseMiniAuth();
<pre><code class="language-">
#### Atención: Añade las Reglas de Roles</p><p>Por favor, añade </code>AddRoles<IdentityRole>()<code>, de lo contrario </code>[Authorize(Roles = "permission")]` no tendrá efecto.
</code></pre>C#
builder.Services.AddDefaultIdentity<IdentityUser>(options => options.SignIn.RequireConfirmedAccount = true)
    .AddRoles<IdentityRole>() // ❗❗❗ 
    .AddEntityFrameworkStores<ApplicationDbContext>();
<pre><code class="language-">
<h3>Integrar MiniAuth en un Proyecto Identity Existente con Lógica Personalizada</h3></p><p>Desactiva el autoUse de AddMiniAuth y coloca UseMiniAuth después de tu propia autenticación, reemplazando los parámetros genéricos con tu propio IdentityDBContext, usuario y autenticación de permisos. Aquí tienes un ejemplo:
</code></pre>csharp
        public static void Main(string[] args)
        {
            var builder = WebApplication.CreateBuilder(args);</p><p>            var connectionString = builder.Configuration.GetConnectionString("DefaultConnection") ?? throw new InvalidOperationException("Connection string 'DefaultConnection' not found.");
            builder.Services.AddDbContext<ApplicationDbContext>(options =>
                options.UseSqlServer(connectionString));
            builder.Services.AddDatabaseDeveloperPageExceptionFilter();</p><p>            builder.Services.AddDefaultIdentity<IdentityUser>(options => options.SignIn.RequireConfirmedAccount = true)
                .AddRoles<IdentityRole>()
                .AddEntityFrameworkStores<ApplicationDbContext>();</p><p>            builder.Services.AddControllersWithViews();</p><p>            builder.Services.AddMiniAuth(autoUse: false); // <= ❗❗❗</p><p>
            var app = builder.Build();</p><p>            app.UseMiniAuth<ApplicationDbContext, IdentityUser, IdentityRole>();  // <= ❗❗❗ 
            app.MapControllerRoute(
                name: "default",
                pattern: "{controller=Home}/{action=Index}/{id?}");
            app.MapRazorPages();</p><p>            app.Run();
        }
<pre><code class="language-">
Esto te permite alternar entre usar tus propios usuarios, roles, base de datos y lógica de Identity.</p><p>#### Sistemas Distribuidos</p><ul><li>Para fuentes de base de datos, considera cambiar a bases de datos como SQL Server, MySQL, PostgreSQL, etc.</li>
<li>Se recomienda cambiar a métodos de autenticación como JWT para una mejor integración en entornos distribuidos.</li></p><p></ul><h3>Notas de Lanzamiento</h3></p><p>Consulta las <a href="https://raw.githubusercontent.com/mini-software/MiniAuth/main/releases" target="_blank" rel="noopener noreferrer">Notas de Lanzamiento</a> para actualizaciones.</p><h3>TODO</h3></p><p>Enlace: <a href="https://github.com/orgs/mini-software/projects/7/views/1" target="_blank" rel="noopener noreferrer">MiniAuth.Identify project</a></code></pre>

---

Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">Open Ai Tx</a> | Last indexed: 2025-06-11

---</p>
        </div>
        
        <div class="original-link">
            <strong>Original README:</strong> <a href="https://raw.githubusercontent.com/mini-software/MiniAuth/main/README.md" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
    </div>
    
    <div class="footer">
        <p>Translated by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">OpenAiTx</a> | 
        Last updated: 2025-09-16 
    </div>
    
</body>
</html>