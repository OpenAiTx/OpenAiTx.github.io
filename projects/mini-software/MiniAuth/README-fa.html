<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MiniAuth - Read MiniAuth documentation in Persian. This project has 113 stars on GitHub.</title>
    <meta name="description" content="Read MiniAuth documentation in Persian. This project has 113 stars on GitHub.">
    <meta name="keywords" content="MiniAuth, Persian, documentation, GitHub, open source">
    <meta name="author" content="OpenAiTx">
    <meta name="robots" content="index, follow">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "MiniAuth",
  "description": "Read MiniAuth documentation in Persian. This project has 113 stars on GitHub.",
  "author": {
    "@type": "Person",
    "name": "mini-software"
  },
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "ratingCount": 113
  },
  "url": "https://OpenAiTx.github.io/projects/mini-software/MiniAuth/README-fa.html",
  "sameAs": "https://raw.githubusercontent.com/mini-software/MiniAuth/main/README.md",
  "datePublished": "2025-09-16",
  "dateModified": "2025-09-16"
}
    </script>
    
    <!-- GitHub-style CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #24292e;
            background-color: #ffffff;
            max-width: 980px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .container {
            background: #ffffff;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .header {
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        
        .project-title {
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .project-title a {
            color: #24292e;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color 0.2s ease;
        }
        
        .project-title a:hover {
            color: #0366d6;
            text-decoration: none;
        }
        
        .project-title .github-icon {
            width: 1em;
            height: 1em;
            fill: currentColor;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .project-title a:hover .github-icon {
            opacity: 1;
        }
        
        .project-meta {
            color: #586069;
            font-size: 14px;
            margin-bottom: 16px;
        }
        
        .stars {
            display: inline-block;
            margin-right: 16px;
        }
        
        .language {
            display: inline-block;
            background-color: #f1f8ff;
            color: #0366d6;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .content {
            font-size: 16px;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            color: #24292e;
        }
        
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        
        p {
            margin-bottom: 16px;
        }
        
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        
        a {
            color: #0366d6;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        ul, ol {
            margin-bottom: 16px;
            padding-left: 2em;
        }
        
        li {
            margin-bottom: 0.25em;
        }
        
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 1em;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e1e4e8;
            color: #586069;
            font-size: 14px;
            text-align: center;
        }
        
        .footer a {
            color: #0366d6;
        }
        
        .original-link {
            margin-top: 16px;
            padding: 12px;
            background-color: #f6f8fa;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 16px;
            }
            
            .project-title {
                font-size: 1.5em;
            }
        }
    </style>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Bing Count -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sh95yd6uwt");
    </script>        

    <!-- Statcounter -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="project-title">
                <a href="https://github.com/mini-software/MiniAuth" target="_blank" rel="noopener noreferrer">
                    <svg class="github-icon" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                    </svg>
                    MiniAuth
                </a>
            </h1>
            <div class="project-meta">
                <span class="stars">⭐ 113 stars</span>
                <span class="language">Persian</span>
                <span>by mini-software</span>
            </div>
        </div>
        
        <div class="content">
            <p><div align="center">
<p><a href="https://www.nuget.org/packages/MiniAuth"><img src="https://img.shields.io/nuget/v/MiniAuth.svg" alt="NuGet"></a>  <a href="https://www.nuget.org/packages/MiniAuth"><img src="https://img.shields.io/nuget/dt/MiniAuth.svg" alt=""></a>  
<a href="https://gitee.com/shps951023/MiniAuth"><img src="https://gitee.com/shps951023/MiniAuth/badge/star.svg" alt="star"></a> <a href="https://github.com/Mini-Software/MiniAuth" rel="nofollow"><img src="https://img.shields.io/github/stars/Mini-Software/MiniAuth?logo=github" alt="GitHub stars"></a> <a href="https://www.nuget.org/packages/MiniAuth"><img src="https://img.shields.io/badge/.NET-%3E%3D%206.0-red.svg" alt="version"></a>
</p>
</div></p><hr></p><p><div align="center">
<p><strong>
    <a href="README.md">English</a> | <a href="README.zh-CN.md">简体中文</a> | <a href="README.zh-Hant.md">繁體中文</a> | <a href="README.ja.md">日本語</a> | <a href="README.ko.md">한국어</a> | <a href="README.es.md">Español</a>  
</strong></p>
</div></p><hr></p><p><div align="center">
 ستاره <a href="https://github.com/mini-software/miniauth">Star</a>، <a href="https://miniexcel.github.io/">حمایت مالی</a>، <a href="https://www.linkedin.com/in/itweihan/">پیشنهاد</a> شما می‌تواند MiniAuth را بهتر کند 
</div></p><h3>مقدمه</h3></p><p>با "یک خط کد"، مدیریت کاربران/نقش‌های هویت asp.net core را به پروژه‌های جدید/قدیمی خود اضافه کنید</p><p><table>
    <tr>
        <td><img src="https://github.com/mini-software/MiniExcel/assets/12729184/d2aec694-158d-4ebc-bd8b-0e9ae1f855ac" alt="Image 1"></td>
        <td><img src="https://github.com/mini-software/MiniAuth/assets/12729184/2f791e25-9158-495e-9383-4fbedf9b982b" alt="Image 2"></td>
    </tr>
    <tr>
        <td><img src="https://github.com/mini-software/MiniAuth/assets/12729184/03d72ed7-8fb9-465f-9093-24b00279eeb2" alt="Image 3"></td>
        <td><img src="https://github.com/mini-software/MiniAuth/assets/12729184/841df179-7e5f-481a-9039-46738b20aa2e" alt="Image 4"></td>
    </tr>
</table></p><h3>امکانات</h3></p><ul><li>سازگاری: پشتیبانی از هویت .NET مبتنی بر JWT، کوکی، نشست و غیره</li>
<li>ساده: طراحی plug-and-play، پشتیبانی از API، SPA، MVC، Razor Page و غیره</li>
<li>پشتیبانی از چند پایگاه داده: پشتیبانی از Oracle، SQL Server، MySQL و غیره با EF Core</li>
<li>غیرتهاجمی: بدون تأثیر بر پایگاه داده یا ساختار پروژه‌های موجود</li>
<li>چندسکویی: پشتیبانی از محیط‌های Linux و macOS</li></p><p></ul><h3>نصب</h3></p><p>پکیج را از NuGet نصب کنید</p><h3>شروع سریع</h3></p><p>در Startup تنها یک خط کد <code>services.AddMiniAuth()</code> اضافه کنید و پروژه خود را اجرا نمایید. مثال:</p><pre><code class="language-csharp">public class Program
{
    public static void Main(string[] args)
    {
        var builder = WebApplication.CreateBuilder(args);</p><p>        builder.Services.AddMiniAuth(); // <= ❗❗❗</p><p>        var app = builder.Build();
        app.Run();
    }
}</code></pre></p><p>حساب کاربری پیش‌فرض مدیریت، <code>admin@mini-software.github.io</code> با رمز عبور <code>E7c4f679-f379-42bf-b547-684d456bc37f</code> می‌باشد (حتماً رمز عبور را تغییر دهید). صفحه مدیریت از طریق <code>http(s)://yourhost/miniauth/index.html</code> در دسترس است.</p><p>برای کنترل سطح دسترسی، روی دسته‌ها یا متدهایی که نیاز به مدیریت مجوز یا نقش دارند، <code>[Authorize]</code> یا کنترل نقش <code>[Authorize(Roles = "role")]</code> اضافه کنید؛ در صورت عدم ورود، وضعیت 401 بازگردانده می‌شود و در صورت عدم داشتن مجوز، وضعیت 403 برگردانده می‌شود.</p><h3>هویت کوکی MiniAuth</h3></p><p>MiniAuth به صورت پیش‌فرض بر پایه کوکی (Cookie Based identity) تنظیم شده است؛ لطفاً برای پروژه‌های جدا از فرانت و بک‌اند به JWT و غیره تغییر دهید.</p><h3>هویت JWT در MiniAuth</h3></p><p>تنظیم AuthenticationType به BearerJwt</p><p>``<code>C#
builder.Services.AddMiniAuth(options:(options) =>
{
    options.AuthenticationType = MiniAuthOptions.AuthType.BearerJwt;
});
<pre><code class="language-">
حتماً کلید امنیتی JWT جدید تعیین کنید، مانند:
</code></pre>C#
builder.Services.AddMiniAuth(options: (options) =>
{
    options.JWTKey = new SymmetricSecurityKey(Encoding.UTF8.GetBytes("6ee3edbf-488e-4484-9c2c-e3ffa6dcbc09"));
});
<pre><code class="language-">
#### دریافت توکن</p><p>نمونه XHR جاوااسکریپت فرانت‌اند
</code></pre>javascript
var data = JSON.stringify({
  "username": "admin@mini-software.github.io",
  "password": "E7c4f679-f379-42bf-b547-684d456bc37f",
  "remember": false
});
var xhr = new XMLHttpRequest();
xhr.withCredentials = true;
xhr.addEventListener("readystatechange", function() {
  if(this.readyState === 4) {
    console.log(this.responseText);
  }
});
xhr.open("POST", "http://yourhost/miniauth/login");
xhr.setRequestHeader("Content-Type", "application/json");
xhr.send(data);
<pre><code class="language-">
پاسخ
</code></pre>json
{
    "ok": true,
    "code": 200,
    "message": null,
    "data": {
        "tokenType": "Bearer",
        "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiJhZG1pbkBtaW5pLXNvZnR3YXJlLmdpdGh1Yi5pbyIsIm5iZiI6MTcxODIwNDg5NSwiZXhwIjoxNzE4MjA1Nzk1LCJpYXQiOjE3MTgyMDQ4OTUsImlzcyI6Ik1pbmlBdXRoIn0._-DQ_rcbeju8_nrK2lD5we0rre04_xdDZNF6NhM0Rg0",
        "expiresIn": 900
    }
}
<pre><code class="language-">
</code>accessToken<code> را در localstorage یا کوکی ذخیره کنید. هنگام فراخوانی API دارای [Authorize]، در هدر درخواست مقدار </code>Authorization<code> را به صورت </code>Bearer + فاصله + accessToken<code> قرار دهید؛ سیستم به صورت خودکار آن را اعتبارسنجی می‌کند.</p><p>نمونه:
</code></pre>js
var xhr = new XMLHttpRequest();
xhr.withCredentials = true;
xhr.addEventListener("readystatechange", function() {
  if(this.readyState === 4) {
    console.log(this.responseText);
  }
});
xhr.open("GET", "http://yourhost:5014/your/api");
xhr.setRequestHeader("Authorization", "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiJhZG1pbkBtaW5pLXNvZnR3YXJlLmdpdGh1Yi5pbyIsIm5iZiI6MTcxODIwNDg5NSwiZXhwIjoxNzE4MjA1Nzk1LCJpYXQiOjE3MTgyMDQ4OTUsImlzcyI6Ik1pbmlBdXRoIn0._-DQ_rcbeju8_nrK2lD5we0rre04_xdDZNF6NhM0Rg0");
xhr.send();
<pre><code class="language-"></p><p>
#### تنظیم زمان انقضا
</code></pre>c#
options.TokenExpiresIn = 30 * 60; 
<pre><code class="language-">
واحد زمان بر حسب ثانیه است و مقدار پیش‌فرض ۳۰ دقیقه می‌باشد. همچنین توجه داشته باشید که .NET JWT ClockSkew در JwtBearerOptions به طور پیش‌فرض ۵ دقیقه به زمان اضافه می‌کند <a href="https://stackoverflow.com/questions/43045035/jwt-token-authentication-expired-tokens-still-working-net-core-web-api" target="_blank" rel="noopener noreferrer">دلیل</a>.</p><p>#### API رفرش توکن (JWT)</p><p>API : </code>/MiniAuth/refreshToken<code>
بدنه:
</code></pre>json
{
   "refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyMzk5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.HYBWrM2suDiM4OG0FSlXhNgktZIG9l3ufmIAnwZiIoU"
}
<pre><code class="language-">هدر:</code></pre>
Authorization:Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyNTc5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.rgAgsziAdLqOC9NYra-M9WQl8BJ99sRdfzRKNkMz9dk
<pre><code class="language-">زمان انقضا به صورت </code>MiniAuthOptions.TokenExpiresIn / 2<code> تعیین می‌شود که به طور پیش‌فرض ۳۰ دقیقه است.</p><h3>تنظیمات، گزینه‌ها و سفارشی‌سازی</h3></p><p>#### حالت پیش‌فرض</p><ul><li>حالت پیش‌فرض MiniAuth مدیریت متمرکز کاربران توسط مدیر IT است. عملیات‌هایی مانند ثبت‌نام کاربر و بازنشانی رمز عبور نیازمند حساب کاربری با نقش از پیش تعریف شده = miniauth-admin می‌باشد.</li></p><p></ul>#### غیرفعال کردن ورود MiniAuth</p><p>اگر فقط قصد دارید از منطق ورود، صفحات و APIهای اختصاصی خود استفاده کنید، می‌توانید مسیر ورود را مشخص کرده و سوییچ ورود MiniAuth را غیرفعال نمایید.</code></pre>C#
// قبل از ثبت سرویس قرار دهید
builder.Services.AddMiniAuth(options: (options) =>
{
    options.LoginPath = "/Identity/Account/Login";
    options.DisableMiniAuthLogin = true;
});
<pre><code class="language-">
#### شخصی‌سازی رشته اتصال پیش‌فرض SQLite
</code></pre>C#
builder.Services.AddMiniAuth(options: (options) =>
{
    options.SqliteConnectionString = "Data Source=miniauth_identity.db";
});
<pre><code class="language-"></p><h3>پایگاه داده سفارشی، کاربران و نقش‌ها</h3></p><p>MiniAuth به طور پیش‌فرض برای کار با SQLite EF Core، IdentityUser و IdentityRole طراحی شده است. اگر نیاز به تغییر دارید، لطفاً پایگاه داده‌های مختلف و کلاس‌های کاربر و نقش خود را با استفاده از جنریک‌ها در </code>app.UseMiniAuth<code> مشخص کنید.
</code></pre>C#
app.UseMiniAuth<YourDbContext, YourIdentityUser, YourIdentityRole>();
<pre><code class="language-"></p><h3>ورود، احراز هویت کاربر</h3></p><p>برای کنترلرهایی که ApiController نیستند، هدایت ورود پیش‌فرض به صفحه login.html است (با بررسی Headers["X-Requested-With"] == "XMLHttpRequest" یا وجود ApiControllerAttribute تعیین می‌شود).
کنترلرهایی که با ApiController علامت‌گذاری شده‌اند، به طور پیش‌فرض به صفحه ورود هدایت نمی‌شوند؛ بلکه کد وضعیت 401 را باز می‌گردانند.</p><h3>رابط کاربری سفارشی</h3></p><ul><li>رابط کاربری داشبورد مدیریت در مسیر </code>/src/Frontend_Identity<code> قرار دارد و عمدتاً از Vue3 + Vite استفاده می‌کند. اجرای </code>npm run build<code> رابط کاربری miniauth را به‌روزرسانی می‌کند.</li>
<li>اگر نمی‌خواهید از صفحه ورود پیش‌فرض miniauth استفاده کنید، MVC به شما اجازه می‌دهد از Login.cshtml اسکفلد شده که توسط identity ارائه شده استفاده کنید یا فایل‌های login.html، js و css را در رابط کاربری miniauth ویرایش کنید.</li></p><p></ul><h3>پیشوند مسیر سفارشی</h3>
</code></pre>
builder.Services.AddMiniAuth(options: (options) =>
{
    options.RoutePrefix = "YourName";
});
<pre><code class="language-">
RoutePrefix پیش‌فرض </code>MiniAuth<code> است.</p><h3>API ورود (JWT)</h3></p><p>آدرس API: </code>/MiniAuth/login<code></p><p>بدنه:
</code></pre>json
{
   "username":"admin@mini-software.github.io",
   "password":"E7c4f679-f379-42bf-b547-684d456bc37f",
   "remember":false
}
<pre><code class="language-">
پاسخ: 
</code></pre>json
{
    "ok": true,
    "code": 200,
    "message": null,
    "data": {
        "tokenType": "Bearer",
        "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyNTc5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.rgAgsziAdLqOC9NYra-M9WQl8BJ99sRdfzRKNkMz9dk",
        "expiresIn": 3600,
        "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyMzk5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.HYBWrM2suDiM4OG0FSlXhNgktZIG9l3ufmIAnwZiIoU"
    }
}
<pre><code class="language-"></p><h3>ثبت‌نام</h3></p><p>لطفاً از API و صفحات ثبت‌نام داخلی ارائه شده توسط ASP.NET Core Identity استفاده کنید.</p><h3>فراموشی رمز عبور</h3></p><p>لطفاً از API و صفحات فراموشی رمز عبور داخلی ارائه شده توسط ASP.NET Core Identity استفاده کنید.</p><h3>دریافت اطلاعات کاربر</h3></p><p>لطفاً برای دریافت اطلاعات کاربر از API‌ها و صفحات داخلی ارائه شده توسط ASP.NET Core Identity استفاده نمایید. توجه داشته باشید که ممکن است بسته به نیاز برنامه خود، نیاز به پیاده‌سازی منطق یا نقاط پایانی اضافی برای نمایش داده‌های مورد نیاز داشته باشید. ASP.NET Core Identity یک چارچوب قدرتمند برای مدیریت اطلاعات کاربر از جمله داده‌های پروفایل، نقش‌ها و claims فراهم می‌کند.</p><h3>نکات</h3></p><p>#### توجه به ترتیب</p><p>لطفاً UseMiniAuth را بعد از تولید مسیرها قرار دهید، در غیر این صورت سیستم نمی‌تواند داده‌های مسیر را برای بررسی دسترسی دریافت کند، مانند زیر:
</code></pre>c#
app.UseRouting();
app.UseMiniAuth();
<pre><code class="language-">
#### توجه: افزودن قوانین نقش</p><p>لطفاً </code>AddRoles<IdentityRole>()<code> را اضافه کنید، در غیر این صورت </code>[Authorize(Roles = "permission")]` اعمال نخواهد شد.
</code></pre>C#
builder.Services.AddDefaultIdentity<IdentityUser>(options => options.SignIn.RequireConfirmedAccount = true)
    .AddRoles<IdentityRole>() // ❗❗❗ 
    .AddEntityFrameworkStores<ApplicationDbContext>();
<pre><code class="language-">
<h3>یکپارچه‌سازی MiniAuth با پروژه Identity موجود با منطق سفارشی</h3></p><p>autoUse مربوط به AddMiniAuth را غیرفعال کنید و UseMiniAuth را بعد از احراز هویت خود قرار دهید و پارامترهای جنریک را با IdentityDBContext، کاربر و احراز هویت مجوز خود جایگزین کنید. یک مثال:
</code></pre>csharp
        public static void Main(string[] args)
        {
            var builder = WebApplication.CreateBuilder(args);</p><p>            var connectionString = builder.Configuration.GetConnectionString("DefaultConnection") ?? throw new InvalidOperationException("Connection string 'DefaultConnection' not found.");
            builder.Services.AddDbContext<ApplicationDbContext>(options =>
                options.UseSqlServer(connectionString));
            builder.Services.AddDatabaseDeveloperPageExceptionFilter();</p><p>            builder.Services.AddDefaultIdentity<IdentityUser>(options => options.SignIn.RequireConfirmedAccount = true)
                .AddRoles<IdentityRole>()
                .AddEntityFrameworkStores<ApplicationDbContext>();</p><p>            builder.Services.AddControllersWithViews();</p><p>            builder.Services.AddMiniAuth(autoUse: false); // <= ❗❗❗</p><p>
            var app = builder.Build();</p><p>            app.UseMiniAuth<ApplicationDbContext, IdentityUser, IdentityRole>();  // <= ❗❗❗ 
            app.MapControllerRoute(
                name: "default",
                pattern: "{controller=Home}/{action=Index}/{id?}");
            app.MapRazorPages();</p><p>            app.Run();
        }
<pre><code class="language-">
این به شما امکان می‌دهد از کاربران، نقش‌ها، پایگاه داده و منطق Identity خود استفاده کنید.</p><p>#### سیستم‌های توزیع‌شده</p><ul><li>برای منابع پایگاه داده، استفاده از پایگاه داده‌هایی مانند SQL Server، MySQL، PostgreSQL و غیره را در نظر بگیرید.</li>
<li>توصیه می‌شود برای یکپارچگی بهتر در محیط توزیع‌شده، به روش‌های احراز هویت مانند JWT تغییر دهید.</li></p><p></ul><h3>یادداشت‌های انتشار</h3></p><p>برای به‌روزرسانی‌ها به <a href="releases" target="_blank" rel="noopener noreferrer">یادداشت‌های انتشار</a> مراجعه کنید.</p><h3>TODO</h3></p><p>لینک: <a href="https://github.com/orgs/mini-software/projects/7/views/1" target="_blank" rel="noopener noreferrer">پروژه MiniAuth.Identify</a></code></pre>

---

Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">Open Ai Tx</a> | Last indexed: 2025-06-11

---</p>
        </div>
        
        <div class="original-link">
            <strong>Original README:</strong> <a href="https://raw.githubusercontent.com/mini-software/MiniAuth/main/README.md" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
    </div>
    
    <div class="footer">
        <p>Translated by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">OpenAiTx</a> | 
        Last updated: 2025-09-16 
    </div>
    
</body>
</html>