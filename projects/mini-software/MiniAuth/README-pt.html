<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MiniAuth - Read MiniAuth documentation in Portuguese. This project has 113 stars on GitHub.</title>
    <meta name="description" content="Read MiniAuth documentation in Portuguese. This project has 113 stars on GitHub.">
    <meta name="keywords" content="MiniAuth, Portuguese, documentation, GitHub, open source">
    <meta name="author" content="OpenAiTx">
    <meta name="robots" content="index, follow">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "MiniAuth",
  "description": "Read MiniAuth documentation in Portuguese. This project has 113 stars on GitHub.",
  "author": {
    "@type": "Person",
    "name": "mini-software"
  },
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "ratingCount": 113
  },
  "url": "https://OpenAiTx.github.io/projects/mini-software/MiniAuth/README-pt.html",
  "sameAs": "https://raw.githubusercontent.com/mini-software/MiniAuth/main/README.md",
  "datePublished": "2025-07-24",
  "dateModified": "2025-07-24"
}
    </script>
    
    <!-- GitHub-style CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #24292e;
            background-color: #ffffff;
            max-width: 980px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .container {
            background: #ffffff;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .header {
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        
        .project-title {
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .project-title a {
            color: #24292e;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color 0.2s ease;
        }
        
        .project-title a:hover {
            color: #0366d6;
            text-decoration: none;
        }
        
        .project-title .github-icon {
            width: 1em;
            height: 1em;
            fill: currentColor;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .project-title a:hover .github-icon {
            opacity: 1;
        }
        
        .project-meta {
            color: #586069;
            font-size: 14px;
            margin-bottom: 16px;
        }
        
        .stars {
            display: inline-block;
            margin-right: 16px;
        }
        
        .language {
            display: inline-block;
            background-color: #f1f8ff;
            color: #0366d6;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .content {
            font-size: 16px;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            color: #24292e;
        }
        
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        
        p {
            margin-bottom: 16px;
        }
        
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        
        a {
            color: #0366d6;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        ul, ol {
            margin-bottom: 16px;
            padding-left: 2em;
        }
        
        li {
            margin-bottom: 0.25em;
        }
        
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 1em;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e1e4e8;
            color: #586069;
            font-size: 14px;
            text-align: center;
        }
        
        .footer a {
            color: #0366d6;
        }
        
        .original-link {
            margin-top: 16px;
            padding: 12px;
            background-color: #f6f8fa;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 16px;
            }
            
            .project-title {
                font-size: 1.5em;
            }
        }
    </style>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Bing Count -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sh95yd6uwt");
    </script>        

    <!-- Statcounter -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="project-title">
                <a href="https://github.com/mini-software/MiniAuth" target="_blank" rel="noopener noreferrer">
                    <svg class="github-icon" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                    </svg>
                    MiniAuth
                </a>
            </h1>
            <div class="project-meta">
                <span class="stars">⭐ 113 stars</span>
                <span class="language">Portuguese</span>
                <span>by mini-software</span>
            </div>
        </div>
        
        <div class="content">
            <p><div align="center">
<p><a href="https://www.nuget.org/packages/MiniAuth"><img src="https://img.shields.io/nuget/v/MiniAuth.svg" alt="NuGet"></a>  <a href="https://www.nuget.org/packages/MiniAuth"><img src="https://img.shields.io/nuget/dt/MiniAuth.svg" alt=""></a>  
<a href="https://gitee.com/shps951023/MiniAuth"><img src="https://gitee.com/shps951023/MiniAuth/badge/star.svg" alt="star"></a> <a href="https://github.com/Mini-Software/MiniAuth" rel="nofollow"><img src="https://img.shields.io/github/stars/Mini-Software/MiniAuth?logo=github" alt="GitHub stars"></a> <a href="https://www.nuget.org/packages/MiniAuth"><img src="https://img.shields.io/badge/.NET-%3E%3D%206.0-red.svg" alt="version"></a>
</p>
</div></p><hr></p><p><div align="center">
<p><strong>
    <a href="README.md">English</a> | <a href="README.zh-CN.md">简体中文</a> | <a href="README.zh-Hant.md">繁體中文</a> | <a href="README.ja.md">日本語</a> | <a href="README.ko.md">한국어</a> | <a href="README.es.md">Español</a>  
</strong></p>
</div></p><hr></p><p><div align="center">
 Seu <a href="https://github.com/mini-software/miniauth">Star</a>, <a href="https://miniexcel.github.io/">Doação</a>, <a href="https://www.linkedin.com/in/itweihan/">Recomendação</a> pode tornar o MiniAuth melhor 
</div></p><h3>Introdução</h3></p><p>"Uma linha de código" adiciona gerenciamento de usuários/papéis (role) do asp.net core identity web para seus projetos novos/antigos</p><p><table>
    <tr>
        <td><img src="https://github.com/mini-software/MiniExcel/assets/12729184/d2aec694-158d-4ebc-bd8b-0e9ae1f855ac" alt="Imagem 1"></td>
        <td><img src="https://github.com/mini-software/MiniAuth/assets/12729184/2f791e25-9158-495e-9383-4fbedf9b982b" alt="Imagem 2"></td>
    </tr>
    <tr>
        <td><img src="https://github.com/mini-software/MiniAuth/assets/12729184/03d72ed7-8fb9-465f-9093-24b00279eeb2" alt="Imagem 3"></td>
        <td><img src="https://github.com/mini-software/MiniAuth/assets/12729184/841df179-7e5f-481a-9039-46738b20aa2e" alt="Imagem 4"></td>
    </tr>
</table></p><h3>Funcionalidades</h3></p><ul><li>Compatibilidade: Suporta .NET Identity baseado em JWT, Cookie, Session, etc.</li>
<li>Simples: Design plug-and-play, API, SPA, MVC, Razor Page, etc.</li>
<li>Suporta múltiplos bancos de dados: Suporta Oracle, SQL Server, MySQL, etc. via EF Core</li>
<li>Não intrusivo: Não afeta bancos de dados ou estruturas de projetos existentes</li>
<li>Multi-plataforma: Suporta ambientes Linux, macOS</li></p><p></ul><h3>Instalação</h3></p><p>Instale o pacote pelo NuGet</p><h3>Início Rápido</h3></p><p>Adicione uma única linha de código <code>services.AddMiniAuth()</code> no Startup e execute seu projeto. Exemplo:</p><pre><code class="language-csharp">public class Program
{
    public static void Main(string[] args)
    {
        var builder = WebApplication.CreateBuilder(args);</p><p>        builder.Services.AddMiniAuth(); // <= ❗❗❗</p><p>        var app = builder.Build();
        app.Run();
    }
}</code></pre></p><p>A conta padrão de administrador é <code>admin@mini-software.github.io</code> com a senha <code>E7c4f679-f379-42bf-b547-684d456bc37f</code> (lembre-se de alterar a senha). A página de administração pode ser acessada em <code>http(s)://seuhost/miniauth/index.html</code>.</p><p>Adicione <code>[Authorize]</code> às categorias ou métodos que exigem gerenciamento de permissão, ou controle por papel <code>[Authorize(Roles = "role")]</code>. Retorna status 401 se não estiver logado, e retorna status 403 se não houver permissão.</p><h3>MiniAuth Cookie Identity</h3></p><p>O MiniAuth vem pré-configurado como identidade baseada em Cookie único, por favor, altere para JWT, etc., para projetos com separação entre frontend e backend.</p><h3>MiniAuth JWT Identity</h3></p><p>Configurando AuthenticationType = BearerJwt</p><p>``<code>C#
builder.Services.AddMiniAuth(options:(options) =>
{
    options.AuthenticationType = MiniAuthOptions.AuthType.BearerJwt;
});
<pre><code class="language-">
Lembre-se de definir uma nova chave de segurança JWT, por exemplo:
</code></pre>C#
builder.Services.AddMiniAuth(options: (options) =>
{
    options.JWTKey = new SymmetricSecurityKey(Encoding.UTF8.GetBytes("6ee3edbf-488e-4484-9c2c-e3ffa6dcbc09"));
});
<pre><code class="language-">
#### Obtendo o token</p><p>Exemplo de XHR em Javascript no frontend
</code></pre>javascript
var data = JSON.stringify({
  "username": "admin@mini-software.github.io",
  "password": "E7c4f679-f379-42bf-b547-684d456bc37f",
  "remember": false
});
var xhr = new XMLHttpRequest();
xhr.withCredentials = true;
xhr.addEventListener("readystatechange", function() {
  if(this.readyState === 4) {
    console.log(this.responseText);
  }
});
xhr.open("POST", "http://seuhost/miniauth/login");
xhr.setRequestHeader("Content-Type", "application/json");
xhr.send(data);
<pre><code class="language-">
resposta
</code></pre>json
{
    "ok": true,
    "code": 200,
    "message": null,
    "data": {
        "tokenType": "Bearer",
        "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiJhZG1pbkBtaW5pLXNvZnR3YXJlLmdpdGh1Yi5pbyIsIm5iZiI6MTcxODIwNDg5NSwiZXhwIjoxNzE4MjA1Nzk1LCJpYXQiOjE3MTgyMDQ4OTUsImlzcyI6Ik1pbmlBdXRoIn0._-DQ_rcbeju8_nrK2lD5we0rre04_xdDZNF6NhM0Rg0",
        "expiresIn": 900
    }
}
<pre><code class="language-">
Salve o </code>accessToken<code> no localstorage ou em um cookie. Ao chamar sua API com [Authorize], defina o </code>Header Authorization<code> como </code>Bearer + espaço + accessToken<code>, e o sistema fará a verificação automaticamente.</p><p>Exemplo:
</code></pre>js
var xhr = new XMLHttpRequest();
xhr.withCredentials = true;
xhr.addEventListener("readystatechange", function() {
  if(this.readyState === 4) {
    console.log(this.responseText);
  }
});
xhr.open("GET", "http://seuhost:5014/sua/api");
xhr.setRequestHeader("Authorization", "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiJhZG1pbkBtaW5pLXNvZnR3YXJlLmdpdGh1Yi5pbyIsIm5iZiI6MTcxODIwNDg5NSwiZXhwIjoxNzE4MjA1Nzk1LCJpYXQiOjE3MTgyMDQ4OTUsImlzcyI6Ik1pbmlBdXRoIn0._-DQ_rcbeju8_nrK2lD5we0rre04_xdDZNF6NhM0Rg0");
xhr.send();
<pre><code class="language-"></p><p>
#### Definir Tempo de Expiração
</code></pre>c#
options.TokenExpiresIn = 30 * 60; 
<pre><code class="language-">
A unidade é em segundos, com configuração padrão de 30 minutos. Além disso, observe que o .NET JWT ClockSkew em JwtBearerOptions está pré-configurado para adicionar mais 5 minutos <a href="https://stackoverflow.com/questions/43045035/jwt-token-authentication-expired-tokens-still-working-net-core-web-api" target="_blank" rel="noopener noreferrer">motivo</a>.</p><p>#### API de Refresh Token (JWT)</p><p>API : </code>/MiniAuth/refreshToken<code>
Body:
</code></pre>json
{
   "refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyMzk5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.HYBWrM2suDiM4OG0FSlXhNgktZIG9l3ufmIAnwZiIoU"
}
<pre><code class="language-">Header:</code></pre>
Authorization:Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyNTc5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.rgAgsziAdLqOC9NYra-M9WQl8BJ99sRdfzRKNkMz9dk
<pre><code class="language-">O tempo de expiração é definido como </code>MiniAuthOptions.TokenExpiresIn / 2<code>, com padrão de 30 minutos.</p><h3>Configurações, Opções, Personalização</h3></p><p>#### Modo Padrão</p><ul><li>O modo padrão do MiniAuth é o gerenciamento centralizado de usuários por administradores de TI. Operações como registro de usuários e redefinição de senha exigem uma conta de administrador com o papel pré-definido = miniauth-admin.</li></p><p></ul>#### Desabilitar Login MiniAuth</p><p>Se você deseja usar apenas sua própria lógica de login, páginas e APIs, pode especificar o caminho de login e desabilitar o login do MiniAuth.</code></pre>C#
// Coloque antes do registro do serviço 
builder.Services.AddMiniAuth(options: (options) =>
{
    options.LoginPath = "/Identity/Account/Login";
    options.DisableMiniAuthLogin = true;
});
<pre><code class="language-">
#### Personalizar a String de Conexão SQLite Padrão
</code></pre>C#
builder.Services.AddMiniAuth(options: (options) =>
{
    options.SqliteConnectionString = "Data Source=miniauth_identity.db";
});
<pre><code class="language-"></p><h3>Banco de Dados, Usuários e Papéis Personalizados</h3></p><p>O MiniAuth foi projetado para funcionar perfeitamente com SQLite EF Core, IdentityUser e IdentityRole por padrão. Se precisar mudar, especifique diferentes bancos de dados e suas próprias classes de usuário e papel usando genéricos em </code>app.UseMiniAuth<code>.
</code></pre>C#
app.UseMiniAuth<YourDbContext, YourIdentityUser, YourIdentityRole>();
<pre><code class="language-"></p><h3>Login, Autenticação de Usuário</h3></p><p>Para non-ApiController, o redirecionamento de login padrão é para a página login.html (determinado verificando se Headers["X-Requested-With"] == "XMLHttpRequest" ou pela presença do ApiControllerAttribute).
Controllers marcados como ApiController não redirecionam para uma página de login por padrão; em vez disso, retornam um código de status 401.</p><h3>Frontend Personalizado</h3></p><ul><li>O frontend do painel de administração está localizado em </code>/src/Frontend_Identity<code> e utiliza principalmente Vue3 + Vite. Executar </code>npm run build<code> atualizará a interface do MiniAuth.</li>
<li>Se você não quiser usar a página de login padrão do MiniAuth, o MVC permite utilizar o Login.cshtml gerado pelo scaffold do identity ou modificar os arquivos login.html, js e css do frontend do MiniAuth.</li></p><p></ul><h3>Prefixo de Rota Personalizado</h3>
</code></pre>
builder.Services.AddMiniAuth(options: (options) =>
{
    options.RoutePrefix = "YourName";
});
<pre><code class="language-">
O RoutePrefix padrão é </code>MiniAuth<code>.</p><h3>API de Login (JWT)</h3></p><p>API: </code>/MiniAuth/login<code></p><p>Corpo:
</code></pre>json
{
   "username":"admin@mini-software.github.io",
   "password":"E7c4f679-f379-42bf-b547-684d456bc37f",
   "remember":false
}
<pre><code class="language-">
Resposta: 
</code></pre>json
{
    "ok": true,
    "code": 200,
    "message": null,
    "data": {
        "tokenType": "Bearer",
        "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyNTc5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.rgAgsziAdLqOC9NYra-M9WQl8BJ99sRdfzRKNkMz9dk",
        "expiresIn": 3600,
        "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyMzk5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.HYBWrM2suDiM4OG0FSlXhNgktZIG9l3ufmIAnwZiIoU"
    }
}
<pre><code class="language-"></p><h3>Registro</h3></p><p>Por favor, utilize a API e as páginas de registro integradas fornecidas pelo ASP.NET Core Identity.</p><h3>Esqueci a Senha</h3></p><p>Por favor, utilize a API e as páginas de recuperação de senha integradas fornecidas pelo ASP.NET Core Identity.</p><h3>Obter Informações do Usuário</h3></p><p>Por favor, utilize as APIs e páginas integradas fornecidas pelo ASP.NET Core Identity para recuperar informações do usuário. Observe que pode ser necessário implementar lógica ou endpoints adicionais para expor os dados necessários do usuário, dependendo das necessidades específicas da sua aplicação. O ASP.NET Core Identity fornece uma estrutura robusta para gerenciamento de informações do usuário, incluindo dados de perfil, papéis e claims.</p><h3>Observações</h3></p><p>#### Atenção à Ordem</p><p>Por favor, coloque o UseMiniAuth após a geração das rotas, caso contrário, o sistema não poderá obter dados de roteamento para verificações de permissão, conforme segue:
</code></pre>c#
app.UseRouting();
app.UseMiniAuth();
<pre><code class="language-">
#### Atenção: Adicione Regras de Papel</p><p>Por favor, adicione </code>AddRoles<IdentityRole>()<code>, caso contrário </code>[Authorize(Roles = "permission")]` não terá efeito.
</code></pre>C#
builder.Services.AddDefaultIdentity<IdentityUser>(options => options.SignIn.RequireConfirmedAccount = true)
    .AddRoles<IdentityRole>() // ❗❗❗ 
    .AddEntityFrameworkStores<ApplicationDbContext>();
<pre><code class="language-">
<h3>Integrando MiniAuth em um Projeto Identity Existente com Lógica Personalizada</h3></p><p>Desabilite o autoUse do AddMiniAuth e coloque o UseMiniAuth após sua própria autenticação, substituindo os parâmetros genéricos pelo seu IdentityDBContext, usuário e autenticação de permissão. Veja um exemplo:
</code></pre>csharp
        public static void Main(string[] args)
        {
            var builder = WebApplication.CreateBuilder(args);</p><p>            var connectionString = builder.Configuration.GetConnectionString("DefaultConnection") ?? throw new InvalidOperationException("Connection string 'DefaultConnection' not found.");
            builder.Services.AddDbContext<ApplicationDbContext>(options =>
                options.UseSqlServer(connectionString));
            builder.Services.AddDatabaseDeveloperPageExceptionFilter();</p><p>            builder.Services.AddDefaultIdentity<IdentityUser>(options => options.SignIn.RequireConfirmedAccount = true)
                .AddRoles<IdentityRole>()
                .AddEntityFrameworkStores<ApplicationDbContext>();</p><p>            builder.Services.AddControllersWithViews();</p><p>            builder.Services.AddMiniAuth(autoUse: false); // <= ❗❗❗</p><p>
            var app = builder.Build();</p><p>            app.UseMiniAuth<ApplicationDbContext, IdentityUser, IdentityRole>();  // <= ❗❗❗ 
            app.MapControllerRoute(
                name: "default",
                pattern: "{controller=Home}/{action=Index}/{id?}");
            app.MapRazorPages();</p><p>            app.Run();
        }
<pre><code class="language-">
Isso permite alternar entre o uso dos seus próprios usuários, papéis, banco de dados e lógica do Identity.</p><p>#### Sistemas Distribuídos</p><ul><li>Para fontes de banco de dados, considere a troca para bancos como SQL Server, MySQL, PostgreSQL, etc.</li>
<li>Recomenda-se trocar para métodos de autenticação como JWT para melhor integração em ambientes distribuídos.</li></p><p></ul><h3>Notas de Lançamento</h3></p><p>Consulte as <a href="https://raw.githubusercontent.com/mini-software/MiniAuth/main/releases" target="_blank" rel="noopener noreferrer">Notas de Lançamento</a> para atualizações.</p><h3>TODO</h3></p><p>Link: <a href="https://github.com/orgs/mini-software/projects/7/views/1" target="_blank" rel="noopener noreferrer">Projeto MiniAuth.Identify</a></code></pre>

---

Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">Open Ai Tx</a> | Last indexed: 2025-06-11

---</p>
        </div>
        
        <div class="original-link">
            <strong>Original README:</strong> <a href="https://raw.githubusercontent.com/mini-software/MiniAuth/main/README.md" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
    </div>
    
    <div class="footer">
        <p>Translated by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">OpenAiTx</a> | 
        Last updated: 2025-07-24 
    </div>
    
</body>
</html>