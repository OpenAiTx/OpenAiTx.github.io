<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MiniAuth - Read MiniAuth documentation in Arabic. This project has 113 stars on GitHub.</title>
    <meta name="description" content="Read MiniAuth documentation in Arabic. This project has 113 stars on GitHub.">
    <meta name="keywords" content="MiniAuth, Arabic, documentation, GitHub, open source">
    <meta name="author" content="OpenAiTx">
    <meta name="robots" content="index, follow">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "MiniAuth",
  "description": "Read MiniAuth documentation in Arabic. This project has 113 stars on GitHub.",
  "author": {
    "@type": "Person",
    "name": "mini-software"
  },
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "ratingCount": 113
  },
  "url": "https://OpenAiTx.github.io/projects/mini-software/MiniAuth/README-ar.html",
  "sameAs": "https://raw.githubusercontent.com/mini-software/MiniAuth/main/README.md",
  "datePublished": "2025-07-24",
  "dateModified": "2025-07-24"
}
    </script>
    
    <!-- GitHub-style CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #24292e;
            background-color: #ffffff;
            max-width: 980px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .container {
            background: #ffffff;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .header {
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        
        .project-title {
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .project-title a {
            color: #24292e;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color 0.2s ease;
        }
        
        .project-title a:hover {
            color: #0366d6;
            text-decoration: none;
        }
        
        .project-title .github-icon {
            width: 1em;
            height: 1em;
            fill: currentColor;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .project-title a:hover .github-icon {
            opacity: 1;
        }
        
        .project-meta {
            color: #586069;
            font-size: 14px;
            margin-bottom: 16px;
        }
        
        .stars {
            display: inline-block;
            margin-right: 16px;
        }
        
        .language {
            display: inline-block;
            background-color: #f1f8ff;
            color: #0366d6;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .content {
            font-size: 16px;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            color: #24292e;
        }
        
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        
        p {
            margin-bottom: 16px;
        }
        
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        
        a {
            color: #0366d6;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        ul, ol {
            margin-bottom: 16px;
            padding-left: 2em;
        }
        
        li {
            margin-bottom: 0.25em;
        }
        
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 1em;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e1e4e8;
            color: #586069;
            font-size: 14px;
            text-align: center;
        }
        
        .footer a {
            color: #0366d6;
        }
        
        .original-link {
            margin-top: 16px;
            padding: 12px;
            background-color: #f6f8fa;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 16px;
            }
            
            .project-title {
                font-size: 1.5em;
            }
        }
    </style>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Bing Count -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sh95yd6uwt");
    </script>        

    <!-- Statcounter -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="project-title">
                <a href="https://github.com/mini-software/MiniAuth" target="_blank" rel="noopener noreferrer">
                    <svg class="github-icon" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                    </svg>
                    MiniAuth
                </a>
            </h1>
            <div class="project-meta">
                <span class="stars">⭐ 113 stars</span>
                <span class="language">Arabic</span>
                <span>by mini-software</span>
            </div>
        </div>
        
        <div class="content">
            <p><div align="center">
<p><a href="https://www.nuget.org/packages/MiniAuth"><img src="https://img.shields.io/nuget/v/MiniAuth.svg" alt="NuGet"></a>  <a href="https://www.nuget.org/packages/MiniAuth"><img src="https://img.shields.io/nuget/dt/MiniAuth.svg" alt=""></a>  
<a href="https://gitee.com/shps951023/MiniAuth"><img src="https://gitee.com/shps951023/MiniAuth/badge/star.svg" alt="star"></a> <a href="https://github.com/Mini-Software/MiniAuth" rel="nofollow"><img src="https://img.shields.io/github/stars/Mini-Software/MiniAuth?logo=github" alt="GitHub stars"></a> <a href="https://www.nuget.org/packages/MiniAuth"><img src="https://img.shields.io/badge/.NET-%3E%3D%206.0-red.svg" alt="version"></a>
</p>
</div></p><hr></p><p><div align="center">
<p><strong>
    <a href="README.md">English</a> | <a href="README.zh-CN.md">简体中文</a> | <a href="README.zh-Hant.md">繁體中文</a> | <a href="README.ja.md">日本語</a> | <a href="README.ko.md">한국어</a> | <a href="README.es.md">Español</a>  
</strong></p>
</div></p><hr></p><p><div align="center">
 نجمك على <a href="https://github.com/mini-software/miniauth">GitHub</a>، تبرعك عبر <a href="https://miniexcel.github.io/">Donate</a>، وتوصيتك عبر <a href="https://www.linkedin.com/in/itweihan/">LinkedIn</a> يمكن أن تجعل MiniAuth أفضل 
</div></p><h3>المقدمة</h3></p><p>"سطر واحد من الكود" يضيف إدارة مستخدم/دور هوية asp.net core لتطبيق الويب في مشاريعك الجديدة أو القديمة</p><p><table>
    <tr>
        <td><img src="https://github.com/mini-software/MiniExcel/assets/12729184/d2aec694-158d-4ebc-bd8b-0e9ae1f855ac" alt="Image 1"></td>
        <td><img src="https://github.com/mini-software/MiniAuth/assets/12729184/2f791e25-9158-495e-9383-4fbedf9b982b" alt="Image 2"></td>
    </tr>
    <tr>
        <td><img src="https://github.com/mini-software/MiniAuth/assets/12729184/03d72ed7-8fb9-465f-9093-24b00279eeb2" alt="Image 3"></td>
        <td><img src="https://github.com/mini-software/MiniAuth/assets/12729184/841df179-7e5f-481a-9039-46738b20aa2e" alt="Image 4"></td>
    </tr>
</table></p><h3>الميزات</h3></p><ul><li>التوافق: يدعم هوية .NET على أساس JWT، الكوكيز، الجلسة، إلخ.</li>
<li>بسيط: تصميم جاهز للتوصيل والتشغيل، يدعم API، SPA، MVC، Razor Page، إلخ.</li>
<li>يدعم قواعد بيانات متعددة: يدعم Oracle، SQL Server، MySQL، إلخ عبر EF Core</li>
<li>غير تدخلي: لا يؤثر على قواعد البيانات أو هياكل المشاريع الحالية</li>
<li>متعدد المنصات: يدعم بيئات Linux وmacOS</li></p><p></ul><h3>التثبيت</h3></p><p>قم بتثبيت الحزمة من NuGet</p><h3>بداية سريعة</h3></p><p>أضف سطر كود واحد <code>services.AddMiniAuth()</code> في Startup، ثم شغل مشروعك. مثال:</p><pre><code class="language-csharp">public class Program
{
    public static void Main(string[] args)
    {
        var builder = WebApplication.CreateBuilder(args);</p><p>        builder.Services.AddMiniAuth(); // <= ❗❗❗</p><p>        var app = builder.Build();
        app.Run();
    }
}</code></pre></p><p>حساب المدير الافتراضي هو <code>admin@mini-software.github.io</code> وكلمة المرور <code>E7c4f679-f379-42bf-b547-684d456bc37f</code> (تذكر تغيير كلمة المرور). يمكنك الدخول إلى صفحة الإدارة عبر <code>http(s)://yourhost/miniauth/index.html</code>.</p><p>أضف <code>[Authorize]</code> إلى الأقسام أو الدوال التي تتطلب إدارة الصلاحيات، أو تحكم الدور <code>[Authorize(Roles = "role")]</code>، حيث يتم إرجاع الحالة 401 إذا لم يتم تسجيل الدخول، ويتم إرجاع الحالة 403 إذا لم تتوفر الصلاحية.</p><h3>MiniAuth هوية الكوكيز</h3></p><p>تم ضبط MiniAuth مسبقًا كهُوية تعتمد على الكوكيز، يرجى التغيير إلى JWT أو غيره إذا كان مشروعك بفصل بين الواجهة الأمامية والخلفية.</p><h3>MiniAuth  هوية JWT</h3></p><p>تعيين AuthenticationType = BearerJwt</p><p>``<code>C#
builder.Services.AddMiniAuth(options:(options) =>
{
    options.AuthenticationType = MiniAuthOptions.AuthType.BearerJwt;
});
<pre><code class="language-">
يرجى تذكر تعيين مفتاح أمان JWT جديد، على سبيل المثال:
</code></pre>C#
builder.Services.AddMiniAuth(options: (options) =>
{
    options.JWTKey = new SymmetricSecurityKey(Encoding.UTF8.GetBytes("6ee3edbf-488e-4484-9c2c-e3ffa6dcbc09"));
});
<pre><code class="language-">
#### الحصول على التوكن</p><p>مثال XHR في جافاسكريبت للواجهة الأمامية
</code></pre>javascript
var data = JSON.stringify({
  "username": "admin@mini-software.github.io",
  "password": "E7c4f679-f379-42bf-b547-684d456bc37f",
  "remember": false
});
var xhr = new XMLHttpRequest();
xhr.withCredentials = true;
xhr.addEventListener("readystatechange", function() {
  if(this.readyState === 4) {
    console.log(this.responseText);
  }
});
xhr.open("POST", "http://yourhost/miniauth/login");
xhr.setRequestHeader("Content-Type", "application/json");
xhr.send(data);
<pre><code class="language-">
الاستجابة
</code></pre>json
{
    "ok": true,
    "code": 200,
    "message": null,
    "data": {
        "tokenType": "Bearer",
        "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiJhZG1pbkBtaW5pLXNvZnR3YXJlLmdpdGh1Yi5pbyIsIm5iZiI6MTcxODIwNDg5NSwiZXhwIjoxNzE4MjA1Nzk1LCJpYXQiOjE3MTgyMDQ4OTUsImlzcyI6Ik1pbmlBdXRoIn0._-DQ_rcbeju8_nrK2lD5we0rre04_xdDZNF6NhM0Rg0",
        "expiresIn": 900
    }
}
<pre><code class="language-">
احفظ الـ </code>accessToken<code> في localstorage أو ككوكي. عند استدعاء API المؤمنة بـ [Authorize]، قم بتعيين الـ </code>Header Authorization<code> إلى </code>Bearer + مسافة + accessToken<code>، وسيتم التحقق تلقائيًا.</p><p>مثال:
</code></pre>js
var xhr = new XMLHttpRequest();
xhr.withCredentials = true;
xhr.addEventListener("readystatechange", function() {
  if(this.readyState === 4) {
    console.log(this.responseText);
  }
});
xhr.open("GET", "http://yourhost:5014/your/api");
xhr.setRequestHeader("Authorization", "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1laWQiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiJhZG1pbkBtaW5pLXNvZnR3YXJlLmdpdGh1Yi5pbyIsIm5iZiI6MTcxODIwNDg5NSwiZXhwIjoxNzE4MjA1Nzk1LCJpYXQiOjE3MTgyMDQ4OTUsImlzcyI6Ik1pbmlBdXRoIn0._-DQ_rcbeju8_nrK2lD5we0rre04_xdDZNF6NhM0Rg0");
xhr.send();
<pre><code class="language-"></p><p>
#### تعيين مدة انتهاء الصلاحية
</code></pre>c#
options.TokenExpiresIn = 30 * 60; 
<pre><code class="language-">
الوحدة بالثواني، والإعداد الافتراضي 30 دقيقة. لاحظ أيضًا أن .NET JWT ClockSkew في JwtBearerOptions مضبوط مسبقًا لإضافة 5 دقائق إضافية <a href="https://stackoverflow.com/questions/43045035/jwt-token-authentication-expired-tokens-still-working-net-core-web-api" target="_blank" rel="noopener noreferrer">السبب</a>.</p><p>#### API لتحديث التوكن (JWT)</p><p>API : </code>/MiniAuth/refreshToken<code>
المحتوى:
</code></pre>json
{
   "refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyMzk5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.HYBWrM2suDiM4OG0FSlXhNgktZIG9l3ufmIAnwZiIoU"
}
<pre><code class="language-">الهيدر:</code></pre>
Authorization:Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyNTc5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.rgAgsziAdLqOC9NYra-M9WQl8BJ99sRdfzRKNkMz9dk
<pre><code class="language-">مدة الانتهاء مضبوطة على </code>MiniAuthOptions.TokenExpiresIn / 2<code>، والقيمة الافتراضية 30 دقيقة.</p><h3>الإعدادات، الخيارات، التخصيص</h3></p><p>#### الوضع الافتراضي</p><ul><li>الوضع الافتراضي لـ MiniAuth هو إدارة مركزية للمستخدمين من قبل مسؤولي تكنولوجيا المعلومات. عمليات مثل تسجيل المستخدم وإعادة تعيين كلمة المرور تتطلب حساب مدير مع الدور المحدد مسبقًا = miniauth-admin.</li></p><p></ul>#### تعطيل تسجيل الدخول عبر MiniAuth</p><p>إذا كنت ترغب فقط في استخدام منطق تسجيل الدخول الخاص بك، والصفحات، وواجهات API، يمكنك تحديد مسار تسجيل الدخول وإيقاف تشغيل تسجيل الدخول عبر MiniAuth.</code></pre>C#
// ضع هذا قبل تسجيل الخدمة
builder.Services.AddMiniAuth(options: (options) =>
{
    options.LoginPath = "/Identity/Account/Login";
    options.DisableMiniAuthLogin = true;
});
<pre><code class="language-">
#### تخصيص سلسلة الاتصال الافتراضية لـ SQLite
</code></pre>C#
builder.Services.AddMiniAuth(options: (options) =>
{
    options.SqliteConnectionString = "Data Source=miniauth_identity.db";
});
<pre><code class="language-"></p><h3>قاعدة بيانات مخصصة، المستخدمون، والأدوار</h3></p><p>تم تصميم MiniAuth للعمل بسلاسة مع SQLite EF Core، وIdentityUser، وIdentityRole بشكل افتراضي. إذا كنت بحاجة إلى التبديل، يرجى تحديد قواعد بيانات مختلفة وفئات المستخدم والدور الخاصة بك باستخدام Generics في </code>app.UseMiniAuth<code>.
</code></pre>C#
app.UseMiniAuth<YourDbContext, YourIdentityUser, YourIdentityRole>();
<pre><code class="language-"></p><h3>تسجيل الدخول، مصادقة المستخدم</h3></p><p>بالنسبة لغير ApiController، فإن إعادة التوجيه الافتراضية لتسجيل الدخول تكون إلى صفحة login.html (يتم تحديد ذلك من خلال التحقق من Headers["X-Requested-With"] == "XMLHttpRequest" أو وجود ApiControllerAttribute).
المتحكمات التي تم تعليمها بـ ApiController لا تعيد التوجيه إلى صفحة تسجيل الدخول افتراضيًا؛ بل تعيد رمز الحالة 401.</p><h3>واجهة أمامية مخصصة</h3></p><ul><li>توجد واجهة لوحة تحكم المشرف في </code>/src/Frontend_Identity<code> وتستخدم بشكل رئيسي Vue3 + Vite. عند تشغيل </code>npm run build<code> سيتم تحديث واجهة miniauth.</li>
<li>إذا لم ترغب في استخدام صفحة تسجيل الدخول الافتراضية لـ miniauth، يسمح لك MVC باستخدام Login.cshtml الذي توفره الهوية أو يمكنك تعديل ملفات login.html وjs وcss في الواجهة الأمامية لـ miniauth.</li></p><p></ul><h3>بادئة مسار مخصصة</h3>
</code></pre>
builder.Services.AddMiniAuth(options: (options) =>
{
    options.RoutePrefix = "YourName";
});
<pre><code class="language-">
بادئة المسار الافتراضية هي </code>MiniAuth<code>.</p><h3>واجهة برمجة تطبيقات تسجيل الدخول (JWT)</h3></p><p>API: </code>/MiniAuth/login<code></p><p>Body:
</code></pre>json
{
   "username":"admin@mini-software.github.io",
   "password":"E7c4f679-f379-42bf-b547-684d456bc37f",
   "remember":false
}
<pre><code class="language-">
الاستجابة: 
</code></pre>json
{
    "ok": true,
    "code": 200,
    "message": null,
    "data": {
        "tokenType": "Bearer",
        "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYW1lIjoiYWRtaW5AbWluaS1zb2Z0d2FyZS5naXRodWIuaW8iLCJyb2xlIjoibWluaWF1dGgtYWRtaW4iLCJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyNTc5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.rgAgsziAdLqOC9NYra-M9WQl8BJ99sRdfzRKNkMz9dk",
        "expiresIn": 3600,
        "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxZTIxOGY4My1iZjE3LTRhY2YtODhmOS1iOTQ3NjhjOWUwMGMiLCJuYmYiOjE3MTg1MjIxOTEsImV4cCI6MTcxODUyMzk5MSwiaWF0IjoxNzE4NTIyMTkxLCJpc3MiOiJNaW5pQXV0aCJ9.HYBWrM2suDiM4OG0FSlXhNgktZIG9l3ufmIAnwZiIoU"
    }
}
<pre><code class="language-"></p><h3>التسجيل</h3></p><p>يرجى استخدام واجهات برمجة التطبيقات والصفحات المدمجة للتسجيل التي يوفرها ASP.NET Core Identity.</p><h3>نسيت كلمة المرور</h3></p><p>يرجى استخدام واجهات برمجة التطبيقات والصفحات المدمجة لنسيان كلمة المرور التي يوفرها ASP.NET Core Identity.</p><h3>الحصول على معلومات المستخدم</h3></p><p>يرجى استخدام واجهات برمجة التطبيقات والصفحات المدمجة التي يوفرها ASP.NET Core Identity لاسترداد معلومات المستخدم. لاحظ أنه قد تحتاج إلى تنفيذ منطق إضافي أو نقاط نهاية للكشف عن بيانات المستخدم المطلوبة، حسب احتياجات تطبيقك المحددة. يوفر ASP.NET Core Identity إطار عمل قوي لإدارة معلومات المستخدم، بما في ذلك بيانات الملف الشخصي، والأدوار، والمطالبات.</p><h3>ملاحظات</h3></p><p>#### الانتباه للترتيب</p><p>يرجى وضع UseMiniAuth بعد توليد المسارات، وإلا فلن يتمكن النظام من الحصول على بيانات المسارات لفحص الأذونات، كما يلي:
</code></pre>c#
app.UseRouting();
app.UseMiniAuth();
<pre><code class="language-">
#### انتبه: يرجى إضافة قواعد الدور</p><p>يرجى إضافة </code>AddRoles<IdentityRole>()<code>، وإلا لن تعمل </code>[Authorize(Roles = "permission")]`.
</code></pre>C#
builder.Services.AddDefaultIdentity<IdentityUser>(options => options.SignIn.RequireConfirmedAccount = true)
    .AddRoles<IdentityRole>() // ❗❗❗ 
    .AddEntityFrameworkStores<ApplicationDbContext>();
<pre><code class="language-">
<h3>دمج MiniAuth في مشروع Identity قائم مع منطق مخصص</h3></p><p>عطّل autoUse في AddMiniAuth، وضع UseMiniAuth بعد المصادقة الخاصة بك، وبدّل المعاملات الجنريك بـ IdentityDBContext الخاص بك، والمستخدم، ومصادقة الأذونات الخاصة بك. إليك مثال:
</code></pre>csharp
        public static void Main(string[] args)
        {
            var builder = WebApplication.CreateBuilder(args);</p><p>            var connectionString = builder.Configuration.GetConnectionString("DefaultConnection") ?? throw new InvalidOperationException("Connection string 'DefaultConnection' not found.");
            builder.Services.AddDbContext<ApplicationDbContext>(options =>
                options.UseSqlServer(connectionString));
            builder.Services.AddDatabaseDeveloperPageExceptionFilter();</p><p>            builder.Services.AddDefaultIdentity<IdentityUser>(options => options.SignIn.RequireConfirmedAccount = true)
                .AddRoles<IdentityRole>()
                .AddEntityFrameworkStores<ApplicationDbContext>();</p><p>            builder.Services.AddControllersWithViews();</p><p>            builder.Services.AddMiniAuth(autoUse: false); // <= ❗❗❗</p><p>
            var app = builder.Build();</p><p>            app.UseMiniAuth<ApplicationDbContext, IdentityUser, IdentityRole>();  // <= ❗❗❗ 
            app.MapControllerRoute(
                name: "default",
                pattern: "{controller=Home}/{action=Index}/{id?}");
            app.MapRazorPages();</p><p>            app.Run();
        }
<pre><code class="language-">
يسمح لك هذا بالتبديل بين استخدام المستخدمين، الأدوار، قاعدة البيانات، ومنطق الهوية الخاص بك.</p><p>#### الأنظمة الموزعة</p><ul><li>لمصادر قاعدة البيانات، ضع في اعتبارك التبديل إلى قواعد بيانات مثل SQL Server، MySQL، PostgreSQL، إلخ.</li>
<li>يوصى بالتبديل إلى طرق مصادقة مثل JWT لدمج أفضل في بيئة موزعة.</li></p><p></ul><h3>ملاحظات الإصدار</h3></p><p>راجع <a href="https://raw.githubusercontent.com/mini-software/MiniAuth/main/releases" target="_blank" rel="noopener noreferrer">ملاحظات الإصدار</a> للتحديثات.</p><h3>TODO</h3></p><p>الرابط: <a href="https://github.com/orgs/mini-software/projects/7/views/1" target="_blank" rel="noopener noreferrer">مشروع MiniAuth.Identify</a></code></pre>

---

Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">Open Ai Tx</a> | Last indexed: 2025-06-11

---</p>
        </div>
        
        <div class="original-link">
            <strong>Original README:</strong> <a href="https://raw.githubusercontent.com/mini-software/MiniAuth/main/README.md" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
    </div>
    
    <div class="footer">
        <p>Translated by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">OpenAiTx</a> | 
        Last updated: 2025-07-24 
    </div>
    
</body>
</html>