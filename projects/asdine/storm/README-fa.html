<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>storm - Read storm documentation in Persian. This project has 2083 stars on GitHub.</title>
    <meta name="description" content="Read storm documentation in Persian. This project has 2083 stars on GitHub.">
    <meta name="keywords" content="storm, Persian, documentation, GitHub, open source">
    <meta name="author" content="OpenAiTx">
    <meta name="robots" content="index, follow">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "storm",
  "description": "Read storm documentation in Persian. This project has 2083 stars on GitHub.",
  "author": {
    "@type": "Person",
    "name": "asdine"
  },
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "ratingCount": 2083
  },
  "url": "https://OpenAiTx.github.io/projects/asdine/storm/README-fa.html",
  "sameAs": "https://raw.githubusercontent.com/asdine/storm/master/README.md",
  "datePublished": "2025-07-24",
  "dateModified": "2025-07-24"
}
    </script>
    
    <!-- GitHub-style CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #24292e;
            background-color: #ffffff;
            max-width: 980px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .container {
            background: #ffffff;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .header {
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        
        .project-title {
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .project-title a {
            color: #24292e;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color 0.2s ease;
        }
        
        .project-title a:hover {
            color: #0366d6;
            text-decoration: none;
        }
        
        .project-title .github-icon {
            width: 1em;
            height: 1em;
            fill: currentColor;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .project-title a:hover .github-icon {
            opacity: 1;
        }
        
        .project-meta {
            color: #586069;
            font-size: 14px;
            margin-bottom: 16px;
        }
        
        .stars {
            display: inline-block;
            margin-right: 16px;
        }
        
        .language {
            display: inline-block;
            background-color: #f1f8ff;
            color: #0366d6;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .content {
            font-size: 16px;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            color: #24292e;
        }
        
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        
        p {
            margin-bottom: 16px;
        }
        
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        
        a {
            color: #0366d6;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        ul, ol {
            margin-bottom: 16px;
            padding-left: 2em;
        }
        
        li {
            margin-bottom: 0.25em;
        }
        
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 1em;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e1e4e8;
            color: #586069;
            font-size: 14px;
            text-align: center;
        }
        
        .footer a {
            color: #0366d6;
        }
        
        .original-link {
            margin-top: 16px;
            padding: 12px;
            background-color: #f6f8fa;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 16px;
            }
            
            .project-title {
                font-size: 1.5em;
            }
        }
    </style>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Bing Count -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sh95yd6uwt");
    </script>        

    <!-- Statcounter -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="project-title">
                <a href="https://github.com/asdine/storm" target="_blank" rel="noopener noreferrer">
                    <svg class="github-icon" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                    </svg>
                    storm
                </a>
            </h1>
            <div class="project-meta">
                <span class="stars">⭐ 2083 stars</span>
                <span class="language">Persian</span>
                <span>by asdine</span>
            </div>
        </div>
        
        <div class="content">
            <h1>Storm</h1></p><p><a href="https://travis-ci.org/asdine/storm" target="_blank" rel="noopener noreferrer"><img src="https://travis-ci.org/asdine/storm.svg" alt="Build Status"></a>
<a href="https://godoc.org/github.com/asdine/storm" target="_blank" rel="noopener noreferrer"><img src="https://godoc.org/github.com/asdine/storm?status.svg" alt="GoDoc"></a></p><p>استورم یک ابزار ساده و قدرتمند برای <a href="https://github.com/coreos/bbolt" target="_blank" rel="noopener noreferrer">BoltDB</a> است. به طور کلی، استورم اندیس‌ها، مجموعه‌ای گسترده از متدها برای ذخیره و واکشی داده‌ها، یک سیستم پرس‌وجوی پیشرفته و امکانات بسیار دیگری را فراهم می‌کند.</p><p>علاوه بر مثال‌های زیر، <a href="https://godoc.org/github.com/asdine/storm#pkg-examples" target="_blank" rel="noopener noreferrer">مثال‌های GoDoc</a> را نیز ببینید.</p><p>_برای پرس‌وجوهای پیشرفته‌تر و پشتیبانی از <a href="https://github.com/dgraph-io/badger" target="_blank" rel="noopener noreferrer">Badger</a>، به <a href="https://github.com/asdine/genji" target="_blank" rel="noopener noreferrer">Genji</a> نیز مراجعه کنید_</p><h2>فهرست مطالب</h2></p><ul><li><a href="#getting-started" target="_blank" rel="noopener noreferrer">شروع کار</a></li>
<li><a href="#import-storm" target="_blank" rel="noopener noreferrer">ایمپورت کردن استورم</a></li>
<li><a href="#open-a-database" target="_blank" rel="noopener noreferrer">باز کردن یک پایگاه داده</a></li>
<li><a href="#simple-crud-system" target="_blank" rel="noopener noreferrer">سیستم CRUD ساده</a></li>
  <li><a href="#declare-your-structures" target="_blank" rel="noopener noreferrer">تعریف ساختارها</a></li>
  <li><a href="#save-your-object" target="_blank" rel="noopener noreferrer">ذخیره شیء خود</a></li>
    <li><a href="#auto-increment" target="_blank" rel="noopener noreferrer">افزایش خودکار</a></li>
  <li><a href="#simple-queries" target="_blank" rel="noopener noreferrer">پرس‌وجوهای ساده</a></li>
    <li><a href="#fetch-one-object" target="_blank" rel="noopener noreferrer">واکشی یک شیء</a></li>
    <li><a href="#fetch-multiple-objects" target="_blank" rel="noopener noreferrer">واکشی چندین شیء</a></li>
    <li><a href="#fetch-all-objects" target="_blank" rel="noopener noreferrer">واکشی همه اشیاء</a></li>
    <li><a href="#fetch-all-objects-sorted-by-index" target="_blank" rel="noopener noreferrer">واکشی همه اشیاء بر اساس اندیس مرتب شده</a></li>
    <li><a href="#fetch-a-range-of-objects" target="_blank" rel="noopener noreferrer">واکشی محدوده‌ای از اشیاء</a></li>
    <li><a href="#fetch-objects-by-prefix" target="_blank" rel="noopener noreferrer">واکشی اشیاء با پیشوند</a></li>
    <li><a href="#skip-limit-and-reverse" target="_blank" rel="noopener noreferrer">Skip، Limit و Reverse</a></li>
    <li><a href="#delete-an-object" target="_blank" rel="noopener noreferrer">حذف یک شیء</a></li>
    <li><a href="#update-an-object" target="_blank" rel="noopener noreferrer">به‌روزرسانی یک شیء</a></li>
    <li><a href="#initialize-buckets-and-indexes-before-saving-an-object" target="_blank" rel="noopener noreferrer">مقدارسازی سطل‌ها و اندیس‌ها پیش از ذخیره شیء</a></li>
    <li><a href="#drop-a-bucket" target="_blank" rel="noopener noreferrer">حذف یک سطل</a></li>
    <li><a href="#re-index-a-bucket" target="_blank" rel="noopener noreferrer">بازسازی اندیس یک سطل</a></li>
  <li><a href="#advanced-queries" target="_blank" rel="noopener noreferrer">پرس‌وجوهای پیشرفته</a></li>
  <li><a href="#transactions" target="_blank" rel="noopener noreferrer">تراکنش‌ها</a></li>
  <li><a href="#options" target="_blank" rel="noopener noreferrer">گزینه‌ها</a></li>
    <li><a href="#boltoptions" target="_blank" rel="noopener noreferrer">BoltOptions</a></li>
    <li><a href="#marshalunmarshaler" target="_blank" rel="noopener noreferrer">MarshalUnmarshaler</a></li>
      <li><a href="#provided-codecs" target="_blank" rel="noopener noreferrer">کدک‌های ارائه شده</a></li>
    <li><a href="#use-existing-bolt-connection" target="_blank" rel="noopener noreferrer">استفاده از اتصال Bolt موجود</a></li>
    <li><a href="#batch-mode" target="_blank" rel="noopener noreferrer">حالت Batch</a></li>
<li><a href="#nodes-and-nested-buckets" target="_blank" rel="noopener noreferrer">گره‌ها و سطل‌های تو در تو</a></li>
  <li><a href="#node-options" target="_blank" rel="noopener noreferrer">گزینه‌های گره</a></li>
<li><a href="#simple-keyvalue-store" target="_blank" rel="noopener noreferrer">ذخیره‌ساز ساده کلید/مقدار</a></li>
<li><a href="#boltdb" target="_blank" rel="noopener noreferrer">BoltDB</a></li>
<li><a href="#license" target="_blank" rel="noopener noreferrer">مجوز</a></li>
<li><a href="#credits" target="_blank" rel="noopener noreferrer">اعتبارات</a></li></p><p></ul><h2>شروع کار</h2></p><pre><code class="language-bash">GO111MODULE=on go get -u github.com/asdine/storm/v3</code></pre></p><h2>ایمپورت کردن استورم</h2></p><pre><code class="language-go">import "github.com/asdine/storm/v3"</code></pre></p><h2>باز کردن یک پایگاه داده</h2></p><p>روش سریع برای باز کردن یک پایگاه داده</p><pre><code class="language-go">db, err := storm.Open("my.db")</p><p>defer db.Close()</code></pre></p><p><code>Open</code> می‌تواند گزینه‌های متعددی برای سفارشی‌سازی نحوه عملکرد دریافت کند. <a href="#options" target="_blank" rel="noopener noreferrer">گزینه‌ها</a> را در ادامه ببینید</p><h2>سیستم CRUD ساده</h2></p><h3>تعریف ساختارها</h3></p><pre><code class="language-go">type User struct {
  ID int // کلید اصلی
  Group string <code>storm:"index"</code> // این فیلد ایندکس خواهد شد
  Email string <code>storm:"unique"</code> // این فیلد با محدودیت یکتا ایندکس خواهد شد
  Name string // این فیلد ایندکس نخواهد شد
  Age int <code>storm:"index"</code>
}</code></pre></p><p>کلید اصلی می‌تواند از هر نوعی باشد به شرط اینکه مقدار صفر نباشد. استورم به دنبال تگ <code>id</code> می‌گردد؛ اگر پیدا نشود به دنبال فیلدی با نام <code>ID</code> می‌گردد.</p><pre><code class="language-go">type User struct {
  ThePrimaryKey string <code>storm:"id"</code>// کلید اصلی
  Group string <code>storm:"index"</code> // این فیلد ایندکس خواهد شد
  Email string <code>storm:"unique"</code> // این فیلد با محدودیت یکتا ایندکس خواهد شد
  Name string // این فیلد ایندکس نخواهد شد
}</code></pre></p><p>استورم تگ‌ها را در ساختارهای تو در تو با تگ <code>inline</code> مدیریت می‌کند</p><pre><code class="language-go">type Base struct {
  Ident bson.ObjectId <code>storm:"id"</code>
}</p><p>type User struct {
  Base      <code>storm:"inline"</code>
  Group     string <code>storm:"index"</code>
  Email     string <code>storm:"unique"</code>
  Name      string
  CreatedAt time.Time <code>storm:"index"</code>
}</code></pre></p><h3>ذخیره شیء خود</h3></p><pre><code class="language-go">user := User{
  ID: 10,
  Group: "staff",
  Email: "john@provider.com",
  Name: "John",
  Age: 21,
  CreatedAt: time.Now(),
}</p><p>err := db.Save(&user)
// err == nil</p><p>user.ID++
err = db.Save(&user)
// err == storm.ErrAlreadyExists</code></pre></p><p>همین.</p><p><code>Save</code> تمام اندیس‌ها و سطل‌های مورد نیاز را ایجاد یا به‌روزرسانی می‌کند، محدودیت‌های یکتا را بررسی کرده و شیء را در فروشگاه ذخیره می‌کند.</p><p>#### افزایش خودکار</p><p>استورم می‌تواند مقادیر عدد صحیح را به صورت خودکار افزایش دهد تا هنگام ذخیره اشیاء نگرانی از این بابت نداشته باشید. همچنین مقدار جدید به طور خودکار در فیلد شما قرار می‌گیرد.</p><pre><code class="language-go">
type Product struct {
  Pk                  int <code>storm:"id,increment"</code> // کلید اصلی با افزایش خودکار
  Name                string
  IntegerField        uint64 <code>storm:"increment"</code>
  IndexedIntegerField uint32 <code>storm:"index,increment"</code>
  UniqueIntegerField  int16  <code>storm:"unique,increment=100"</code> // مقدار اولیه را می‌توان تعیین کرد
}</p><p>p := Product{Name: "Vaccum Cleaner"}</p><p>fmt.Println(p.Pk)
fmt.Println(p.IntegerField)
fmt.Println(p.IndexedIntegerField)
fmt.Println(p.UniqueIntegerField)
// 0
// 0
// 0
// 0</p><p>_ = db.Save(&p)</p><p>fmt.Println(p.Pk)
fmt.Println(p.IntegerField)
fmt.Println(p.IndexedIntegerField)
fmt.Println(p.UniqueIntegerField)
// 1
// 1
// 1
// 100
</code></pre></p><h3>پرس‌وجوهای ساده</h3></p><p>هر شیء، فارغ از ایندکس بودن یا نبودن، قابل واکشی است. استورم در صورت وجود، از اندیس‌ها استفاده می‌کند و در غیر این صورت از <a href="#advanced-queries" target="_blank" rel="noopener noreferrer">سیستم پرس‌وجو</a> بهره می‌برد.</p><p>#### واکشی یک شیء</p><pre><code class="language-go">var user User
err := db.One("Email", "john@provider.com", &user)
// err == nil</p><p>err = db.One("Name", "John", &user)
// err == nil</p><p>err = db.One("Name", "Jack", &user)
// err == storm.ErrNotFound</code></pre></p><p>#### واکشی چندین شیء</p><pre><code class="language-go">var users []User
err := db.Find("Group", "staff", &users)</code></pre>
#### واکشی همه اشیاء</p><pre><code class="language-go">var users []User
err := db.All(&users)</code></pre></p><p>#### واکشی همه اشیاء مرتب‌شده بر اساس ایندکس</p><pre><code class="language-go">var users []User
err := db.AllByIndex("CreatedAt", &users)</code></pre></p><p>#### واکشی محدوده‌ای از اشیاء</p><pre><code class="language-go">var users []User
err := db.Range("Age", 10, 21, &users)</code></pre></p><p>#### واکشی اشیاء بر اساس پیشوند</p><pre><code class="language-go">var users []User
err := db.Prefix("Name", "Jo", &users)</code></pre></p><p>#### رد کردن، محدود کردن و معکوس کردن</p><pre><code class="language-go">var users []User
err := db.Find("Group", "staff", &users, storm.Skip(10))
err = db.Find("Group", "staff", &users, storm.Limit(10))
err = db.Find("Group", "staff", &users, storm.Reverse())
err = db.Find("Group", "staff", &users, storm.Limit(10), storm.Skip(10), storm.Reverse())</p><p>err = db.All(&users, storm.Limit(10), storm.Skip(10), storm.Reverse())
err = db.AllByIndex("CreatedAt", &users, storm.Limit(10), storm.Skip(10), storm.Reverse())
err = db.Range("Age", 10, 21, &users, storm.Limit(10), storm.Skip(10), storm.Reverse())</code></pre></p><p>#### حذف یک شیء</p><pre><code class="language-go">err := db.DeleteStruct(&user)</code></pre></p><p>#### به‌روزرسانی یک شیء</p><pre><code class="language-go">// به‌روزرسانی چندین فیلد
// فقط برای فیلدهایی که مقدار صفر ندارند کار می‌کند (مثلاً Name نمی‌تواند "" باشد، Age نمی‌تواند 0 باشد)
err := db.Update(&User{ID: 10, Name: "Jack", Age: 45})</p><p>// به‌روزرسانی یک فیلد
// برای فیلدهایی با مقدار صفر نیز کار می‌کند (0، false، "" و ...)
err := db.UpdateField(&User{ID: 10}, "Age", 0)</code></pre></p><p>#### مقداردهی اولیه باکت‌ها و ایندکس‌ها قبل از ذخیره یک شیء</p><pre><code class="language-go">err := db.Init(&User{})</code></pre></p><p>مفید هنگام شروع برنامه شما</p><p>#### حذف یک باکت</p><p>با استفاده از ساختار</p><pre><code class="language-go">err := db.Drop(&User)</code></pre></p><p>با استفاده از نام باکت</p><pre><code class="language-go">err := db.Drop("User")</code></pre></p><p>#### بازایندکس کردن یک باکت</p><pre><code class="language-go">err := db.ReIndex(&User{})</code></pre></p><p>مفید هنگامی که ساختار تغییر کرده است</p><h3>کوئری‌های پیشرفته</h3></p><p>برای کوئری‌های پیچیده‌تر، می‌توانید از متد <code>Select</code> استفاده کنید.
<code>Select</code> هر تعداد <a href="https://godoc.org/github.com/asdine/storm/q#Matcher" target="_blank" rel="noopener noreferrer"><code>Matcher</code></a> از پکیج <a href="https://godoc.org/github.com/asdine/storm/q" target="_blank" rel="noopener noreferrer"><code>q</code></a> را می‌پذیرد.</p><p>در اینجا برخی Matcherهای متداول آمده است:</p><pre><code class="language-go">// تساوی
q.Eq("Name", John)</p><p>// بزرگتر به‌صورت سختگیرانه
q.Gt("Age", 7)</p><p>// کوچکتر یا مساوی
q.Lte("Age", 77)</p><p>// رجکس با نامی که با حرف D شروع می‌شود
q.Re("Name", "^D")</p><p>// در میان یک آرایه از مقادیر
q.In("Group", []string{"Staff", "Admin"})</p><p>// مقایسه فیلدها
q.EqF("FieldName", "SecondFieldName")
q.LtF("FieldName", "SecondFieldName")
q.GtF("FieldName", "SecondFieldName")
q.LteF("FieldName", "SecondFieldName")
q.GteF("FieldName", "SecondFieldName")</code></pre></p><p>Matcherها می‌توانند با <code>And</code>، <code>Or</code> و <code>Not</code> ترکیب شوند:</p><pre><code class="language-go">
// اگر همه تطابق داشته باشند
q.And(
  q.Gt("Age", 7),
  q.Re("Name", "^D")
)</p><p>// اگر یکی از آن‌ها تطابق داشته باشد
q.Or(
  q.Re("Name", "^A"),
  q.Not(
    q.Re("Name", "^B")
  ),
  q.Re("Name", "^C"),
  q.In("Group", []string{"Staff", "Admin"}),
  q.And(
    q.StrictEq("Password", []byte(password)),
    q.Eq("Registered", true)
  )
)</code></pre></p><p>می‌توانید لیست کامل را در <a href="https://godoc.org/github.com/asdine/storm/q#Matcher" target="_blank" rel="noopener noreferrer">مستندات</a> پیدا کنید.</p><p><code>Select</code> هر تعداد Matcher را می‌پذیرد و آن‌ها را در یک <code>q.And()</code> قرار می‌دهد، بنابراین لازم نیست آن را مشخص کنید. این متد یک نوع <a href="https://godoc.org/github.com/asdine/storm#Query" target="_blank" rel="noopener noreferrer"><code>Query</code></a> بازمی‌گرداند.</p><pre><code class="language-go">query := db.Select(q.Gte("Age", 7), q.Lte("Age", 77))</code></pre></p><p>نوع <code>Query</code> شامل متدهایی برای فیلتر و مرتب‌سازی رکوردها است.</p><pre><code class="language-go">// محدود کردن
query = query.Limit(10)</p><p>// رد کردن
query = query.Skip(20)</p><p>// می‌توان فراخوانی‌ها را زنجیره کرد
query = query.Limit(10).Skip(20).OrderBy("Age").Reverse()</code></pre></p><p>همچنین برای مشخص کردن نحوه واکشی رکوردها.</p><pre><code class="language-go">var users []User
err = query.Find(&users)</p><p>var user User
err = query.First(&user)</code></pre></p><p>مثال‌هایی با <code>Select</code>:</p><pre><code class="language-go">// یافتن همه کاربران با شناسه بین 10 تا 100
err = db.Select(q.Gte("ID", 10), q.Lte("ID", 100)).Find(&users)</p><p>// Matcherهای تو در تو
err = db.Select(q.Or(
  q.Gt("ID", 50),
  q.Lt("Age", 21),
  q.And(
    q.Eq("Group", "admin"),
    q.Gte("Age", 21),
  ),
)).Find(&users)</p><p>query := db.Select(q.Gte("ID", 10), q.Lte("ID", 100)).Limit(10).Skip(5).Reverse().OrderBy("Age", "Name")</p><p>// یافتن چندین رکورد
err = query.Find(&users)
// یا
err = db.Select(q.Gte("ID", 10), q.Lte("ID", 100)).Limit(10).Skip(5).Reverse().OrderBy("Age", "Name").Find(&users)</code></pre>
<pre><code class="language-go">// یافتن اولین رکورد
err = query.First(&user)
// یا
err = db.Select(q.Gte("ID", 10), q.Lte("ID", 100)).Limit(10).Skip(5).Reverse().OrderBy("Age", "Name").First(&user)</p><p>// حذف تمامی رکوردهای مطابق
err = query.Delete(new(User))</p><p>// دریافت رکوردها به صورت یکی یکی (مفید زمانی که سطل حاوی تعداد زیادی رکورد است)
query = db.Select(q.Gte("ID", 10),q.Lte("ID", 100)).OrderBy("Age", "Name")</p><p>err = query.Each(new(User), func(record interface{}) error) {
  u := record.(*User)
  ...
  return nil
}</code></pre></p><p>برای لیست کامل متدها به <a href="https://godoc.org/github.com/asdine/storm#Query" target="_blank" rel="noopener noreferrer">مستندات</a> مراجعه کنید.</p><h3>تراکنش‌ها</h3></p><pre><code class="language-go">tx, err := db.Begin(true)
if err != nil {
  return err
}
defer tx.Rollback()</p><p>accountA.Amount -= 100
accountB.Amount += 100</p><p>err = tx.Save(accountA)
if err != nil {
  return err
}</p><p>err = tx.Save(accountB)
if err != nil {
  return err
}</p><p>return tx.Commit()</code></pre></p><h3>گزینه‌ها</h3></p><p>گزینه‌های استورم توابعی هستند که هنگام ساخت نمونه‌ی استورم می‌توانید آنها را ارسال کنید. هر تعداد گزینه می‌توانید ارسال نمایید.</p><p>#### BoltOptions</p><p>به طور پیش‌فرض، استورم دیتابیس را با مد <code>0600</code> و تایم‌اوت یک ثانیه باز می‌کند.
می‌توانید این رفتار را با استفاده از <code>BoltOptions</code> تغییر دهید.</p><pre><code class="language-go">db, err := storm.Open("my.db", storm.BoltOptions(0600, &bolt.Options{Timeout: 1 * time.Second}))</code></pre></p><p>#### MarshalUnmarshaler</p><p>برای ذخیره داده‌ها در BoltDB، استورم به طور پیش‌فرض آن را به صورت JSON مارشال می‌کند. اگر می‌خواهید این رفتار را تغییر دهید، می‌توانید یک کدک که <a href="https://godoc.org/github.com/asdine/storm/codec#MarshalUnmarshaler" target="_blank" rel="noopener noreferrer"><code>codec.MarshalUnmarshaler</code></a> را پیاده‌سازی می‌کند از طریق گزینه‌ی <a href="https://godoc.org/github.com/asdine/storm#Codec" target="_blank" rel="noopener noreferrer"><code>storm.Codec</code></a> ارسال کنید:</p><pre><code class="language-go">db := storm.Open("my.db", storm.Codec(myCodec))</code></pre></p><p>##### کدک‌های فراهم‌شده</p><p>شما به راحتی می‌توانید <code>MarshalUnmarshaler</code> خود را پیاده‌سازی کنید، اما استورم به طور پیش‌فرض از <a href="https://godoc.org/github.com/asdine/storm/codec/json" target="_blank" rel="noopener noreferrer">JSON</a> (پیش‌فرض)، <a href="https://godoc.org/github.com/asdine/storm/codec/gob" target="_blank" rel="noopener noreferrer">GOB</a>،  <a href="https://godoc.org/github.com/asdine/storm/codec/sereal" target="_blank" rel="noopener noreferrer">Sereal</a>، <a href="https://godoc.org/github.com/asdine/storm/codec/protobuf" target="_blank" rel="noopener noreferrer">Protocol Buffers</a> و <a href="https://godoc.org/github.com/asdine/storm/codec/msgpack" target="_blank" rel="noopener noreferrer">MessagePack</a> پشتیبانی می‌کند.</p><p>این کدک‌ها را می‌توانید با import کردن پکیج مربوطه و استفاده از آن به عنوان کدک تنظیم Storm استفاده کنید. مثال زیر همه واریانت‌ها را نشان می‌دهد (بدون هندل صحیح خطا):</p><pre><code class="language-go">import (
  "github.com/asdine/storm/v3"
  "github.com/asdine/storm/v3/codec/gob"
  "github.com/asdine/storm/v3/codec/json"
  "github.com/asdine/storm/v3/codec/sereal"
  "github.com/asdine/storm/v3/codec/protobuf"
  "github.com/asdine/storm/v3/codec/msgpack"
)</p><p>var gobDb, _ = storm.Open("gob.db", storm.Codec(gob.Codec))
var jsonDb, _ = storm.Open("json.db", storm.Codec(json.Codec))
var serealDb, _ = storm.Open("sereal.db", storm.Codec(sereal.Codec))
var protobufDb, _ = storm.Open("protobuf.db", storm.Codec(protobuf.Codec))
var msgpackDb, _ = storm.Open("msgpack.db", storm.Codec(msgpack.Codec))</code></pre></p><p><strong>نکته</strong>: افزودن تگ‌های استورم به فایل‌های Protobuf تولید شده می‌تواند دشوار باشد. یک راه حل خوب استفاده از <a href="https://github.com/favadi/protoc-go-inject-tag" target="_blank" rel="noopener noreferrer">این ابزار</a> برای تزریق تگ‌ها هنگام کامپایل است.</p><p>#### استفاده از اتصال موجود Bolt</p><p>می‌توانید از یک اتصال موجود استفاده کرده و آن را به استورم ارسال کنید.</p><pre><code class="language-go">bDB, _ := bolt.Open(filepath.Join(dir, "bolt.db"), 0600, &bolt.Options{Timeout: 10 * time.Second})
db := storm.Open("my.db", storm.UseDB(bDB))</code></pre></p><p>#### حالت Batch</p><p>حالت Batch را می‌توان برای افزایش سرعت نوشتن همزمان فعال کرد (نگاه کنید به <a href="https://github.com/coreos/bbolt#batch-read-write-transactions" target="_blank" rel="noopener noreferrer">Batch read-write transactions</a>)</p><pre><code class="language-go">db := storm.Open("my.db", storm.Batch())</code></pre></p><h2>نودها و باکت‌های تو در تو</h2></p><p>استورم با استفاده از قابلیت nested buckets در BoltDB از طریق <code>storm.Node</code> بهره می‌برد.
یک <code>storm.Node</code> شیء پایه‌ای است که توسط <code>storm.DB</code> برای مدیریت یک باکت استفاده می‌شود.
برای ساخت یک باکت تو در تو و استفاده از همان API مشابه <code>storm.DB</code>، می‌توانید از متد <code>DB.From</code> استفاده کنید.</p><pre><code class="language-go">repo := db.From("repo")</p><p>err := repo.Save(&Issue{
  Title: "I want more features",
  Author: user.ID,
})</p><p>err = repo.Save(newRelease("0.10"))</p><p>var issues []Issue
err = repo.Find("Author", user.ID, &issues)</p><p>var release Release
err = repo.One("Tag", "0.10", &release)</code></pre></p><p>همچنین می‌توانید نودها را به هم زنجیر کنید تا یک سلسله مراتب بسازید</p><pre><code class="language-go">chars := db.From("characters")
heroes := chars.From("heroes")
enemies := chars.From("enemies")</p><p>items := db.From("items")
potions := items.From("consumables").From("medicine").From("potions")</code></pre></p><p>حتی می‌توانید کل سلسله مراتب را به عنوان آرگومان به <code>From</code> ارسال کنید:</p><pre><code class="language-go">privateNotes := db.From("notes", "private")
workNotes :=  db.From("notes", "work")</code></pre></p><h3>گزینه‌های Node</h3></p><p>یک Node را نیز می‌توان پیکربندی کرد. فعال‌سازی یک گزینه روی یک Node باعث ایجاد یک کپی می‌شود، بنابراین یک Node همیشه thread-safe است.</p><pre><code class="language-go">n := db.From("my-node")</code></pre></p><p>دادن یک تراکنش bolt.Tx به Node</p><pre><code class="language-go">n = n.WithTransaction(tx)</code></pre></p><p>فعال کردن حالت batch</p><pre><code class="language-go">n = n.WithBatch(true)</code></pre></p><p>استفاده از یک Codec</p><pre><code class="language-go">n = n.WithCodec(gob.Codec)</code></pre></p><h2>فروشگاه ساده کلید/مقدار</h2></p><p>استورم می‌تواند به عنوان یک فروشگاه کلید/مقدار ساده و مقاوم که می‌تواند هر چیزی را ذخیره کند استفاده شود.
کلید و مقدار می‌توانند از هر نوعی باشند به شرط آنکه کلید مقدار صفر نباشد.</p><p>ذخیره داده:</p><pre><code class="language-go">db.Set("logs", time.Now(), "I'm eating my breakfast man")
db.Set("sessions", bson.NewObjectId(), &someUser)
db.Set("weird storage", "754-3010", map[string]interface{}{
  "hair": "blonde",
  "likes": []string{"cheese", "star wars"},
})</code></pre></p><p>دریافت داده:</p><pre><code class="language-go">user := User{}
db.Get("sessions", someObjectId, &user)</p><p>var details map[string]interface{}
db.Get("weird storage", "754-3010", &details)</code></pre>
db.Get("sessions", someObjectId, &details)
<pre><code class="language-">
حذف داده‌ها:
</code></pre>go
db.Delete("sessions", someObjectId)
db.Delete("weird storage", "754-3010")
<pre><code class="language-">
شما می‌توانید سایر متدهای مفید را در <a href="https://godoc.org/github.com/asdine/storm#KeyValueStore" target="_blank" rel="noopener noreferrer">مستندات</a> پیدا کنید.</p><h2>BoltDB</h2></p><p>BoltDB همچنان به راحتی قابل دسترسی است و می‌توانید مانند گذشته از آن استفاده کنید
</code></pre>go
db.Bolt.View(func(tx *bolt.Tx) error {
  bucket := tx.Bucket([]byte("my bucket"))
  val := bucket.Get([]byte("any id"))
  fmt.Println(string(val))
  return nil
})
<pre><code class="language-">
می‌توانید یک تراکنش را نیز به Storm منتقل کنید
</code></pre>go
db.Bolt.Update(func(tx *bolt.Tx) error {
  ...
  dbx := db.WithTransaction(tx)
  err = dbx.Save(&user)
  ...
  return nil
})
```</p><h2>مجوز</h2></p><p>MIT</p><h2>اعتبارها</h2></p><ul><li><a href="https://github.com/asdine" target="_blank" rel="noopener noreferrer">Asdine El Hrychy</a></li>
<li><a href="https://github.com/bep" target="_blank" rel="noopener noreferrer">Bjørn Erik Pedersen</a></li></p><p>
</ul>---

Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">Open Ai Tx</a> | Last indexed: 2025-06-11

---</p>
        </div>
        
        <div class="original-link">
            <strong>Original README:</strong> <a href="https://raw.githubusercontent.com/asdine/storm/master/README.md" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
    </div>
    
    <div class="footer">
        <p>Translated by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">OpenAiTx</a> | 
        Last updated: 2025-07-24 
    </div>
    
</body>
</html>