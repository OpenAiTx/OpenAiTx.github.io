<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>storm - Read storm documentation in Vietnamese. This project has 2083 stars on GitHub.</title>
    <meta name="description" content="Read storm documentation in Vietnamese. This project has 2083 stars on GitHub.">
    <meta name="keywords" content="storm, Vietnamese, documentation, GitHub, open source">
    <meta name="author" content="OpenAiTx">
    <meta name="robots" content="index, follow">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "storm",
  "description": "Read storm documentation in Vietnamese. This project has 2083 stars on GitHub.",
  "author": {
    "@type": "Person",
    "name": "asdine"
  },
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "ratingCount": 2083
  },
  "url": "https://OpenAiTx.github.io/projects/asdine/storm/README-vi.html",
  "sameAs": "https://raw.githubusercontent.com/asdine/storm/master/README.md",
  "datePublished": "2025-07-24",
  "dateModified": "2025-07-24"
}
    </script>
    
    <!-- GitHub-style CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #24292e;
            background-color: #ffffff;
            max-width: 980px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .container {
            background: #ffffff;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .header {
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        
        .project-title {
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .project-title a {
            color: #24292e;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color 0.2s ease;
        }
        
        .project-title a:hover {
            color: #0366d6;
            text-decoration: none;
        }
        
        .project-title .github-icon {
            width: 1em;
            height: 1em;
            fill: currentColor;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .project-title a:hover .github-icon {
            opacity: 1;
        }
        
        .project-meta {
            color: #586069;
            font-size: 14px;
            margin-bottom: 16px;
        }
        
        .stars {
            display: inline-block;
            margin-right: 16px;
        }
        
        .language {
            display: inline-block;
            background-color: #f1f8ff;
            color: #0366d6;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .content {
            font-size: 16px;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            color: #24292e;
        }
        
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        
        p {
            margin-bottom: 16px;
        }
        
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        
        a {
            color: #0366d6;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        ul, ol {
            margin-bottom: 16px;
            padding-left: 2em;
        }
        
        li {
            margin-bottom: 0.25em;
        }
        
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 1em;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e1e4e8;
            color: #586069;
            font-size: 14px;
            text-align: center;
        }
        
        .footer a {
            color: #0366d6;
        }
        
        .original-link {
            margin-top: 16px;
            padding: 12px;
            background-color: #f6f8fa;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 16px;
            }
            
            .project-title {
                font-size: 1.5em;
            }
        }
    </style>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Bing Count -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sh95yd6uwt");
    </script>        

    <!-- Statcounter -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="project-title">
                <a href="https://github.com/asdine/storm" target="_blank" rel="noopener noreferrer">
                    <svg class="github-icon" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                    </svg>
                    storm
                </a>
            </h1>
            <div class="project-meta">
                <span class="stars">⭐ 2083 stars</span>
                <span class="language">Vietnamese</span>
                <span>by asdine</span>
            </div>
        </div>
        
        <div class="content">
            <h1>Storm</h1></p><p><a href="https://travis-ci.org/asdine/storm" target="_blank" rel="noopener noreferrer"><img src="https://travis-ci.org/asdine/storm.svg" alt="Build Status"></a>
<a href="https://godoc.org/github.com/asdine/storm" target="_blank" rel="noopener noreferrer"><img src="https://godoc.org/github.com/asdine/storm?status.svg" alt="GoDoc"></a></p><p>Storm là một bộ công cụ đơn giản và mạnh mẽ dành cho <a href="https://github.com/coreos/bbolt" target="_blank" rel="noopener noreferrer">BoltDB</a>. Về cơ bản, Storm cung cấp các chỉ mục, nhiều phương thức đa dạng để lưu trữ và truy xuất dữ liệu, một hệ thống truy vấn nâng cao và nhiều hơn nữa.</p><p>Ngoài các ví dụ bên dưới, hãy xem thêm <a href="https://godoc.org/github.com/asdine/storm#pkg-examples" target="_blank" rel="noopener noreferrer">các ví dụ trong GoDoc</a>.</p><p>_Để truy vấn mở rộng và hỗ trợ cho <a href="https://github.com/dgraph-io/badger" target="_blank" rel="noopener noreferrer">Badger</a>, hãy xem thêm <a href="https://github.com/asdine/genji" target="_blank" rel="noopener noreferrer">Genji</a>_</p><h2>Mục lục</h2></p><ul><li><a href="#getting-started" target="_blank" rel="noopener noreferrer">Bắt đầu</a></li>
<li><a href="#import-storm" target="_blank" rel="noopener noreferrer">Nhập Storm</a></li>
<li><a href="#open-a-database" target="_blank" rel="noopener noreferrer">Mở một cơ sở dữ liệu</a></li>
<li><a href="#simple-crud-system" target="_blank" rel="noopener noreferrer">Hệ thống CRUD đơn giản</a></li>
  <li><a href="#declare-your-structures" target="_blank" rel="noopener noreferrer">Khai báo cấu trúc của bạn</a></li>
  <li><a href="#save-your-object" target="_blank" rel="noopener noreferrer">Lưu đối tượng của bạn</a></li>
    <li><a href="#auto-increment" target="_blank" rel="noopener noreferrer">Tự động tăng</a></li>
  <li><a href="#simple-queries" target="_blank" rel="noopener noreferrer">Truy vấn đơn giản</a></li>
    <li><a href="#fetch-one-object" target="_blank" rel="noopener noreferrer">Truy xuất một đối tượng</a></li>
    <li><a href="#fetch-multiple-objects" target="_blank" rel="noopener noreferrer">Truy xuất nhiều đối tượng</a></li>
    <li><a href="#fetch-all-objects" target="_blank" rel="noopener noreferrer">Truy xuất tất cả đối tượng</a></li>
    <li><a href="#fetch-all-objects-sorted-by-index" target="_blank" rel="noopener noreferrer">Truy xuất tất cả đối tượng được sắp xếp theo chỉ mục</a></li>
    <li><a href="#fetch-a-range-of-objects" target="_blank" rel="noopener noreferrer">Truy xuất một dải đối tượng</a></li>
    <li><a href="#fetch-objects-by-prefix" target="_blank" rel="noopener noreferrer">Truy xuất đối tượng theo tiền tố</a></li>
    <li><a href="#skip-limit-and-reverse" target="_blank" rel="noopener noreferrer">Bỏ qua, Giới hạn và Đảo ngược</a></li>
    <li><a href="#delete-an-object" target="_blank" rel="noopener noreferrer">Xóa một đối tượng</a></li>
    <li><a href="#update-an-object" target="_blank" rel="noopener noreferrer">Cập nhật một đối tượng</a></li>
    <li><a href="#initialize-buckets-and-indexes-before-saving-an-object" target="_blank" rel="noopener noreferrer">Khởi tạo bucket và chỉ mục trước khi lưu đối tượng</a></li>
    <li><a href="#drop-a-bucket" target="_blank" rel="noopener noreferrer">Xóa một bucket</a></li>
    <li><a href="#re-index-a-bucket" target="_blank" rel="noopener noreferrer">Tạo lại chỉ mục cho một bucket</a></li>
  <li><a href="#advanced-queries" target="_blank" rel="noopener noreferrer">Truy vấn nâng cao</a></li>
  <li><a href="#transactions" target="_blank" rel="noopener noreferrer">Giao dịch</a></li>
  <li><a href="#options" target="_blank" rel="noopener noreferrer">Tùy chọn</a></li>
    <li><a href="#boltoptions" target="_blank" rel="noopener noreferrer">BoltOptions</a></li>
    <li><a href="#marshalunmarshaler" target="_blank" rel="noopener noreferrer">MarshalUnmarshaler</a></li>
      <li><a href="#provided-codecs" target="_blank" rel="noopener noreferrer">Codec được cung cấp</a></li>
    <li><a href="#use-existing-bolt-connection" target="_blank" rel="noopener noreferrer">Sử dụng kết nối Bolt hiện có</a></li>
    <li><a href="#batch-mode" target="_blank" rel="noopener noreferrer">Chế độ Batch</a></li>
<li><a href="#nodes-and-nested-buckets" target="_blank" rel="noopener noreferrer">Node và bucket lồng nhau</a></li>
  <li><a href="#node-options" target="_blank" rel="noopener noreferrer">Tùy chọn Node</a></li>
<li><a href="#simple-keyvalue-store" target="_blank" rel="noopener noreferrer">Khoá-giá trị đơn giản</a></li>
<li><a href="#boltdb" target="_blank" rel="noopener noreferrer">BoltDB</a></li>
<li><a href="#license" target="_blank" rel="noopener noreferrer">Giấy phép</a></li>
<li><a href="#credits" target="_blank" rel="noopener noreferrer">Công nhận</a></li></p><p></ul><h2>Bắt đầu</h2></p><pre><code class="language-bash">GO111MODULE=on go get -u github.com/asdine/storm/v3</code></pre></p><h2>Nhập Storm</h2></p><pre><code class="language-go">import "github.com/asdine/storm/v3"</code></pre></p><h2>Mở một cơ sở dữ liệu</h2></p><p>Cách nhanh để mở một cơ sở dữ liệu</p><pre><code class="language-go">db, err := storm.Open("my.db")</p><p>defer db.Close()</code></pre></p><p><code>Open</code> có thể nhận nhiều tuỳ chọn để tuỳ chỉnh cách hoạt động. Xem thêm ở phần <a href="#options" target="_blank" rel="noopener noreferrer">Tùy chọn</a> bên dưới</p><h2>Hệ thống CRUD đơn giản</h2></p><h3>Khai báo cấu trúc của bạn</h3></p><pre><code class="language-go">type User struct {
  ID int // khoá chính
  Group string <code>storm:"index"</code> // trường này sẽ được tạo chỉ mục
  Email string <code>storm:"unique"</code> // trường này sẽ được tạo chỉ mục với ràng buộc duy nhất
  Name string // trường này sẽ không được tạo chỉ mục
  Age int <code>storm:"index"</code>
}</code></pre></p><p>Khoá chính có thể là bất kỳ kiểu dữ liệu nào miễn là không phải giá trị zero. Storm sẽ tìm kiếm tag <code>id</code>, nếu không có thì sẽ tìm trường có tên là <code>ID</code>.</p><pre><code class="language-go">type User struct {
  ThePrimaryKey string <code>storm:"id"</code>// khoá chính
  Group string <code>storm:"index"</code> // trường này sẽ được tạo chỉ mục
  Email string <code>storm:"unique"</code> // trường này sẽ được tạo chỉ mục với ràng buộc duy nhất
  Name string // trường này sẽ không được tạo chỉ mục
}</code></pre></p><p>Storm xử lý tag trong các cấu trúc lồng nhau với tag <code>inline</code></p><pre><code class="language-go">type Base struct {
  Ident bson.ObjectId <code>storm:"id"</code>
}</p><p>type User struct {
  Base      <code>storm:"inline"</code>
  Group     string <code>storm:"index"</code>
  Email     string <code>storm:"unique"</code>
  Name      string
  CreatedAt time.Time <code>storm:"index"</code>
}</code></pre></p><h3>Lưu đối tượng của bạn</h3></p><pre><code class="language-go">user := User{
  ID: 10,
  Group: "staff",
  Email: "john@provider.com",
  Name: "John",
  Age: 21,
  CreatedAt: time.Now(),
}</p><p>err := db.Save(&user)
// err == nil</p><p>user.ID++
err = db.Save(&user)
// err == storm.ErrAlreadyExists</code></pre></p><p>Chỉ như vậy thôi.</p><p><code>Save</code> sẽ tạo hoặc cập nhật tất cả chỉ mục và bucket cần thiết, kiểm tra ràng buộc duy nhất và lưu đối tượng vào kho lưu trữ.</p><p>#### Tự động tăng</p><p>Storm có thể tự động tăng giá trị số nguyên nên bạn không cần lo lắng về việc này khi lưu đối tượng. Ngoài ra, giá trị mới cũng sẽ được tự động chèn vào trường của bạn.</p><pre><code class="language-go">
type Product struct {
  Pk                  int <code>storm:"id,increment"</code> // khoá chính với tự động tăng
  Name                string
  IntegerField        uint64 <code>storm:"increment"</code>
  IndexedIntegerField uint32 <code>storm:"index,increment"</code>
  UniqueIntegerField  int16  <code>storm:"unique,increment=100"</code> // có thể đặt giá trị bắt đầu
}</p><p>p := Product{Name: "Vaccum Cleaner"}</p><p>fmt.Println(p.Pk)
fmt.Println(p.IntegerField)
fmt.Println(p.IndexedIntegerField)
fmt.Println(p.UniqueIntegerField)
// 0
// 0
// 0
// 0</p><p>_ = db.Save(&p)</p><p>fmt.Println(p.Pk)
fmt.Println(p.IntegerField)
fmt.Println(p.IndexedIntegerField)
fmt.Println(p.UniqueIntegerField)
// 1
// 1
// 1
// 100
</code></pre></p><h3>Truy vấn đơn giản</h3></p><p>Bất kỳ đối tượng nào cũng có thể được truy xuất, có chỉ mục hoặc không. Storm sẽ sử dụng chỉ mục khi có, nếu không sẽ sử dụng <a href="#advanced-queries" target="_blank" rel="noopener noreferrer">hệ thống truy vấn</a>.</p><p>#### Truy xuất một đối tượng</p><pre><code class="language-go">var user User
err := db.One("Email", "john@provider.com", &user)
// err == nil</p><p>err = db.One("Name", "John", &user)
// err == nil</p><p>err = db.One("Name", "Jack", &user)
// err == storm.ErrNotFound</code></pre></p><p>#### Truy xuất nhiều đối tượng</p><pre><code class="language-go">var users []User
err := db.Find("Group", "staff", &users)</code></pre>
#### Lấy tất cả đối tượng</p><pre><code class="language-go">var users []User
err := db.All(&users)</code></pre></p><p>#### Lấy tất cả đối tượng và sắp xếp theo chỉ mục</p><pre><code class="language-go">var users []User
err := db.AllByIndex("CreatedAt", &users)</code></pre></p><p>#### Lấy một dải đối tượng</p><pre><code class="language-go">var users []User
err := db.Range("Age", 10, 21, &users)</code></pre></p><p>#### Lấy đối tượng theo tiền tố</p><pre><code class="language-go">var users []User
err := db.Prefix("Name", "Jo", &users)</code></pre></p><p>#### Bỏ qua, Giới hạn và Đảo ngược</p><pre><code class="language-go">var users []User
err := db.Find("Group", "staff", &users, storm.Skip(10))
err = db.Find("Group", "staff", &users, storm.Limit(10))
err = db.Find("Group", "staff", &users, storm.Reverse())
err = db.Find("Group", "staff", &users, storm.Limit(10), storm.Skip(10), storm.Reverse())</p><p>err = db.All(&users, storm.Limit(10), storm.Skip(10), storm.Reverse())
err = db.AllByIndex("CreatedAt", &users, storm.Limit(10), storm.Skip(10), storm.Reverse())
err = db.Range("Age", 10, 21, &users, storm.Limit(10), storm.Skip(10), storm.Reverse())</code></pre></p><p>#### Xóa một đối tượng</p><pre><code class="language-go">err := db.DeleteStruct(&user)</code></pre></p><p>#### Cập nhật một đối tượng</p><pre><code class="language-go">// Cập nhật nhiều trường
// Chỉ hoạt động với trường có giá trị khác zero (ví dụ: Name không được là "", Age không được là 0)
err := db.Update(&User{ID: 10, Name: "Jack", Age: 45})</p><p>// Cập nhật một trường đơn lẻ
// Cũng hoạt động với các giá trị zero (0, false, "", ...)
err := db.UpdateField(&User{ID: 10}, "Age", 0)</code></pre></p><p>#### Khởi tạo buckets và indexes trước khi lưu đối tượng</p><pre><code class="language-go">err := db.Init(&User{})</code></pre></p><p>Hữu ích khi bắt đầu ứng dụng của bạn</p><p>#### Xóa một bucket</p><p>Dùng struct</p><pre><code class="language-go">err := db.Drop(&User)</code></pre></p><p>Dùng tên bucket</p><pre><code class="language-go">err := db.Drop("User")</code></pre></p><p>#### Lập chỉ mục lại một bucket</p><pre><code class="language-go">err := db.ReIndex(&User{})</code></pre></p><p>Hữu ích khi cấu trúc đã thay đổi</p><h3>Truy vấn nâng cao</h3></p><p>Đối với các truy vấn phức tạp hơn, bạn có thể sử dụng phương thức <code>Select</code>.
<code>Select</code> nhận vào bất kỳ số lượng <a href="https://godoc.org/github.com/asdine/storm/q#Matcher" target="_blank" rel="noopener noreferrer"><code>Matcher</code></a> nào từ gói <a href="https://godoc.org/github.com/asdine/storm/q" target="_blank" rel="noopener noreferrer"><code>q</code></a>.</p><p>Dưới đây là một số Matcher phổ biến:</p><pre><code class="language-go">// So sánh bằng
q.Eq("Name", John)</p><p>// Lớn hơn một cách nghiêm ngặt
q.Gt("Age", 7)</p><p>// Nhỏ hơn hoặc bằng
q.Lte("Age", 77)</p><p>// Regex với tên bắt đầu bằng chữ D
q.Re("Name", "^D")</p><p>// Trong danh sách giá trị cho trước
q.In("Group", []string{"Staff", "Admin"})</p><p>// So sánh các trường
q.EqF("FieldName", "SecondFieldName")
q.LtF("FieldName", "SecondFieldName")
q.GtF("FieldName", "SecondFieldName")
q.LteF("FieldName", "SecondFieldName")
q.GteF("FieldName", "SecondFieldName")</code></pre></p><p>Matcher cũng có thể kết hợp với <code>And</code>, <code>Or</code> và <code>Not</code>:</p><pre><code class="language-go">
// Khớp nếu tất cả đều khớp
q.And(
  q.Gt("Age", 7),
  q.Re("Name", "^D")
)</p><p>// Khớp nếu một trong các điều kiện khớp
q.Or(
  q.Re("Name", "^A"),
  q.Not(
    q.Re("Name", "^B")
  ),
  q.Re("Name", "^C"),
  q.In("Group", []string{"Staff", "Admin"}),
  q.And(
    q.StrictEq("Password", []byte(password)),
    q.Eq("Registered", true)
  )
)</code></pre></p><p>Bạn có thể tìm danh sách đầy đủ trong <a href="https://godoc.org/github.com/asdine/storm/q#Matcher" target="_blank" rel="noopener noreferrer">tài liệu</a>.</p><p><code>Select</code> nhận bất kỳ số lượng matcher nào và tự động bọc chúng trong một <code>q.And()</code>, vì vậy không cần chỉ định rõ. Nó trả về kiểu <a href="https://godoc.org/github.com/asdine/storm#Query" target="_blank" rel="noopener noreferrer"><code>Query</code></a>.</p><pre><code class="language-go">query := db.Select(q.Gte("Age", 7), q.Lte("Age", 77))</code></pre></p><p>Kiểu <code>Query</code> chứa các phương thức để lọc và sắp xếp bản ghi.</p><pre><code class="language-go">// Giới hạn
query = query.Limit(10)</p><p>// Bỏ qua
query = query.Skip(20)</p><p>// Các lời gọi cũng có thể kết hợp chuỗi
query = query.Limit(10).Skip(20).OrderBy("Age").Reverse()</code></pre></p><p>Ngoài ra còn để chỉ định cách lấy dữ liệu.</p><pre><code class="language-go">var users []User
err = query.Find(&users)</p><p>var user User
err = query.First(&user)</code></pre></p><p>Ví dụ với <code>Select</code>:</p><pre><code class="language-go">// Tìm tất cả người dùng có ID từ 10 đến 100
err = db.Select(q.Gte("ID", 10), q.Lte("ID", 100)).Find(&users)</p><p>// Matcher lồng nhau
err = db.Select(q.Or(
  q.Gt("ID", 50),
  q.Lt("Age", 21),
  q.And(
    q.Eq("Group", "admin"),
    q.Gte("Age", 21),
  ),
)).Find(&users)</p><p>query := db.Select(q.Gte("ID", 10), q.Lte("ID", 100)).Limit(10).Skip(5).Reverse().OrderBy("Age", "Name")</p><p>// Tìm nhiều bản ghi
err = query.Find(&users)
// hoặc
err = db.Select(q.Gte("ID", 10), q.Lte("ID", 100)).Limit(10).Skip(5).Reverse().OrderBy("Age", "Name").Find(&users)</code></pre>
// Tìm bản ghi đầu tiên
err = query.First(&user)
// hoặc
err = db.Select(q.Gte("ID", 10), q.Lte("ID", 100)).Limit(10).Skip(5).Reverse().OrderBy("Age", "Name").First(&user)</p><p>// Xóa tất cả các bản ghi phù hợp
err = query.Delete(new(User))</p><p>// Lấy từng bản ghi một (hữu ích khi bucket chứa nhiều bản ghi)
query = db.Select(q.Gte("ID", 10),q.Lte("ID", 100)).OrderBy("Age", "Name")</p><p>err = query.Each(new(User), func(record interface{}) error) {
  u := record.(*User)
  ...
  return nil
}
<pre><code class="language-">
Xem <a href="https://godoc.org/github.com/asdine/storm#Query" target="_blank" rel="noopener noreferrer">tài liệu</a> để biết danh sách đầy đủ các phương thức.</p><h3>Giao dịch (Transactions)</h3>
</code></pre>go
tx, err := db.Begin(true)
if err != nil {
  return err
}
defer tx.Rollback()</p><p>accountA.Amount -= 100
accountB.Amount += 100</p><p>err = tx.Save(accountA)
if err != nil {
  return err
}</p><p>err = tx.Save(accountB)
if err != nil {
  return err
}</p><p>return tx.Commit()
<pre><code class="language-">
<h3>Tùy chọn (Options)</h3></p><p>Các tùy chọn của Storm là các hàm có thể được truyền vào khi khởi tạo instance Storm của bạn. Bạn có thể truyền vào bất kỳ số lượng tùy chọn nào.</p><p>#### BoltOptions</p><p>Theo mặc định, Storm mở database với chế độ <code>0600</code> và timeout là một giây.
Bạn có thể thay đổi hành vi này bằng cách sử dụng <code>BoltOptions</code>
</code></pre>go
db, err := storm.Open("my.db", storm.BoltOptions(0600, &bolt.Options{Timeout: 1 * time.Second}))
<pre><code class="language-">
#### MarshalUnmarshaler</p><p>Để lưu trữ dữ liệu trong BoltDB, Storm mặc định sẽ marshal nó thành JSON. Nếu bạn muốn thay đổi hành vi này, bạn có thể truyền vào một codec thực hiện <a href="https://godoc.org/github.com/asdine/storm/codec#MarshalUnmarshaler" target="_blank" rel="noopener noreferrer"><code>codec.MarshalUnmarshaler</code></a> thông qua tùy chọn <a href="https://godoc.org/github.com/asdine/storm#Codec" target="_blank" rel="noopener noreferrer"><code>storm.Codec</code></a>:
</code></pre>go
db := storm.Open("my.db", storm.Codec(myCodec))
<pre><code class="language-">
##### Các Codec được cung cấp sẵn</p><p>Bạn có thể dễ dàng tự triển khai <code>MarshalUnmarshaler</code>, nhưng Storm đi kèm hỗ trợ sẵn cho <a href="https://godoc.org/github.com/asdine/storm/codec/json" target="_blank" rel="noopener noreferrer">JSON</a> (mặc định), <a href="https://godoc.org/github.com/asdine/storm/codec/gob" target="_blank" rel="noopener noreferrer">GOB</a>,  <a href="https://godoc.org/github.com/asdine/storm/codec/sereal" target="_blank" rel="noopener noreferrer">Sereal</a>, <a href="https://godoc.org/github.com/asdine/storm/codec/protobuf" target="_blank" rel="noopener noreferrer">Protocol Buffers</a> và <a href="https://godoc.org/github.com/asdine/storm/codec/msgpack" target="_blank" rel="noopener noreferrer">MessagePack</a>.</p><p>Bạn có thể sử dụng bằng cách import package tương ứng và dùng codec đó để cấu hình Storm. Ví dụ dưới đây cho thấy tất cả các biến thể (không xử lý lỗi):
</code></pre>go
import (
  "github.com/asdine/storm/v3"
  "github.com/asdine/storm/v3/codec/gob"
  "github.com/asdine/storm/v3/codec/json"
  "github.com/asdine/storm/v3/codec/sereal"
  "github.com/asdine/storm/v3/codec/protobuf"
  "github.com/asdine/storm/v3/codec/msgpack"
)</p><p>var gobDb, _ = storm.Open("gob.db", storm.Codec(gob.Codec))
var jsonDb, _ = storm.Open("json.db", storm.Codec(json.Codec))
var serealDb, _ = storm.Open("sereal.db", storm.Codec(sereal.Codec))
var protobufDb, _ = storm.Open("protobuf.db", storm.Codec(protobuf.Codec))
var msgpackDb, _ = storm.Open("msgpack.db", storm.Codec(msgpack.Codec))
<pre><code class="language-">
<strong>Mẹo</strong>: Thêm tag Storm vào file Protobuf sinh tự động có thể khó khăn. Một giải pháp tốt là sử dụng <a href="https://github.com/favadi/protoc-go-inject-tag" target="_blank" rel="noopener noreferrer">công cụ này</a> để chèn tag trong quá trình biên dịch.</p><p>#### Sử dụng kết nối Bolt có sẵn</p><p>Bạn có thể sử dụng một kết nối đã có và truyền nó vào Storm
</code></pre>go
bDB, _ := bolt.Open(filepath.Join(dir, "bolt.db"), 0600, &bolt.Options{Timeout: 10 * time.Second})
db := storm.Open("my.db", storm.UseDB(bDB))
<pre><code class="language-">
#### Chế độ batch</p><p>Chế độ batch có thể được bật để tăng tốc ghi đồng thời (xem <a href="https://github.com/coreos/bbolt#batch-read-write-transactions" target="_blank" rel="noopener noreferrer">Batch read-write transactions</a>)
</code></pre>go
db := storm.Open("my.db", storm.Batch())
<pre><code class="language-">
<h2>Node và bucket lồng nhau</h2></p><p>Storm tận dụng tính năng bucket lồng nhau của BoltDB bằng cách sử dụng <code>storm.Node</code>.
Một <code>storm.Node</code> là đối tượng nền được <code>storm.DB</code> sử dụng để thao tác với một bucket.
Để tạo một bucket lồng nhau và sử dụng cùng API như <code>storm.DB</code>, bạn có thể dùng phương thức <code>DB.From</code>.
</code></pre>go
repo := db.From("repo")</p><p>err := repo.Save(&Issue{
  Title: "I want more features",
  Author: user.ID,
})</p><p>err = repo.Save(newRelease("0.10"))</p><p>var issues []Issue
err = repo.Find("Author", user.ID, &issues)</p><p>var release Release
err = repo.One("Tag", "0.10", &release)
<pre><code class="language-">
Bạn cũng có thể nối chuỗi các node để tạo thành một cấu trúc phân cấp
</code></pre>go
chars := db.From("characters")
heroes := chars.From("heroes")
enemies := chars.From("enemies")</p><p>items := db.From("items")
potions := items.From("consumables").From("medicine").From("potions")
<pre><code class="language-">
Bạn thậm chí có thể truyền toàn bộ cấu trúc phân cấp làm đối số cho <code>From</code>:
</code></pre>go
privateNotes := db.From("notes", "private")
workNotes :=  db.From("notes", "work")
<pre><code class="language-">
<h3>Tùy chọn cho Node</h3></p><p>Một Node cũng có thể được cấu hình. Kích hoạt một tùy chọn trên Node sẽ tạo ra một bản sao, do đó Node luôn an toàn cho đa luồng.
</code></pre>go
n := db.From("my-node")
<pre><code class="language-">
Truyền một giao dịch bolt.Tx cho Node
</code></pre>go
n = n.WithTransaction(tx)
<pre><code class="language-">
Bật chế độ batch
</code></pre>go
n = n.WithBatch(true)
<pre><code class="language-">
Sử dụng một Codec
</code></pre>go
n = n.WithCodec(gob.Codec)
<pre><code class="language-">
<h2>Lưu trữ Key/Value đơn giản</h2></p><p>Storm có thể được sử dụng như một kho key/value đơn giản, mạnh mẽ, có thể lưu trữ bất cứ thứ gì.
Key và value có thể thuộc bất kỳ kiểu nào miễn là key không phải là giá trị zero.</p><p>Lưu dữ liệu :
</code></pre>go
db.Set("logs", time.Now(), "I'm eating my breakfast man")
db.Set("sessions", bson.NewObjectId(), &someUser)
db.Set("weird storage", "754-3010", map[string]interface{}{
  "hair": "blonde",
  "likes": []string{"cheese", "star wars"},
})
<pre><code class="language-">
Lấy dữ liệu :
</code></pre>go
user := User{}
db.Get("sessions", someObjectId, &user)</p><p>var details map[string]interface{}
db.Get("weird storage", "754-3010", &details)
<pre><code class="language-">db.Get("sessions", someObjectId, &details)</code></pre></p><p>Xóa dữ liệu :</p><pre><code class="language-go">db.Delete("sessions", someObjectId)
db.Delete("weird storage", "754-3010")</code></pre></p><p>Bạn có thể tìm thấy các phương thức hữu ích khác trong <a href="https://godoc.org/github.com/asdine/storm#KeyValueStore" target="_blank" rel="noopener noreferrer">tài liệu hướng dẫn</a>.</p><h2>BoltDB</h2></p><p>BoltDB vẫn có thể truy cập dễ dàng và có thể sử dụng như thông thường</p><pre><code class="language-go">db.Bolt.View(func(tx *bolt.Tx) error {
  bucket := tx.Bucket([]byte("my bucket"))
  val := bucket.Get([]byte("any id"))
  fmt.Println(string(val))
  return nil
})</code></pre></p><p>Một giao dịch cũng có thể được truyền vào cho Storm</p><pre><code class="language-go">db.Bolt.Update(func(tx *bolt.Tx) error {
  ...
  dbx := db.WithTransaction(tx)
  err = dbx.Save(&user)
  ...
  return nil
})</code></pre></p><h2>Giấy phép</h2></p><p>MIT</p><h2>Công nhận</h2></p><ul><li><a href="https://github.com/asdine" target="_blank" rel="noopener noreferrer">Asdine El Hrychy</a></li>
<li><a href="https://github.com/bep" target="_blank" rel="noopener noreferrer">Bjørn Erik Pedersen</a></li></p><p>
</ul>---

Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">Open Ai Tx</a> | Last indexed: 2025-06-11

---</p>
        </div>
        
        <div class="original-link">
            <strong>Original README:</strong> <a href="https://raw.githubusercontent.com/asdine/storm/master/README.md" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
    </div>
    
    <div class="footer">
        <p>Translated by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">OpenAiTx</a> | 
        Last updated: 2025-07-24 
    </div>
    
</body>
</html>