<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ofetch - Read ofetch documentation in Vietnamese. This project has 4649 stars on GitHub.</title>
    <meta name="description" content="Read ofetch documentation in Vietnamese. This project has 4649 stars on GitHub.">
    <meta name="keywords" content="ofetch, Vietnamese, documentation, GitHub, open source">
    <meta name="author" content="OpenAiTx">
    <meta name="robots" content="index, follow">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "ofetch",
  "description": "Read ofetch documentation in Vietnamese. This project has 4649 stars on GitHub.",
  "author": {
    "@type": "Person",
    "name": "unjs"
  },
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "USD"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "ratingCount": 4649
  },
  "url": "https://OpenAiTx.github.io/projects/unjs/ofetch/README-vi.html",
  "sameAs": "https://raw.githubusercontent.com/unjs/ofetch/main/README.md",
  "datePublished": "2025-07-24",
  "dateModified": "2025-07-24"
}
    </script>
    
    <!-- GitHub-style CSS -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #24292e;
            background-color: #ffffff;
            max-width: 980px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .container {
            background: #ffffff;
            border: 1px solid #e1e4e8;
            border-radius: 6px;
            padding: 24px;
            margin-bottom: 20px;
        }
        
        .header {
            border-bottom: 1px solid #e1e4e8;
            padding-bottom: 16px;
            margin-bottom: 24px;
        }
        
        .project-title {
            font-size: 2em;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .project-title a {
            color: #24292e;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: color 0.2s ease;
        }
        
        .project-title a:hover {
            color: #0366d6;
            text-decoration: none;
        }
        
        .project-title .github-icon {
            width: 1em;
            height: 1em;
            fill: currentColor;
            opacity: 0.7;
            transition: opacity 0.2s ease;
        }
        
        .project-title a:hover .github-icon {
            opacity: 1;
        }
        
        .project-meta {
            color: #586069;
            font-size: 14px;
            margin-bottom: 16px;
        }
        
        .stars {
            display: inline-block;
            margin-right: 16px;
        }
        
        .language {
            display: inline-block;
            background-color: #f1f8ff;
            color: #0366d6;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .content {
            font-size: 16px;
            line-height: 1.6;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-top: 24px;
            margin-bottom: 16px;
            font-weight: 600;
            line-height: 1.25;
            color: #24292e;
        }
        
        h1 { font-size: 2em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h2 { font-size: 1.5em; border-bottom: 1px solid #eaecef; padding-bottom: 0.3em; }
        h3 { font-size: 1.25em; }
        
        p {
            margin-bottom: 16px;
        }
        
        code {
            background-color: #f6f8fa;
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: 0.2em 0.4em;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            font-size: 85%;
            line-height: 1.45;
            overflow: auto;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        pre code {
            background-color: transparent;
            border: 0;
            display: inline;
            line-height: inherit;
            margin: 0;
            overflow: visible;
            padding: 0;
            word-wrap: normal;
        }
        
        a {
            color: #0366d6;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        ul, ol {
            margin-bottom: 16px;
            padding-left: 2em;
        }
        
        li {
            margin-bottom: 0.25em;
        }
        
        blockquote {
            border-left: 4px solid #dfe2e5;
            color: #6a737d;
            margin: 0 0 16px 0;
            padding: 0 1em;
        }
        
        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e1e4e8;
            color: #586069;
            font-size: 14px;
            text-align: center;
        }
        
        .footer a {
            color: #0366d6;
        }
        
        .original-link {
            margin-top: 16px;
            padding: 12px;
            background-color: #f6f8fa;
            border-radius: 6px;
            border: 1px solid #e1e4e8;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 16px;
            }
            
            .project-title {
                font-size: 1.5em;
            }
        }
    </style>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>

    <!-- Bing Count -->
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "sh95yd6uwt");
    </script>        

    <!-- Statcounter -->
    <script type="text/javascript">
        var sc_project = 13142514;
        var sc_invisible = 1;
        var sc_security = "d03a31d8"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/13142514/0/d03a31d8/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>    
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="project-title">
                <a href="https://github.com/unjs/ofetch" target="_blank" rel="noopener noreferrer">
                    <svg class="github-icon" viewBox="0 0 16 16" aria-hidden="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                    </svg>
                    ofetch
                </a>
            </h1>
            <div class="project-meta">
                <span class="stars">⭐ 4649 stars</span>
                <span class="language">Vietnamese</span>
                <span>by unjs</span>
            </div>
        </div>
        
        <div class="content">
            <h1>ofetch</h1></p><p>[![npm version][npm-version-src]][npm-version-href]
[![npm downloads][npm-downloads-src]][npm-downloads-href]
[![bundle][bundle-src]][bundle-href]
[![Codecov][codecov-src]][codecov-href]
[![License][license-src]][license-href]
[![JSDocs][jsdocs-src]][jsdocs-href]</p><p>Một API fetch tốt hơn. Hoạt động trên node, trình duyệt và workers.</p><p><details>
  <summary>Spoiler</summary>
  <img src="https://media.giphy.com/media/Dn1QRA9hqMcoMz9zVZ/giphy.gif">
</details></p><h2>🚀 Bắt Đầu Nhanh</h2></p><p>Cài đặt:</p><pre><code class="language-bash"># npm
npm i ofetch</p><h1>yarn</h1>
yarn add ofetch</code></pre></p><p>Nhập khẩu:</p><pre><code class="language-js">// ESM / Typescript
import { ofetch } from "ofetch";</p><p>// CommonJS
const { ofetch } = require("ofetch");</code></pre></p><h2>✔️ Tương thích với Node.js</h2></p><p>Chúng tôi sử dụng <a href="https://nodejs.org/api/packages.html#packages_conditional_exports" target="_blank" rel="noopener noreferrer">conditional exports</a> để phát hiện Node.js
và tự động sử dụng <a href="https://github.com/unjs/node-fetch-native" target="_blank" rel="noopener noreferrer">unjs/node-fetch-native</a>. Nếu <code>globalThis.fetch</code> khả dụng, nó sẽ được sử dụng thay thế. Để tận dụng API fetch gốc thử nghiệm của Node.js 17.5.0, hãy sử dụng <a href="https://nodejs.org/dist/latest-v17.x/docs/api/cli.html#--experimental-fetch" target="_blank" rel="noopener noreferrer">cờ <code>--experimental-fetch</code></a>.</p><h2>✔️ Phân Tích Phản Hồi</h2></p><p><code>ofetch</code> sẽ tự động phân tích JSON và các giá trị gốc sử dụng <a href="https://github.com/unjs/destr" target="_blank" rel="noopener noreferrer">destr</a>, và sẽ trả về văn bản nếu không phân tích được.</p><pre><code class="language-js">const { users } = await ofetch("/api/users");</code></pre></p><p>Đối với các loại nội dung nhị phân, <code>ofetch</code> sẽ trả về một đối tượng <code>Blob</code>.</p><p>Bạn cũng có thể cung cấp một parser khác thay vì <code>destr</code>, hoặc chỉ định <code>blob</code>, <code>arrayBuffer</code>, hoặc <code>text</code> để ép buộc phân tích nội dung với phương thức tương ứng của <code>FetchResponse</code>.</p><pre><code class="language-js">// Sử dụng JSON.parse
await ofetch("/movie?lang=en", { parseResponse: JSON.parse });</p><p>// Trả về văn bản như nguyên trạng
await ofetch("/movie?lang=en", { parseResponse: (txt) => txt });</p><p>// Lấy phiên bản blob của phản hồi
await ofetch("/api/generate-image", { responseType: "blob" });</code></pre></p><h2>✔️ Thân JSON</h2></p><p>Nếu một đối tượng hoặc một lớp có phương thức <code>.toJSON()</code> được truyền vào tuỳ chọn <code>body</code>, <code>ofetch</code> sẽ tự động chuyển nó thành chuỗi.</p><p><code>ofetch</code> sử dụng <code>JSON.stringify()</code> để chuyển đổi đối tượng được truyền vào. Các lớp không có phương thức <code>.toJSON()</code> cần được chuyển thành giá trị chuỗi trước khi truyền vào tuỳ chọn <code>body</code>.</p><p>Đối với các phương thức yêu cầu <code>PUT</code>, <code>PATCH</code>, và <code>POST</code>, khi một chuỗi hoặc đối tượng được đặt làm thân, <code>ofetch</code> sẽ thêm mặc định các header <code>content-type: "application/json"</code> và <code>accept: "application/json"</code> (bạn luôn có thể ghi đè).</p><p>Ngoài ra, <code>ofetch</code> hỗ trợ phản hồi nhị phân với <code>Buffer</code>, <code>ReadableStream</code>, <code>Stream</code>, và <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch#body" target="_blank" rel="noopener noreferrer">các kiểu thân tương thích</a>. <code>ofetch</code> sẽ tự động đặt tuỳ chọn <code>duplex: "half"</code> để hỗ trợ streaming!</p><p><strong>Ví dụ:</strong></p><pre><code class="language-js">const { users } = await ofetch("/api/users", {
  method: "POST",
  body: { some: "json" },
});</code></pre></p><h2>✔️ Xử Lý Lỗi</h2></p><p><code>ofetch</code> tự động ném lỗi khi <code>response.ok</code> là <code>false</code> với thông báo lỗi thân thiện và stacktrace ngắn gọn (ẩn các phần nội bộ).</p><p>Một thân lỗi đã được phân tích sẽ có trong <code>error.data</code>. Bạn cũng có thể sử dụng kiểu <code>FetchError</code>.</p><pre><code class="language-ts">await ofetch("https://google.com/404");
// FetchError: [GET] "https://google/404": 404 Not Found
//     at async main (/project/playground.ts:4:3)</code></pre></p><p>Để bắt lỗi phản hồi:</p><pre><code class="language-ts">await ofetch("/url").catch((error) => error.data);</code></pre></p><p>Để bỏ qua việc bắt lỗi trạng thái, bạn có thể đặt tùy chọn <code>ignoreResponseError</code>:</p><pre><code class="language-ts">await ofetch("/url", { ignoreResponseError: true });</code></pre></p><h2>✔️ Tự động thử lại (Auto Retry)</h2></p><p><code>ofetch</code> sẽ tự động thử lại yêu cầu nếu xảy ra lỗi và nếu mã trạng thái phản hồi nằm trong danh sách <code>retryStatusCodes</code>:</p><p><strong>Mã trạng thái thử lại:</strong></p><ul><li><code>408</code> - Request Timeout (Hết thời gian yêu cầu)</li>
<li><code>409</code> - Conflict (Xung đột)</li>
<li><code>425</code> - Too Early (<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Early-Data" target="_blank" rel="noopener noreferrer">Thử nghiệm</a>)</li>
<li><code>429</code> - Too Many Requests (Quá nhiều yêu cầu)</li>
<li><code>500</code> - Internal Server Error (Lỗi máy chủ nội bộ)</li>
<li><code>502</code> - Bad Gateway (Cổng xấu)</li>
<li><code>503</code> - Service Unavailable (Dịch vụ không khả dụng)</li>
<li><code>504</code> - Gateway Timeout (Hết thời gian cổng)</li></p><p></ul>Bạn có thể chỉ định số lần thử lại và khoảng thời gian giữa các lần thử bằng các tùy chọn <code>retry</code> và <code>retryDelay</code>, đồng thời truyền vào một mảng mã trạng thái tùy chỉnh bằng tùy chọn <code>retryStatusCodes</code>.</p><p>Mặc định <code>retry</code> là <code>1</code> lần thử lại, ngoại trừ các phương thức <code>POST</code>, <code>PUT</code>, <code>PATCH</code> và <code>DELETE</code> mà <code>ofetch</code> sẽ không thử lại để tránh phát sinh tác dụng phụ. Nếu bạn đặt giá trị tùy chỉnh cho <code>retry</code> thì nó sẽ <strong>luôn thử lại</strong> cho mọi yêu cầu.</p><p>Mặc định <code>retryDelay</code> là <code>0</code> ms.</p><pre><code class="language-ts">await ofetch("http://google.com/404", {
  retry: 3,
  retryDelay: 500, // ms
  retryStatusCodes: [ 404, 500 ], // các mã trạng thái phản hồi sẽ thử lại
});</code></pre></p><h2>✔️ Timeout</h2></p><p>Bạn có thể chỉ định <code>timeout</code> (thời gian chờ) bằng mili giây để tự động hủy một yêu cầu sau khi hết thời gian chờ (mặc định là tắt).</p><pre><code class="language-ts">await ofetch("http://google.com/404", {
  timeout: 3000, // Hủy sau 3 giây
});</code></pre></p><h2>✔️ Hỗ trợ kiểu dữ liệu (Type Friendly)</h2></p><p>Phản hồi có thể được hỗ trợ kiểu dữ liệu:</p><pre><code class="language-ts">const article = await ofetch<Article>(<code>/api/article/${id}</code>);
// Tự động hoàn thành khi làm việc với article.id</code></pre></p><h2>✔️ Thêm <code>baseURL</code></h2></p><p>Bằng cách sử dụng tùy chọn <code>baseURL</code>, <code>ofetch</code> sẽ tự động thêm tiền tố cho các dấu gạch chéo đầu/cuối và các tham số truy vấn cho baseURL sử dụng <a href="https://github.com/unjs/ufo" target="_blank" rel="noopener noreferrer">ufo</a>:</p><pre><code class="language-js">await ofetch("/config", { baseURL });</code></pre></p><h2>✔️ Thêm tham số truy vấn (Query Search Params)</h2></p><p>Bằng cách sử dụng tùy chọn <code>query</code> (hoặc <code>params</code> là bí danh), <code>ofetch</code> sẽ thêm các tham số truy vấn vào URL đồng thời giữ nguyên truy vấn trong chính request đó bằng <a href="https://github.com/unjs/ufo" target="_blank" rel="noopener noreferrer">ufo</a>:</p><pre><code class="language-js">await ofetch("/movie?lang=en", { query: { id: 123 } });</code></pre></p><h2>✔️ Interceptors</h2></p><p>Có thể cung cấp các interceptor bất đồng bộ để can thiệp vào các sự kiện vòng đời của lệnh gọi <code>ofetch</code>.</p><p>Bạn nên sử dụng <code>ofetch.create</code> để cài đặt các interceptor dùng chung.</p><h3><code>onRequest({ request, options })</code></h3></p><p><code>onRequest</code> được gọi ngay khi <code>ofetch</code> được gọi, cho phép bạn chỉnh sửa tùy chọn hoặc thực hiện ghi log đơn giản.</p><pre><code class="language-js">await ofetch("/api", {
  async onRequest({ request, options }) {
    // Ghi log yêu cầu
    console.log("[fetch request]", request, options);</p><p>    // Thêm <code>?t=1640125211170</code> vào tham số truy vấn
    options.query = options.query || {};
    options.query.t = new Date();
  },
});</code></pre></p><h3><code>onRequestError({ request, options, error })</code></h3></p><p><code>onRequestError</code> sẽ được gọi khi yêu cầu fetch thất bại.
<pre><code class="language-js">await ofetch("/api", {
  async onRequestError({ request, options, error }) {
    // Ghi log lỗi
    console.log("[fetch request error]", request, error);
  },
});</code></pre></p><h3><code>onResponse({ request, options, response })</code></h3></p><p><code>onResponse</code> sẽ được gọi sau khi gọi <code>fetch</code> và phân tích body.</p><pre><code class="language-js">await ofetch("/api", {
  async onResponse({ request, response, options }) {
    // Ghi log phản hồi
    console.log("[fetch response]", request, response.status, response.body);
  },
});</code></pre></p><h3><code>onResponseError({ request, options, response })</code></h3></p><p><code>onResponseError</code> giống như <code>onResponse</code> nhưng sẽ được gọi khi fetch xảy ra nhưng <code>response.ok</code> không phải là <code>true</code>.</p><pre><code class="language-js">await ofetch("/api", {
  async onResponseError({ request, response, options }) {
    // Ghi log lỗi
    console.log(
      "[fetch response error]",
      request,
      response.status,
      response.body
    );
  },
});</code></pre></p><h3>Truyền mảng các interceptor</h3></p><p>Nếu cần thiết, bạn cũng có thể truyền một mảng các hàm sẽ được gọi tuần tự.</p><pre><code class="language-js">await ofetch("/api", {
  onRequest: [
    () => {
      /<em> Thực hiện gì đó </em>/
    },
    () => {
      /<em> Thực hiện việc khác </em>/
    },
  ],
});</code></pre></p><h2>✔️ Tạo fetch với tùy chọn mặc định</h2></p><p>Tiện ích này hữu ích nếu bạn cần sử dụng các tùy chọn chung cho nhiều lần gọi fetch.</p><p><strong>Lưu ý:</strong> Tùy chọn mặc định sẽ được nhân bản ở một cấp và kế thừa. Hãy cẩn thận với các tùy chọn lồng nhau như <code>headers</code>.</p><pre><code class="language-js">const apiFetch = ofetch.create({ baseURL: "/api" });</p><p>apiFetch("/test"); // Tương đương với ofetch('/test', { baseURL: '/api' })</code></pre></p><h2>💡 Thêm headers</h2></p><p>Bằng cách sử dụng tùy chọn <code>headers</code>, <code>ofetch</code> sẽ thêm các header bổ sung ngoài các header mặc định của request:</p><pre><code class="language-js">await ofetch("/movies", {
  headers: {
    Accept: "application/json",
    "Cache-Control": "no-cache",
  },
});</code></pre></p><h2>🍣 Truy cập Raw Response</h2></p><p>Nếu bạn cần truy cập phản hồi thô (để lấy headers, v.v), bạn có thể sử dụng <code>ofetch.raw</code>:</p><pre><code class="language-js">const response = await ofetch.raw("/sushi");</p><p>// response._data
// response.headers
// ...</code></pre></p><h2>🌿 Sử dụng Native Fetch</h2></p><p>Để rút ngắn, bạn có thể sử dụng <code>ofetch.native</code> để cung cấp API <code>fetch</code> gốc</p><pre><code class="language-js">const json = await ofetch.native("/sushi").then((r) => r.json());</code></pre>
<pre><code class="language-">
<h2>🕵️ Thêm HTTP(S) Agent</h2></p><p>Trong môi trường Node.js (>= 18), bạn có thể cung cấp một dispatcher tùy chỉnh để chặn các yêu cầu và hỗ trợ các tính năng như Proxy và chứng chỉ tự ký. Tính năng này được kích hoạt bởi <a href="https://undici.nodejs.org/" target="_blank" rel="noopener noreferrer">undici</a> tích hợp sẵn trong Node.js. <a href="https://undici.nodejs.org/#/docs/api/Dispatcher" target="_blank" rel="noopener noreferrer">xem thêm</a> về Dispatcher API.</p><p>Một số agent có sẵn:</p><ul><li><code>ProxyAgent</code>: Một lớp Proxy Agent triển khai Agent API. Nó cho phép kết nối thông qua proxy một cách đơn giản. (<a href="https://undici.nodejs.org/#/docs/api/ProxyAgent" target="_blank" rel="noopener noreferrer">tài liệu</a>)</li>
<li><code>MockAgent</code>: Một lớp Agent giả lập triển khai Agent API. Nó cho phép chặn các yêu cầu HTTP thực hiện qua undici và trả về các phản hồi giả lập thay thế. (<a href="https://undici.nodejs.org/#/docs/api/MockAgent" target="_blank" rel="noopener noreferrer">tài liệu</a>)</li>
<li><code>Agent</code>: Agent cho phép gửi các yêu cầu đến nhiều nguồn gốc khác nhau. (<a href="https://undici.nodejs.org/#/docs/api/Agent" target="_blank" rel="noopener noreferrer">tài liệu</a>)</li></p><p></ul><strong>Ví dụ:</strong> Thiết lập proxy agent cho một yêu cầu:
</code></pre>ts
import { ProxyAgent } from "undici";
import { ofetch } from "ofetch";</p><p>const proxyAgent = new ProxyAgent("http://localhost:3128");
const data = await ofetch("https://icanhazip.com", { dispatcher: proxyAgent });
<pre><code class="language-">
<strong>Ví dụ:</strong> Tạo một instance fetch tùy chỉnh với proxy được bật:
</code></pre>ts
import { ProxyAgent, setGlobalDispatcher } from "undici";
import { ofetch } from "ofetch";</p><p>const proxyAgent = new ProxyAgent("http://localhost:3128");
const fetchWithProxy = ofetch.create({ dispatcher: proxyAgent });</p><p>const data = await fetchWithProxy("https://icanhazip.com");
<pre><code class="language-">
<strong>Ví dụ:</strong> Thiết lập proxy agent cho tất cả các yêu cầu:
</code></pre>ts
import { ProxyAgent, setGlobalDispatcher } from "undici";
import { ofetch } from "ofetch";</p><p>const proxyAgent = new ProxyAgent("http://localhost:3128");
setGlobalDispatcher(proxyAgent);</p><p>const data = await ofetch("https://icanhazip.com");
<pre><code class="language-">
<strong>Ví dụ:</strong> Cho phép sử dụng chứng chỉ tự ký (SỬ DỤNG Ở RỦI RO CỦA BẠN!)
</code></pre>ts
import { ProxyAgent } from "undici";
import { ofetch } from "ofetch";</p><p>// Lưu ý: Điều này làm cho fetch không an toàn trước các tấn công MITM. SỬ DỤNG Ở RỦI RO CỦA BẠN!
const unsecureProxyAgent = new ProxyAgent({ requestTls: { rejectUnauthorized: false } });
const unsecureFetch = ofetch.create({ dispatcher: unsecureProxyAgent });</p><p>const data = await unsecureFetch("https://www.squid-cache.org/");
<pre><code class="language-">
Trên các phiên bản Node.js cũ hơn (<18), bạn cũng có thể sử dụng <code>agent</code>:
</code></pre>ts
import { HttpsProxyAgent } from "https-proxy-agent";</p><p>await ofetch("/api", {
  agent: new HttpsProxyAgent("http://example.com"),
});
<pre><code class="language-">
<h3>Hỗ trợ <code>keepAlive</code> (chỉ hoạt động với Node < 18)</h3></p><p>Bằng cách đặt biến môi trường <code>FETCH_KEEP_ALIVE</code> thành <code>true</code>, một HTTP/HTTPS agent sẽ được đăng ký để giữ các socket ngay cả khi không còn yêu cầu nào, do đó chúng có thể được sử dụng cho các yêu cầu trong tương lai mà không cần thiết lập lại kết nối TCP.</p><p><strong>Lưu ý:</strong> Tùy chọn này có thể gây ra rò rỉ bộ nhớ. Vui lòng kiểm tra <a href="https://github.com/node-fetch/node-fetch/pull/1325" target="_blank" rel="noopener noreferrer">node-fetch/node-fetch#1325</a>.</p><h2>📦 Lưu ý cho Bundler</h2></p><ul><li>Tất cả các target đều được xuất ra với định dạng Module và CommonJS và xuất theo dạng named exports</li>
<li>Không có xuất nào được transpile để giữ cú pháp hiện đại</li>
  <li>Có thể bạn cần transpile các package <code>ofetch</code>, <code>destr</code> và <code>ufo</code> với Babel để hỗ trợ ES5</li>
<li>Bạn cần polyfill biến toàn cục <code>fetch</code> để hỗ trợ các trình duyệt cũ như sử dụng <a href="https://github.com/developit/unfetch" target="_blank" rel="noopener noreferrer">unfetch</a></li></p><p></ul><h2>❓ Câu hỏi thường gặp</h2></p><p><strong>Tại sao export lại là <code>ofetch</code> thay vì <code>fetch</code>?</strong></p><p>Sử dụng cùng tên <code>fetch</code> có thể gây nhầm lẫn vì API khác nhau nhưng về bản chất nó vẫn là fetch nên chọn tên thay thế gần nhất có thể. Tuy nhiên, bạn vẫn có thể import <code>{ fetch }</code> từ <code>ofetch</code> để được tự động polyfill cho Node.js và sử dụng native nếu không phải Node.js.</p><p><strong>Tại sao không có default export?</strong></p><p>Default export luôn có nguy cơ bị trộn lẫn với các export theo kiểu CommonJS.</p><p>Điều này cũng đảm bảo rằng chúng tôi có thể thêm nhiều tiện ích khác mà không làm hỏng package và cũng khuyến khích sử dụng tên <code>ofetch</code>.</p><p><strong>Tại sao không transpile?</strong></p><p>Việc transpile các thư viện đẩy web quay về phía sau với mã nguồn cũ, điều này là không cần thiết với hầu hết người dùng.</p><p>Nếu bạn cần hỗ trợ người dùng cũ, bạn có thể tùy chọn transpile thư viện này trong pipeline build của mình.</code></pre>
<h2>Giấy phép</h2></p><p>MIT. Được tạo ra với 💖</p><p><!-- Badges --></p><p>[npm-version-src]: https://img.shields.io/npm/v/ofetch?style=flat&colorA=18181B&colorB=F0DB4F
[npm-version-href]: https://npmjs.com/package/ofetch
[npm-downloads-src]: https://img.shields.io/npm/dm/ofetch?style=flat&colorA=18181B&colorB=F0DB4F
[npm-downloads-href]: https://npmjs.com/package/ofetch
[codecov-src]: https://img.shields.io/codecov/c/gh/unjs/ofetch/main?style=flat&colorA=18181B&colorB=F0DB4F
[codecov-href]: https://codecov.io/gh/unjs/ofetch
[bundle-src]: https://img.shields.io/bundlephobia/minzip/ofetch?style=flat&colorA=18181B&colorB=F0DB4F
[bundle-href]: https://bundlephobia.com/result?p=ofetch
[license-src]: https://img.shields.io/github/license/unjs/ofetch.svg?style=flat&colorA=18181B&colorB=F0DB4F
[license-href]: https://github.com/unjs/ofetch/blob/main/LICENSE
[jsdocs-src]: https://img.shields.io/badge/jsDocs.io-reference-18181B?style=flat&colorA=18181B&colorB=F0DB4F
[jsdocs-href]: https://www.jsdocs.io/package/ofetch

---

Tranlated By <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">Open Ai Tx</a> | Last indexed: 2025-06-30

---</p>
        </div>
        
        <div class="original-link">
            <strong>Original README:</strong> <a href="https://raw.githubusercontent.com/unjs/ofetch/main/README.md" target="_blank" rel="noopener noreferrer">View on GitHub</a>
        </div>
    </div>
    
    <div class="footer">
        <p>Translated by <a href="https://github.com/OpenAiTx/OpenAiTx" target="_blank" rel="noopener noreferrer">OpenAiTx</a> | 
        Last updated: 2025-07-24 
    </div>
    
</body>
</html>